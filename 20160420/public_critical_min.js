/*product-pattern-dimensionselection V0.2.14 */
var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

productPattern.dimension.variationTreeTraverser = function () {

    'use strict';

    var findDeepestAvailableNodeByDimensionValues = function (variationTree, dimensionValues, hideNotOrderableDimensions) {
            var dimLevel, c,
                currentNode = variationTree,
                foundChild;

            for (dimLevel = 0; dimLevel <= dimensionValues.length; dimLevel++) {
                foundChild = false;
                for (c = 0; c < currentNode.children.length; c++) {
                    var child = currentNode.children[c];
                    if (child.value === dimensionValues[dimLevel] && (child.available || !hideNotOrderableDimensions)) {
                        currentNode = child;
                        foundChild = true;
                        break;
                    }
                }
                if (!foundChild) {
                    break;
                }
            }
            return currentNode;
        },

        findVariationLeafNodeByDimensionValues = function (variationTree, dimensionValues) {
            var i, c, currentNode = variationTree,
                foundChild;
            for (i = 0; i < dimensionValues.length; i++) {
                foundChild = false;
                for (c = 0; c < currentNode.children.length; c++) {
                    if (currentNode.children[c].value === dimensionValues[i]) {
                        currentNode = currentNode.children[c];
                        foundChild = true;
                        break;
                    }
                }
                if (!foundChild) {
                    return null;
                }
            }
            return currentNode;
        },

        findVariationNodeByDimensionValuesDownToCurrentLevel = function (variationTree, dimensionValues, currentLevel) {
            var i, c, currentNode = variationTree,
                foundChild;
            for (i = 0; i <= currentLevel; i++) {
                foundChild = false;
                for (c = 0; c < currentNode.children.length; c++) {
                    if (currentNode.children[c].value === dimensionValues[i]) {
                        currentNode = currentNode.children[c];
                        foundChild = true;
                        break;
                    }
                }
                if (!foundChild) {
                    return null;
                }
            }
            return currentNode;
        },

        /**
         * Diese Methode liefert in nodePath die Liste der Knoten vom Root bis zum passenden Blatt.
         *
         * Diese Methode geht rekursiv durch den übergebenen Restbaum und sucht das Kind, welches zur aktuellen Dimension gehört und fügt
         * es in den Nodepath ein.
         * Die Rekursion endet, sobald keine Kinder mehr übrig sind.
         *
         * Das Resultat (Liste der Knoten vom Root bis zum passenden Blatt) wird in nodePath aggregiert.
         */
        findNodePathInTreeRecursive = function (variationTree, dimensionValuesOfSelectedVariation, currentDimIndex, nodePath) {
            var i,
                currentTreeChild;
            for (i = 0; i < variationTree.children.length; i++) {
                currentTreeChild = variationTree.children[i];
                if (currentTreeChild.value === dimensionValuesOfSelectedVariation[currentDimIndex]) {
                    nodePath.push(currentTreeChild);
                    findNodePathInTreeRecursive(currentTreeChild, dimensionValuesOfSelectedVariation, ++currentDimIndex, nodePath);
                }
            }
        },
        findNodePathInTree = function (tree, dimensionValuesOfSelectedVariation) {
            var nodePath = [];
            findNodePathInTreeRecursive(tree, dimensionValuesOfSelectedVariation, 0, nodePath);
            return nodePath;

        },
        getParentTreeNodeOfGivenDimType = function (dimensionValuesOfSelectedVariation, variationTree, dimType) {
            var currentNodePath = findNodePathInTree(variationTree, dimensionValuesOfSelectedVariation),
                i,
                nodeAboveGivenDimType = variationTree;

            for (i = 0; i < currentNodePath.length; i++) {
                if (currentNodePath[i].dim === dimType) {
                    return nodeAboveGivenDimType;
                }
                nodeAboveGivenDimType = currentNodePath[i];
            }
            return null;
        };

    return {
        findDeepestAvailableNodeByDimensionValues: findDeepestAvailableNodeByDimensionValues,
        findVariationLeafNodeByDimensionValues: findVariationLeafNodeByDimensionValues,
        findVariationNodeByDimensionValuesDownToCurrentLevel: findVariationNodeByDimensionValuesDownToCurrentLevel,
        getParentTreeNodeOfGivenDimType: getParentTreeNodeOfGivenDimType
    };

};


var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

/**
 * Achtung, aktuell liegt dieser Implementierung zugrunde, dass immer erst die cover-Dimension kommt und direkt danach die color-Dimension.
 * @type {{buildCoverColorComboDimensionData}}
 */
productPattern.dimension.coverColorComboRenderPlugin = (function () {
    'use strict';


    var INDEX_FOR_COVER = 0,
        INDEX_FOR_COLOR = 1,
        variationTreeTraverser = productPattern.dimension.variationTreeTraverser(),

        getDistinctColorDimension = function (colorValue, distinctDimension) {
            var i, j;
            for (i = 0; i < distinctDimension.length; i++) {
                var curDistinctDimension = distinctDimension[i];
                if (curDistinctDimension.type !== 'color') {
                    continue;
                }
                for (j = 0; j < curDistinctDimension.values.length; j++) {
                    if (curDistinctDimension.values[j].value === colorValue) {
                        return curDistinctDimension.values[j];
                    }
                }
            }
        },
        markCoverAndColorNodeAsSelected = function (dimensionValuesOfSelectedVariation, coverColorComboDimensionData) {
            var i, j, cover, color;
            for (i = 0; i < coverColorComboDimensionData.cover.length; i++) {
                cover = coverColorComboDimensionData.cover[i];
                if (cover.value === dimensionValuesOfSelectedVariation[INDEX_FOR_COVER]) {
                    cover.selected = true;
                    for (j = 0; j < cover.colors.length; j++) {
                        color = cover.colors[j];
                        if (color.value === dimensionValuesOfSelectedVariation[INDEX_FOR_COLOR]) {
                            color.selected = true;
                        }
                    }
                }
            }
        },

        getBestFittingVariationId = function(coverValue, colorValue, dimensionValuesOfSelectedVariation, displayDimensions, variationTree){
            var deepestAvailableNode,
                dimensionValuesWithReplacedCoverAndColorValues = dimensionValuesOfSelectedVariation.slice();

            dimensionValuesWithReplacedCoverAndColorValues[0] = coverValue;
            dimensionValuesWithReplacedCoverAndColorValues[1] = colorValue;
            deepestAvailableNode = variationTreeTraverser.findDeepestAvailableNodeByDimensionValues(variationTree, dimensionValuesWithReplacedCoverAndColorValues, true);

            return deepestAvailableNode.variationId;
        },

        /**
         * Diese Methode berechnet die Datenstruktur für die CoverColorCombo-Dimensions-Selection.
         * Die Methode erwartet, dass vorher die distinct Dimensions Berechnung durchgeführt wurde.
         */
        buildCoverColorComboDimensionData = function (dimensionValuesOfSelectedVariation, displayDimensions, variationTree) {
            var coverColorComboDimensionData = {cover: []},
                coverParentTreeNode = variationTreeTraverser.getParentTreeNodeOfGivenDimType(dimensionValuesOfSelectedVariation, variationTree, 'cover'),
                coverTreeNode,
                colorTreeNode,
                coverData,
                i, j;

            for (i = 0; i < coverParentTreeNode.children.length; i++) {
                coverTreeNode = coverParentTreeNode.children[i];
                coverData = {
                    value: coverTreeNode.value,
                    colors: []
                };
                for (j = 0; j < coverTreeNode.children.length; j++) {
                    colorTreeNode = coverTreeNode.children[j];
                    var distinctColorDimension = getDistinctColorDimension(colorTreeNode.value, displayDimensions),
                        color = {
                            value: colorTreeNode.value,
                            variationId: getBestFittingVariationId(coverTreeNode.value, colorTreeNode.value, dimensionValuesOfSelectedVariation, displayDimensions, variationTree),
                            available: colorTreeNode.available,
                            selected: false,
                            baseColor: distinctColorDimension.baseColor,
                            colorThumbType: distinctColorDimension.colorThumbType,
                            iconUrl: distinctColorDimension.iconUrl
                        };
                    coverData.colors.push(color);
                }
                coverColorComboDimensionData.cover.push(
                    coverData);
            }
            coverColorComboDimensionData.selectedCover = dimensionValuesOfSelectedVariation[INDEX_FOR_COVER];
            coverColorComboDimensionData.selectedColor = dimensionValuesOfSelectedVariation[INDEX_FOR_COLOR];
            markCoverAndColorNodeAsSelected(dimensionValuesOfSelectedVariation, coverColorComboDimensionData, coverParentTreeNode);
            return coverColorComboDimensionData;
        },

        canRenderDimension = function (displayDimensions, dimIndex) {
            return (displayDimensions.length >= 2 && (dimIndex === INDEX_FOR_COVER || dimIndex === INDEX_FOR_COLOR)) &&
                displayDimensions[INDEX_FOR_COVER].type === 'cover' &&
                displayDimensions[INDEX_FOR_COLOR].type === 'color';
        },

        renderCoverColorComboSelection = function (displayDimensions, variationTree, dimIndex, $rootNode, dimensionValuesOfSelectedVariation) {
            var colorDimIndex = dimIndex + 1,
                mustacheModel = {
                    dimType: 'coverColorCombo',
                    index: colorDimIndex,
                    data: buildCoverColorComboDimensionData(dimensionValuesOfSelectedVariation, displayDimensions, variationTree)
                };

            productPattern.dimension.mustacheRenderer.renderMustacheTemplate("coverColorCombo", mustacheModel, $rootNode);
        },

        renderAndCreateResult = function (displayDimensions, variationTree, dimIndex, $rootNode, dimensionValuesOfSelectedVariation, changeVariationHandler) {
            var $dimensionContainer;
            if (dimIndex === INDEX_FOR_COVER) { // Render only for the cover dimension. The color dimension will be skipped.
                renderCoverColorComboSelection(displayDimensions, variationTree, dimIndex, $rootNode, dimensionValuesOfSelectedVariation);
                $dimensionContainer = $('.js_coverColorCombo[data-indexForSelectorDistinction="' + INDEX_FOR_COLOR + '"]' + ' li', $rootNode);
                $dimensionContainer.on('click', function () {
                    changeVariationHandler($(this));
                });
            }
        };

    return {
        canRenderDimension: canRenderDimension,
        renderAndCreateResult: renderAndCreateResult
    };
}());
var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

productPattern.dimension.displayDimensionsBuilder = (function () {
    "use strict";

    var dimensionsWhichAlwaysShowAllValues = ['size'],

        setDimensionsWhichAlwaysShowAllValues = function (dimensionsWhichAlwaysShowAllValuesParam) {
            dimensionsWhichAlwaysShowAllValues = dimensionsWhichAlwaysShowAllValuesParam;
        },

        setIndexToDimensions = function (displayDimensions) {
            var i;
            for (i = 0; i < displayDimensions.length; i++) {
                displayDimensions[i].index = i;
            }
        },

        getAllTreeNodes = function (remainingTree) {
            var result = [], c;

            if (remainingTree.dim !== 'root') {
                result.push(remainingTree);
            }
            for (c = 0; c < remainingTree.children.length; c++) {
                result.push.apply(result, getAllTreeNodes(remainingTree.children[c]));
            }
            return result;
        },

        getDistinctDimensionValueByTypeAndValue = function (displayDimensions, type, value) {
            var d, v;

            for (d = 0; d < displayDimensions.length; d++) {
                var currentDisplayDimension = displayDimensions[d];
                if (currentDisplayDimension.type === type) {
                    for (v = 0; v < currentDisplayDimension.values.length; v++) {
                        var dimensionValue = currentDisplayDimension.values[v];
                        if (dimensionValue.value === value) {
                            return dimensionValue;
                        }
                    }
                }
            }
            return null;
        },

        /**
         * A dimension value is shown when:
         *  * it is a special always shown dimension
         *  * it is not completely sold out
         *  * it is a value of the initially shown dimension values
         *  * it is explicitely forced not to hide not orderable dimensions (used in the review layer)
         */
        markShownDimensionValues = function (displayDimensions, initialVariationDimensionValues, hideNotOrderableDimensions) {
            var d, v;

            for (d = 0; d < displayDimensions.length; d++) {
                var currentDistinctDimension = displayDimensions[d];
                for (v = 0; v < currentDistinctDimension.values.length; v++) {
                    var dimensionValue = currentDistinctDimension.values[v];
                    var isInitiallySelectedDimensionValue = dimensionValue.value === initialVariationDimensionValues[d];
                    var isDimensionWhichAlwaysShowsAllValues = dimensionsWhichAlwaysShowAllValues.indexOf(currentDistinctDimension.type) > -1;

                    if (isInitiallySelectedDimensionValue || isDimensionWhichAlwaysShowsAllValues || !hideNotOrderableDimensions || !dimensionValue.completelySoldOut) {
                        dimensionValue.showDimension = true;
                    } else {
                        dimensionValue.showDimension = false;
                    }
                }
            }
        },

        markSingleValueDimensions = function (displayDimensions) {
            var i, v,
                countOfShownDimensionValues;
            for (i = 0; i < displayDimensions.length; i++) {
                countOfShownDimensionValues = 0;
                for (v = 0; v < displayDimensions[i].values.length; v++) {
                    if (displayDimensions[i].values[v].showDimension) {
                        countOfShownDimensionValues++;
                    }
                }
                displayDimensions[i].moreThanOneValue = countOfShownDimensionValues > 1;
            }
        },


    // Iterates over all nodes of the variation tree. If there is at least one node found for a given distinct value then the
        // dimension value is not completely sold out
        // e.g.: There is a red node for every size. If the red node is sold out for every size, the completelySoldOut predicate is true.
        markDimensionValuesAsCompletelySoldOut = function (displayDimensions, variationTree) {
            var n, nodes, dimensionValue, soldOut;

            nodes = getAllTreeNodes(variationTree);

            for (n = 0; n < nodes.length; n++) {
                dimensionValue = getDistinctDimensionValueByTypeAndValue(displayDimensions, nodes[n].dim, nodes[n].value);
                soldOut = !nodes[n].available;
                if (dimensionValue.completelySoldOut === undefined) {
                    dimensionValue.completelySoldOut = true;
                }
                dimensionValue.completelySoldOut = dimensionValue.completelySoldOut && soldOut;

            }
        },
        markDimensionsIfImageIsMissing = function (displayDimensions) {
            var i, v,
                isIconThumbTypeMissing;
            for (i = 0; i < displayDimensions.length; i++) {
                isIconThumbTypeMissing = false;
                for (v = 0; v < displayDimensions[i].values.length; v++) {
                    var dimensionValue = displayDimensions[i].values[v];
                    if (dimensionValue.colorThumbType === undefined || dimensionValue[dimensionValue.colorThumbType] === undefined || dimensionValue[dimensionValue.colorThumbType] === null) {
                        isIconThumbTypeMissing = true;
                        break;
                    }
                }
                displayDimensions[i].imageIsMissing = isIconThumbTypeMissing;
            }
        },

        createDisplayDimensions = function (distinctDimensions, variationTree, initialVariationDimensionValues, hideNotOrderableDimensions) {

            var displayDimensions = $.extend(true, [], distinctDimensions);

            if (displayDimensions.length > 0) {
                setIndexToDimensions(displayDimensions);
                markDimensionValuesAsCompletelySoldOut(displayDimensions, variationTree);
                markShownDimensionValues(displayDimensions, initialVariationDimensionValues, hideNotOrderableDimensions);
                markSingleValueDimensions(displayDimensions);
                markDimensionsIfImageIsMissing(displayDimensions);
            }
            return displayDimensions;
        };

    return {
        createDisplayDimensions: createDisplayDimensions,
        testfunctions: {
            setDimensionsWhichAlwaysShowAllValues: setDimensionsWhichAlwaysShowAllValues
        }
    };
})
();

/*global Mustache*/
var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

productPattern.dimension.mustacheRenderer = (function () {
    'use strict';

    function getMustacheTemplateFor(dimension) {
        return productPattern.dimension.templates[dimension];
    }

    function renderMustacheTemplate(templateName, data, $rootNode) {
        var $orderWrapper = $('<div class="' + templateName + data.index + '">'),
            renderedTemplate;

        $rootNode.append($orderWrapper);
        renderedTemplate = Mustache.render(getMustacheTemplateFor(templateName), data);
        $orderWrapper.html(renderedTemplate)
            .children().first().unwrap();
    }


    return {
        renderMustacheTemplate: renderMustacheTemplate
    };

})();

var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

productPattern.dimension.variationSpecificDisplayDimensionsEnricher = (function () {
    'use strict';


    var variationTreeTraverser = productPattern.dimension.variationTreeTraverser(),

        markDimensionValueAsSelected = function (displayDimension, selectedValue) {
            var i;

            displayDimension.selectedValue = null;
            for (i = 0; i < displayDimension.values.length; i++) {
                if (displayDimension.values[i].value === selectedValue) {
                    displayDimension.selectedValue = selectedValue;
                    displayDimension.values[i].selected = true;
                } else {
                    displayDimension.values[i].selected = false;
                }
            }
        },

        getSelectedDimensionValues = function (displayDimensions) {
            var i,
                selectedDimensionValues = [];
            for (i = 0; i < displayDimensions.length; i++) {
                selectedDimensionValues.push(displayDimensions[i].selectedValue);
            }
            return selectedDimensionValues;
        },

        setSelectedValuesForAllTargetDimensionsResettingDifferentValuesExceptSelectedDimension = function (dimensionValuesOfSelectedVariation, displayDimensions,
                                                                                                           selectedDimensionIndex, variationTree, hideNotOrderableDimensions) {
            var i,
                node = variationTreeTraverser.findVariationLeafNodeByDimensionValues(variationTree, dimensionValuesOfSelectedVariation),
                previouslySelectedValues = getSelectedDimensionValues(displayDimensions),
                shouldResetValuesOfUnavailableVar = !node.available && hideNotOrderableDimensions;

            for (i = 0; i < displayDimensions.length; i++) {
                if (selectedDimensionIndex === -1) { // initial selection
                    // Set all values of selectedVariation, regardless of their availability
                    markDimensionValueAsSelected(displayDimensions[i], dimensionValuesOfSelectedVariation[i]);
                } else {
                    if (i > selectedDimensionIndex) {
                        var dimensionValueDiffers = dimensionValuesOfSelectedVariation[i] !== previouslySelectedValues[i];
                        if (dimensionValueDiffers || shouldResetValuesOfUnavailableVar) {
                            markDimensionValueAsSelected(displayDimensions[i], null);
                        } else {
                            markDimensionValueAsSelected(displayDimensions[i], dimensionValuesOfSelectedVariation[i]);
                        }
                    } else {
                        // Dimension values of selected variation always overwrite values from the previously selected variation down to the
                        // actually selected dimension index.
                        // There will be no check of their availability! We assume in case of non initial selection
                        // that the dimensionValuesOfSelectedVariation represent a available variation.
                        // Normal case is that the values in the upper dimensions don't differ.
                        // But if you change to a variation which changes more than one value in the selected and upper dimensions you
                        // don't want to see a resetted dimension value in the upper dimensions due to the difference check.
                        markDimensionValueAsSelected(displayDimensions[i], dimensionValuesOfSelectedVariation[i]);
                    }
                }
            }
        },

        /**
         * Für jeden Dimensionswert wird die am besten passende Ziel-Variations-ID gesetzt.
         * Für jeden Wert wird geprüft, ob es einen verfügbaren Knoten bis zu dessen Dimensionslevel gibt, anderenfalls die ID des
         * nächsthöheren verwendet.
         *
         * Beispiel: [rot, XL]=verfügbar, [rot, XL, lang]=nicht verfügbar.
         *  Die aktuell anzuzeigende Variation sei: [rot, XL, kurz].
         *  Wird in der Schleife der Wert 'lang' geprüft, so wird der Dimensionsknoten [rot, XL, lang] gesucht. Der ist nicht verfügbar,
         *  also wird als deepestAvailableNode der Knoten [rot, XL] zurückgegeben und dessen VariationsId an den Wert für 'lang' geschrieben.
         *
         */
        setTargetVariationIDs = function (displayDimensions, variationTree, dimensionValuesOfSelectedVariation, hideNotOrderableDimensions) {
            var d, v, currentDisplayDimension,
                dimensionValuesWithOneReplacedValue,
                deepestAvailableNode,
                currentValueOfCurrentDimension;

            for (d = 0; d < displayDimensions.length; d++) {
                currentDisplayDimension = displayDimensions[d];
                for (v = 0; v < currentDisplayDimension.values.length; v++) {
                    currentValueOfCurrentDimension = currentDisplayDimension.values[v].value;
                    //Copy Array
                    dimensionValuesWithOneReplacedValue = dimensionValuesOfSelectedVariation.slice();
                    dimensionValuesWithOneReplacedValue[d] = currentValueOfCurrentDimension;
                    deepestAvailableNode = variationTreeTraverser.findDeepestAvailableNodeByDimensionValues(variationTree, dimensionValuesWithOneReplacedValue, hideNotOrderableDimensions);

                    currentDisplayDimension.values[v].variationId = deepestAvailableNode.variationId;
                }
            }
        },
        /**
         * Der Knoten des aktuell betrachteten Wertes in Kombination mit den darüber liegenden Werten der anzuzeigenden Dimension wird auf Verfügbarkeit geprüft.
         *
         * Beispiel: die anzuzeigende Variation ist [rot, L]. Die Funktion wird aufgerufen für den Wert XL der zweiten Dimension.
         *   Es wird jetzt der Knoten [rot, XL] geprüft und abhängig von dessen Verfügbarkeit der Wert XL als en- oder disabled (ausgegraut) markiert.
         */
        markOneDimensionValueAsDisabled = function (dimensionValue, dimensionValuesOfSelectedVariation, displayDimensions, dimIndex, variationTree, hideNotOrderableDimensions, initialVariationDimensionValues, isInitialSelection) {
            var currentValueOfCurrentDimension = dimensionValue.value, node, dimensionValuesWithOneReplacedValue, isInitialDimensionValue, isInitialDimensionValueDuringInitialSelection;

            //Copy Array
            dimensionValuesWithOneReplacedValue = dimensionValuesOfSelectedVariation.slice();
            dimensionValuesWithOneReplacedValue[dimIndex] = currentValueOfCurrentDimension;
            isInitialDimensionValue = initialVariationDimensionValues[dimIndex] === dimensionValue.value;
            isInitialDimensionValueDuringInitialSelection = isInitialDimensionValue && isInitialSelection;
            node = variationTreeTraverser.findVariationNodeByDimensionValuesDownToCurrentLevel(variationTree, dimensionValuesWithOneReplacedValue, dimIndex);
            if (node) {
                // Serverseitig wird an Mittelknoten annotiert (available=true), ob es mind. eine verfügbare Variation in den unteren Ästen gibt.
                if (hideNotOrderableDimensions && !node.available && !isInitialDimensionValueDuringInitialSelection) {
                    dimensionValue.disabled = true;
                } else {
                    dimensionValue.disabled = false;
                }
            } else {
                dimensionValue.disabled = true;
            }
        },
        markDimensionValuesAsDisabled = function (displayDimensions, variationTree, dimensionValuesOfSelectedVariation, hideNotOrderableDimensions, initialVariationDimensionValues, isInitialSelection) {
            var d, v;

            for (d = 0; d < displayDimensions.length; d++) {
                var currentdisplayDimension = displayDimensions[d];
                for (v = 0; v < currentdisplayDimension.values.length; v++) {
                    markOneDimensionValueAsDisabled(currentdisplayDimension.values[v], dimensionValuesOfSelectedVariation, displayDimensions, d, variationTree, hideNotOrderableDimensions, initialVariationDimensionValues, isInitialSelection);
                }
            }

        },

        getUpdatedDims = function (dimensionValuesOfSelectedVariation, selectedDimIndex, displayDimensions, initialVariationDimensionValues, hideNotOrderableDimensions, variationTree) {
               var isInitialSelection = selectedDimIndex === -1;

            if (displayDimensions.length === 0) {
                return displayDimensions; // Produkt ohne Dimensionen.
            }

            setTargetVariationIDs(displayDimensions, variationTree, dimensionValuesOfSelectedVariation, hideNotOrderableDimensions);
            markDimensionValuesAsDisabled(displayDimensions, variationTree, dimensionValuesOfSelectedVariation, hideNotOrderableDimensions, initialVariationDimensionValues, isInitialSelection);
            setSelectedValuesForAllTargetDimensionsResettingDifferentValuesExceptSelectedDimension(dimensionValuesOfSelectedVariation, displayDimensions, selectedDimIndex, variationTree, hideNotOrderableDimensions);

            return displayDimensions;
        };

    return {
        getUpdatedDims: getUpdatedDims,
        testfunctions: {
            setTargetVariationIDs: setTargetVariationIDs}
    };
}());
/*global $ */
var productPattern = window.productPattern || {};
productPattern.dimension = productPattern.dimension || {};

/*jshint latedef: false */
productPattern.dimension.DimensionsSelection = function (config) {
    'use strict';
    var displayDimensions,
        currentBreakPoint,
        currentlySelectedVariationId,
        isInitialVariationChange = true,
        FALLBACK_IF_NO_DIMENSION_MATCHES = 'selectBox';

    function renderMustacheTemplate(templateName, data) {
        productPattern.dimension.mustacheRenderer.renderMustacheTemplate(templateName, data, config.$rootNode);
    }

    function addListenerToTiles($tiles, eventType, subElement) {
        $tiles.on(eventType || 'click', function () {
            changeVariationHandler($(this), subElement);
        });
    }

    function renderDefault(dimensionName, displayDimension) {
        renderMustacheTemplate("dimension", displayDimension);
        addListenerToTiles($('.js_prdPat_' + dimensionName + '[data-indexForSelectorDistinction="' + displayDimension.index + '"]' + ' li', config.$rootNode));
    }

    function renderSelectBox(dimensionName, displayDimension) {
        renderMustacheTemplate("selectBox", displayDimension);
        addListenerToTiles($('.js_prdPat_' + dimensionName + '[data-indexForSelectorDistinction="' + displayDimension.index + '"]' + ' select', config.$rootNode), 'change', 'option:selected');
    }

    function renderColor(dimensionName, displayDimension) {
        renderMustacheTemplate("color", displayDimension);
        addListenerToTiles($('.js_prdPat_' + dimensionName + '[data-indexForSelectorDistinction="' + displayDimension.index + '"]' + ' li', config.$rootNode));
    }

    function renderRadioList(dimensionName, displayDimension) {
        renderMustacheTemplate("radioList", displayDimension);
        addListenerToTiles($('.js_prdPat_' + dimensionName + '[data-indexForSelectorDistinction="' + displayDimension.index + '"]' + ' input', config.$rootNode));
    }

    function renderDimensions(type, displayDimension, dimensionName) {
        switch (type) {
            case 'color':
                renderColor(dimensionName, displayDimension);
                break;
            case 'selectBox':
                renderSelectBox(dimensionName, displayDimension);
                break;
            case 'dimension':
                renderDefault(dimensionName, displayDimension);
                break;
            case 'radioList':
                renderRadioList(dimensionName, displayDimension);
                break;
        }

    }


    function guid() {
        function s4() {
            return Math.floor((1 + Math.random()) * 0x10000)
                .toString(16)
                .substring(1);
        }

        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
            s4() + '-' + s4() + s4() + s4();
    }

    function determineTypeForColor(data, colorDefaultType) {
        var result = colorDefaultType;
        if (data.imageIsMissing) {
            if (!data.moreThanOneValue) {
                result = 'dimension';
            } else {
                result = 'selectBox';
            }
        }
        return result;
    }

    function getTypeForDimensionValuesCount(dimension, breakpoint, count) {
        var dimensionConfig = config.dimensionConfigMap[dimension];
        if (!dimensionConfig || !dimensionConfig.maxItemsForStandard[breakpoint]) {
            return FALLBACK_IF_NO_DIMENSION_MATCHES;
        }
        if (dimensionConfig.maxItemsForStandard[breakpoint] >= count) {
            return dimensionConfig.standard;
        } else {
            return dimensionConfig.fallback;
        }
    }

    function fillDataAndDetermineType(dimensionName, displayDimension) {
        var type;

        type = getTypeForDimensionValuesCount(
            dimensionName,
            currentBreakPoint,
            displayDimension.values.length);


        if (dimensionName === 'color') {
            type = determineTypeForColor(displayDimension, type);
        }
        if (dimensionName === 'unknown') {
            displayDimension.displayName = 'Variante';
        }
        displayDimension.guid = guid();
        return type;
    }

    function resetDimensionContainer() {
        config.$rootNode.html('');
    }

    function findRenderPlugin(dimIndex) {
        var i=0;

        if (!config.renderPlugins) {
            return false;
        }
        for (i=0; i<config.renderPlugins.length; i++) {
            if (config.renderPlugins[i].canRenderDimension(displayDimensions, dimIndex)) {
                return config.renderPlugins[i];
            }
        }
        return null;
    }

    function renderAllDimensionsAndReturnInvalidDimensions(dimensionValuesOfSelectedVariation) {
        var invalidDimensions = [],
            dimensionSelectionType,
            renderPlugin;

        $.each(displayDimensions, function (dimIndex, displayDimension) {
            renderPlugin = findRenderPlugin(dimIndex);
            if (renderPlugin) {
                renderPlugin.renderAndCreateResult(
                    displayDimensions,
                    config.variationTree,
                    dimIndex,
                    config.$rootNode,
                    dimensionValuesOfSelectedVariation,
                    changeVariationHandler);
            } else {
                dimensionSelectionType = fillDataAndDetermineType(displayDimension.type, displayDimension);
                renderDimensions(dimensionSelectionType, displayDimension, displayDimension.type);
            }
            if (!displayDimension.selectedValue) {
                invalidDimensions.push("dim_" + displayDimension.type + "_undefined");
            }
        });
        if (config.callbacks.redrawnCallback) {
            config.callbacks.redrawnCallback(isInitialVariationChange);
        }
        return invalidDimensions;
    }

    function changeVariation(changedDimIndex, idOfSelectedVariation, changedBreakPoint) {
        internalChangeVariation(changedDimIndex, idOfSelectedVariation, changedBreakPoint, false);
    }

    function internalChangeVariation(changedDimIndex, idOfSelectedVariation, changedBreakPoint, changeTriggeredByDimensionsSelection) {
        var invalidDimensions,
            dimensionValuesOfSelectedVariation = config.variationToDimensionValuesMap[idOfSelectedVariation];

        currentlySelectedVariationId = idOfSelectedVariation;
        currentBreakPoint = changedBreakPoint;
        displayDimensions = productPattern.dimension.variationSpecificDisplayDimensionsEnricher.getUpdatedDims(dimensionValuesOfSelectedVariation,
            changedDimIndex,
            config.displayDimensions,
            config.initialVariationDimensionValues,
            true,
            config.variationTree);
        resetDimensionContainer();

        invalidDimensions = renderAllDimensionsAndReturnInvalidDimensions(dimensionValuesOfSelectedVariation);

        if (config.callbacks.variationChangedCallback) {
            config.callbacks.variationChangedCallback(idOfSelectedVariation, changedDimIndex, invalidDimensions, isInitialVariationChange, changeTriggeredByDimensionsSelection);
        }
        isInitialVariationChange = false;
    }

    function changeVariationHandler($element, subElement) {
        var $clickedElement = subElement ? $element.find(subElement) : $element,
            dimIndex,
            variationId;

        if (!$clickedElement.hasClass('js_prdPat_dimensionDisabled')) {
            dimIndex = $clickedElement.data('dimindex');
            variationId = $clickedElement.data('variationid');
            internalChangeVariation(dimIndex, variationId, currentBreakPoint, true);
        }
    }

    function breakPointChanged(changedBreakPoint) {
        currentBreakPoint = changedBreakPoint;
        resetDimensionContainer();
        renderAllDimensionsAndReturnInvalidDimensions(config.variationToDimensionValuesMap[currentlySelectedVariationId]);
    }

    function setCurrentBreakpointForTesting(breakPoint) {
        currentBreakPoint = breakPoint;
    }

    return {
        type: "DimensionsSelection",
        changeVariation: changeVariation,
        breakPointChanged: breakPointChanged,
        testFunctions: {
            determineTypeForColor: determineTypeForColor,
            renderDimensions: renderDimensions,
            fillDataAndDetermineType: fillDataAndDetermineType,
            setCurrentBreakpointForTesting: setCurrentBreakpointForTesting
        }
    };
};
productPattern.dimension.templates = {
    "color" : '<div class="js_prdPat_{{type}} prdPat_color prdPat_dimProperty" data-indexForSelectorDistinction="{{index}}" data-qa-dimension=""><div class="prdPat_label{{^moreThanOneValue}} prdPat_label--withoutMarginBottom{{/moreThanOneValue}}" data-qa="dimensionLabel">{{displayName}}: <span class="prdPat_selectedValue{{^selectedValue}} prdPat_pleaseSelectDimension{{/selectedValue}}">{{selectedValue}}{{^selectedValue}}Bitte wählen{{/selectedValue}}</span></div>{{#moreThanOneValue}}<div><ul class="p_selTiles50 prdPat_clearfix">{{#values}}{{#showDimension}}<li class="colorThumb{{#selected}} p_selected{{/selected}}{{#disabled}} js_prdPat_dimensionDisabled prdPat_disabled{{/disabled}}{{#iconUrl}} prdPat_notABaseColor{{/iconUrl}}{{^iconUrl}} {{baseColor}}{{/iconUrl}}"{{#iconUrl}} style="background-image: url({{iconUrl}})"{{/iconUrl}}title="{{value}}"data-variationId="{{variationId}}"data-dimindex="{{index}}"></li>{{/showDimension}}{{/values}}</ul></div>{{/moreThanOneValue}}</div><div class="prdPat_clear"></div>',"coverColorCombo" : '<div class="js_{{dimType}} prdPat_dimProperty" data-indexForSelectorDistinction="{{index}}" data-qa-dimension=""><div class="prdPat_label prdPat_label--withoutMarginBottom" data-qa="dimensionLabel"><div class="js_prdPat_cover prdPat_label__line">Bezug: <span class="prdPat_selectedValue">{{data.selectedCover}}</span></div><div class="js_prdPat_color prdPat_label__line">Farbe: <span class="prdPat_selectedValue">{{data.selectedColor}}</span></div></div><div class="prdPat_comboDims">{{#data.cover}}<div class="prdPat_comboDims__item"><div class="prdPat_comboDims__value {{#selected}} prdPat_comboDims__value--selected{{/selected}}">{{value}}</div><div class="prdPat_comboDims__options"><ul class="p_selTiles50">{{#colors}}{{#available}}<li class="colorThumb{{#selected}} p_selected{{/selected}}{{#disabled}} js_dimensionDisabled disabled{{/disabled}} {{#iconUrl}}prdPat_notABaseColor{{/iconUrl}}{{^iconUrl}}{{baseColor}}{{/iconUrl}}"{{#iconUrl}}style="background-image: url({{iconUrl}})"{{/iconUrl}}title="{{value}}"data-variationId="{{variationId}}"data-dimindex="{{index}}"><!--div class="colorThumb ></div--></li>{{/available}}{{/colors}}</ul></div></div>{{/data.cover}}</div></div><div class="clear"></div>',"dimension" : '<div class="js_prdPat_{{type}} prdPat_dimProperty" data-indexForSelectorDistinction="{{index}}" data-qa-dimension=""><div class="prdPat_label{{^moreThanOneValue}} prdPat_label--withoutMarginBottom{{/moreThanOneValue}}" data-qa="dimensionLabel">{{displayName}}: <span class="prdPat_selectedValue{{^selectedValue}} prdPat_pleaseSelectDimension{{/selectedValue}}">{{selectedValue}}{{^selectedValue}}Bitte wählen{{/selectedValue}}</span></div><div>{{#moreThanOneValue}}<ul class="prdPat_clearfix p_selTiles50">{{#values}}{{#showDimension}}<li class="{{#selected}}p_selected{{/selected}} {{#disabled}}p_disabled js_prdPat_dimensionDisabled{{/disabled}}" title="{{value}}" data-variationId="{{variationId}}" data-dimindex="{{index}}">{{value}}</li>{{/showDimension}}{{/values}}</ul>{{/moreThanOneValue}}</div></div><div class="prdPat_clear"></div>',"radioList" : '<div class="js_prdPat_{{type}} prdPat_radioListDim prdPat_guarantee" data-indexForSelectorDistinction="{{index}}" data-qa-dimension="">{{^selectedValue}}<p class="prdPat_label{{^moreThanOneValue}} prdPat_label--withoutMarginBottom{{/moreThanOneValue}}" data-qa="dimensionLabel"><span class="prdPat_selectedValue prdPat_pleaseSelectDimension">Bitte wählen</span></p>{{/selectedValue}}{{#moreThanOneValue}}<ul>{{#values}}{{#showDimension}}<li><input class="p_form__input{{#disabled}} js_prdPat_dimensionDisabled{{/disabled}}" type="radio" id="{{type}}-{{variationId}}-{{guid}}" name="{{type}}-{{guid}}" value="{{value}}" data-variationId="{{variationId}}" data-dimindex="{{index}}" {{#selected}}checked="checked"{{/selected}} {{#disabled}}disabled{{/disabled}}> <label class="p_form__label{{#disabled}} p_form__label--disabled{{/disabled}}" for="{{type}}-{{variationId}}-{{guid}}">{{value}}</label></li>{{/showDimension}}{{/values}}</ul>{{/moreThanOneValue}}{{^moreThanOneValue}}{{#values}}{{#showDimension}}<span>{{value}} </span>{{/showDimension}}{{/values}}{{/moreThanOneValue}}</div>',"selectBox" : '<div class="js_prdPat_{{type}} prdPat_selectBox" data-indexForSelectorDistinction="{{index}}" data-qa-dimension=""><div class="prdPat_label{{^moreThanOneValue}} prdPat_label--withoutMarginBottom{{/moreThanOneValue}}" data-qa="dimensionLabel">{{displayName}}: <span class="prdPat_selectedValue{{^selectedValue}} prdPat_pleaseSelectDimension{{/selectedValue}}">{{selectedValue}}{{^selectedValue}}Bitte wählen{{/selectedValue}}</span></div>{{#moreThanOneValue}}<select class="p_form__select"><option class="p_form__option" disabled="disabled" {{^selectedValue}}selected="selected"{{/selectedValue}} value="false">Bitte wählen</option>{{#values}}{{#showDimension}}<option class="p_form__option"{{#disabled}} disabled="disabled"{{/disabled}}{{#selected}} selected="selected"{{/selected}} title="{{value}}" data-variationId="{{variationId}}" data-dimindex="{{index}}">{{value}}</option>{{/showDimension}}{{/values}}</select>{{/moreThanOneValue}}</div><div class="prdPat_clear"></div>',
    "done": "true"
  };
/**
 * @preserve Copyright 2012 Twitter, Inc.
 * @license http://www.apache.org/licenses/LICENSE-2.0.txt
 */
var Hogan={};!function(t){function n(t,n,e){var i;return n&&"object"==typeof n&&(void 0!==n[t]?i=n[t]:e&&n.get&&"function"==typeof n.get&&(i=n.get(t))),i}function e(t,n,e,i,r,s){function a(){}function o(){}a.prototype=t,o.prototype=t.subs;var u,c=new a;c.subs=new o,c.subsText={},c.buf="",i=i||{},c.stackSubs=i,c.subsText=s;for(u in n)i[u]||(i[u]=n[u]);for(u in i)c.subs[u]=i[u];r=r||{},c.stackPartials=r;for(u in e)r[u]||(r[u]=e[u]);for(u in r)c.partials[u]=r[u];return c}function i(t){return String(null===t||void 0===t?"":t)}function r(t){return t=i(t),l.test(t)?t.replace(s,"&amp;").replace(a,"&lt;").replace(o,"&gt;").replace(u,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,n,e,i){t=t||{},this.r=t.code||this.r,this.c=e,this.options=i||{},this.text=n||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(){return""},v:r,t:i,render:function(t,n,e){return this.ri([t],n||{},e)},ri:function(t,n,e){return this.r(t,n,e)},ep:function(t,n){var i=this.partials[t],r=n[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,i.subs){n.stackText||(n.stackText={});for(key in i.subs)n.stackText[key]||(n.stackText[key]=void 0!==this.activeSub&&n.stackText[this.activeSub]?n.stackText[this.activeSub]:this.text);r=e(r,i.subs,i.partials,this.stackSubs,this.stackPartials,n.stackText)}return this.partials[t].instance=r,r},rp:function(t,n,e,i){var r=this.ep(t,e);return r?r.ri(n,e,i):""},rs:function(t,n,e){var i=t[t.length-1];if(!f(i))return void e(t,n,this);for(var r=0;r<i.length;r++)t.push(i[r]),e(t,n,this),t.pop()},s:function(t,n,e,i,r,s,a){var o;return f(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,n,e,i,r,s,a)),o=!!t,!i&&o&&n&&n.push("object"==typeof t?t:n[n.length-1]),o)},d:function(t,e,i,r){var s,a=t.split("."),o=this.f(a[0],e,i,r),u=this.options.modelGet,c=null;if("."===t&&f(e[e.length-2]))o=e[e.length-1];else for(var l=1;l<a.length;l++)s=n(a[l],o,u),void 0!==s?(c=o,o=s):o="";return r&&!o?!1:(r||"function"!=typeof o||(e.push(c),o=this.mv(o,e,i),e.pop()),o)},f:function(t,e,i,r){for(var s=!1,a=null,o=!1,u=this.options.modelGet,c=e.length-1;c>=0;c--)if(a=e[c],s=n(t,a,u),void 0!==s){o=!0;break}return o?(r||"function"!=typeof s||(s=this.mv(s,e,i)),s):r?!1:""},ls:function(t,n,e,r,s){var a=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(i(t.call(n,r)),n,e)),this.options.delimiters=a,!1},ct:function(t,n,e){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(n,e)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,n,e,i,r,s,a){var o,u=n[n.length-1],c=t.call(u);return"function"==typeof c?i?!0:(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,u,e,o.substring(r,s),a)):c},mv:function(t,n,e){var r=n[n.length-1],s=t.call(r);return"function"==typeof s?this.ct(i(s.call(r)),r,e):s},sub:function(t,n,e,i){var r=this.subs[t];r&&(this.activeSub=t,r(n,e,this,i),this.activeSub=!1)}};var s=/&/g,a=/</g,o=/>/g,u=/\'/g,c=/\"/g,l=/[&<>\"\']/,f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function n(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function e(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,n,e){if(n.charAt(e)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(n.charAt(e+i)!=t.charAt(i))return!1;return!0}function r(n,e,i,o){var u=[],c=null,l=null,f=null;for(l=i[i.length-1];n.length>0;){if(f=n.shift(),l&&"<"==l.tag&&!(f.tag in k))throw new Error("Illegal content in < super tag.");if(t.tags[f.tag]<=t.tags.$||s(f,o))i.push(f),f.nodes=r(n,f.tag,i,o);else{if("/"==f.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+f.n);if(c=i.pop(),f.n!=c.n&&!a(f.n,c.n,o))throw new Error("Nesting error: "+c.n+" vs. "+f.n);return c.end=f.i,u}"\n"==f.tag&&(f.last=0==n.length||"\n"==n[0].tag)}u.push(f)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return u}function s(t,n){for(var e=0,i=n.length;i>e;e++)if(n[e].o==t.n)return t.tag="#",!0}function a(t,n,e){for(var i=0,r=e.length;r>i;i++)if(e[i].c==t&&e[i].o==n)return!0}function o(t){var n=[];for(var e in t)n.push('"'+c(e)+'": function(c,p,t,i) {'+t[e]+"}");return"{ "+n.join(",")+" }"}function u(t){var n=[];for(var e in t.partials)n.push('"'+c(e)+'":{name:"'+c(t.partials[e].name)+'", '+u(t.partials[e])+"}");return"partials: {"+n.join(",")+"}, subs: "+o(t.subs)}function c(t){return t.replace(m,"\\\\").replace(v,'\\"').replace(b,"\\n").replace(d,"\\r").replace(x,"\\u2028").replace(w,"\\u2029")}function l(t){return~t.indexOf(".")?"d":"f"}function f(t,n){var e="<"+(n.prefix||""),i=e+t.n+y++;return n.partials[i]={name:t.n,partials:{}},n.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(t.indent||"")+'"));',i}function h(t,n){n.code+="t.b(t.t(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var g=/\S/,v=/\"/g,b=/\n/g,d=/\r/g,m=/\\/g,x=/\u2028/,w=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(r,s){function a(){m.length>0&&(x.push({tag:"_t",text:new String(m)}),m="")}function o(){for(var n=!0,e=y;e<x.length;e++)if(n=t.tags[x[e].tag]<t.tags._v||"_t"==x[e].tag&&null===x[e].text.match(g),!n)return!1;return n}function u(t,n){if(a(),t&&o())for(var e,i=y;i<x.length;i++)x[i].text&&((e=x[i+1])&&">"==e.tag&&(e.indent=x[i].text.toString()),x.splice(i,1));else n||x.push({tag:"\n"});w=!1,y=x.length}function c(t,n){var i="="+S,r=t.indexOf(i,n),s=e(t.substring(t.indexOf("=",n)+1,r)).split(" ");return T=s[0],S=s[s.length-1],r+i.length-1}var l=r.length,f=0,h=1,p=2,v=f,b=null,d=null,m="",x=[],w=!1,k=0,y=0,T="{{",S="}}";for(s&&(s=s.split(" "),T=s[0],S=s[1]),k=0;l>k;k++)v==f?i(T,r,k)?(--k,a(),v=h):"\n"==r.charAt(k)?u(w):m+=r.charAt(k):v==h?(k+=T.length-1,d=t.tags[r.charAt(k+1)],b=d?r.charAt(k+1):"_v","="==b?(k=c(r,k),v=f):(d&&k++,v=p),w=k):i(S,r,k)?(x.push({tag:b,n:e(m),otag:T,ctag:S,i:"/"==b?w-T.length:k+S.length}),m="",k+=S.length-1,v=f,"{"==b&&("}}"==S?k++:n(x[x.length-1]))):m+=r.charAt(k);return u(w,!0),x};var k={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(n){return"{code: function (c,p,i) { "+t.wrapMain(n.code)+" },"+u(n)+"}"};var y=0;t.generate=function(n,e,i){y=0;var r={code:"",subs:{},partials:{}};return t.walk(n,r),i.asString?this.stringify(r,e,i):this.makeTemplate(r,e,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,n,e){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,n,this,e)},t.makePartials=function(t){var n,e={subs:{},partials:t.partials,name:t.name};for(n in e.partials)e.partials[n]=this.makePartials(e.partials[n]);for(n in t.subs)e.subs[n]=new Function("c","p","t","i",t.subs[n]);return e},t.codegen={"#":function(n,e){e.code+="if(t.s(t."+l(n.n)+'("'+c(n.n)+'",c,p,1),c,p,0,'+n.i+","+n.end+',"'+n.otag+" "+n.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(n.nodes,e),e.code+="});c.pop();}"},"^":function(n,e){e.code+="if(!t.s(t."+l(n.n)+'("'+c(n.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(n.nodes,e),e.code+="};"},">":f,"<":function(n,e){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(n.nodes,i);var r=e.partials[f(n,e)];r.subs=i.subs,r.partials=i.partials},$:function(n,e){var i={subs:{},code:"",partials:e.partials,prefix:n.n};t.walk(n.nodes,i),e.subs[n.n]=i.code,e.inPartial||(e.code+='t.sub("'+c(n.n)+'",c,p,i);')},"\n":function(t,n){n.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,n){n.code+="t.b(t.v(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,n){n.code+=p('"'+c(t.text)+'"')},"{":h,"&":h},t.walk=function(n,e){for(var i,r=0,s=n.length;s>r;r++)i=t.codegen[n[r].tag],i&&i(n[r],e);return e},t.parse=function(t,n,e){return e=e||{},r(t,"",[],e.sectionTags||[])},t.cache={},t.cacheKey=function(t,n){return[t,!!n.asString,!!n.disableLambda,n.delimiters,!!n.modelGet].join("||")},t.compile=function(n,e){e=e||{};var i=t.cacheKey(n,e),r=this.cache[i];if(r){var s=r.partials;for(var a in s)delete s[a].instance;return r}return r=this.generate(this.parse(this.scan(n,e.delimiters),n,e),n,e),this.cache[i]=r}}("undefined"!=typeof exports?exports:Hogan);


var o_san = window.o_san||{};o_san.sanTplPublic = o_san.sanTplPublic||{};o_san.sanTplPublic["offcanvas_sub"] = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("menuSubItems",c,p,1),c,p,0,18,524,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <ul>");t.b("\n" + i);if(t.s(t.f("children",c,p,1),c,p,0,46,300,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.d(".",c,p,1),c,p,0,62,288,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("link",c,p,1),c,p,0,85,269,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <li class=\"subItem");if(t.s(t.f("isSelected",c,p,1),c,p,0,131,140,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" selected");});c.pop();}t.b("\">");t.b("\n" + i);t.b("                <a href=\"");t.b(t.v(t.f("href",c,p,0)));t.b("\" data-tracking=\"");t.b(t.v(t.f("trackingKey",c,p,0)));t.b("\">");t.b(t.v(t.f("name",c,p,0)));t.b("</a>");t.b("\n" + i);t.b("            </li>");t.b("\n" + i);});c.pop();}});c.pop();}});c.pop();}if(t.s(t.f("link",c,p,1),c,p,0,329,503,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <li class=\"subItem");if(t.s(t.f("isSelected",c,p,1),c,p,0,371,380,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" selected");});c.pop();}t.b("\">");t.b("\n" + i);t.b("            <a href=\"");t.b(t.v(t.f("href",c,p,0)));t.b("\" data-tracking=\"");t.b(t.v(t.f("trackingKey",c,p,0)));t.b("\">");t.b(t.v(t.f("name",c,p,0)));t.b(" entdecken</a>");t.b("\n" + i);t.b("        </li>");t.b("\n" + i);});c.pop();}t.b("    </ul>");t.b("\n" + i);});c.pop();}return t.fl(); },partials: {}, subs: {  }});o_san.sanTplPublic["offcanvas_column"] = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("link",c,p,1),c,p,0,10,312,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <div id=\"off-canvas-header\">");t.b("\n" + i);t.b("        <p id=\"off-canvas-breadcrumb\">");t.b("\n" + i);t.b("            <span class=\"san-icon\"><i>&lt;</i></span>");t.b("\n" + i);t.b("            zum gesamten Sortiment");t.b("\n" + i);t.b("        </p>");t.b("\n" + i);t.b("        <a id=\"off-canvas-title\" href=\"");t.b(t.v(t.f("href",c,p,0)));t.b("\" data-tracking=\"");t.b(t.v(t.f("trackingKey",c,p,0)));t.b("\">");t.b("\n" + i);t.b("            ");t.b(t.v(t.f("name",c,p,0)));t.b("\n" + i);t.b("        </a>");t.b("\n" + i);t.b("    </div>");t.b("\n" + i);});c.pop();}t.b("\n" + i);t.b("<ul id=\"off-canvas-column\">");t.b("\n" + i);if(t.s(t.f("columns",c,p,1),c,p,0,365,756,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.d(".",c,p,1),c,p,0,377,748,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("blocks",c,p,1),c,p,0,398,731,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <li class=\"oc-accordion\">");t.b("\n" + i);if(t.s(t.f("link",c,p,1),c,p,0,455,698,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <div class=\"navItem san_cItem");if(t.s(t.f("isSelected",c,p,1),c,p,0,512,521,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" selected");});c.pop();}t.b("\" data-href=\"");t.b(t.v(t.f("href",c,p,0)));t.b("\">");t.b("\n" + i);t.b("                ");t.b(t.v(t.f("name",c,p,0)));t.b("\n" + i);t.b("            </div>");t.b("\n" + i);t.b("            <div class=\"san-oc-hidden\"></div>");t.b("\n" + i);t.b("            <hr class=\"p_line100\">");t.b("\n" + i);});c.pop();}t.b("        </li>");t.b("\n" + i);});c.pop();}});c.pop();}});c.pop();}t.b("</ul>");return t.fl(); },partials: {}, subs: {  }});o_san.sanTplPublic["offcanvas"] = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("menuEntryPoints",c,p,1),c,p,0,21,500,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <ul id=\"off-canvas-menu\">");t.b("\n" + i);if(t.s(t.f("tabs",c,p,1),c,p,0,70,439,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <li class=\"");if(t.s(t.f("link",c,p,1),c,p,0,100,157,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("slugifiedName",c,p,0)));if(t.s(t.f("isSelected",c,p,1),c,p,0,132,141,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" selected");});c.pop();}});c.pop();}t.b("\">");t.b("\n" + i);if(t.s(t.f("link",c,p,1),c,p,0,192,371,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <div class=\"navItem san_pItem\" data-href=\"");t.b(t.v(t.f("href",c,p,0)));t.b("\" data-tracking=\"");t.b(t.v(t.f("trackingKey",c,p,0)));t.b("\" data-index=\"");t.b(t.v(t.f("jsIndex",c,p,0)));t.b("\">");t.b("\n" + i);t.b("                ");t.b(t.v(t.f("name",c,p,0)));t.b("\n" + i);t.b("            </div>");t.b("\n" + i);});c.pop();}t.b("            <hr class=\"p_line100\">");t.b("\n" + i);t.b("        </li>");t.b("\n" + i);});c.pop();}t.b("    </ul>");t.b("\n" + i);t.b("    <div id=\"off-canvas-submenu\"></div>");t.b("\n" + i);});c.pop();}return t.fl(); },partials: {}, subs: {  }});
/* public_critical_min.js (c) 2016 Otto GmbH & Co. KG */
"use strict";function Hybrid(){function a(){g&&("true"===f.getItem("isHybrid")?k.isDetected=!0:f.getItem("isHybrid")||o_global.eventLoader.onReady(200,function(){o_global.helper.addEvent(document.documentElement,"mousemove",b)}))}function b(){var a;h++>2&&(e(),o_global.helper.removeEvent(document.documentElement,"mousemove",b)),k.isDetected||(a=setTimeout(function(){h=0,i++>8&&(f.setItem("isHybrid",!1),o_global.helper.removeEvent(document.documentElement,"mousemove",b))},300),d(a))}function c(){for(;j.length>0;)clearTimeout(j.pop())}function d(a){j.push(a)}function e(){c(),f.setItem("isHybrid",!0),k.isDetected=!0;for(var a=0;a<k.callbackList.length;a++)k.callbackList[a]()}var f=new o_global.Storage(function(){return window.sessionStorage}),g=!!o_global.device.isTouchable,h=0,i=0,j=[],k=this;this.isDetected=!1,this.callbackList=[],a()}function Breakpoint(a){this.breakpoints=a}var AS=AS||{};AS.testing=function(){function a(){return d=document.cookie.match(/AS_testing=true/i)?{activated:!0,text:"activated"}:{activated:!1,text:"deactivated"}}function b(){return a().activated||(document.cookie="AS_testing=true"),a().text}function c(){return a().activated&&(document.cookie="AS_testing=; expires="+(new Date).toGMTString()),a().text}var d={};return{activate:b,deactivate:c,status:a}}();var o_global=o_global||{};o_global.debug=function(){function a(){return d=document.cookie.match(/debug=true/i)?{activated:!0,text:"activated"}:{activated:!1,text:"deactivated"}}function b(){return a().activated||(document.cookie="debug=true"),a().text}function c(){return a().activated&&(document.cookie="debug=; expires="+(new Date).toGMTString()),a().text}var d={};return{activate:b,deactivate:c,status:a}}();var o_global=o_global||{};o_global.device=o_global.device||{},o_global.device.isTouchable=function(){var a=!(Modernizr&&Modernizr.touch||"ontouchstart"in window||window.navigator.msMaxTouchPoints)||window._phantom||window.phantom?!1:!0;return a&&o_global.helper.addClass(document.documentElement,"touchable"),a}();var o_global=o_global||{};o_global.device=o_global.device||{},Hybrid.prototype.executeOrRegisterCallback=function(a){this.isDetected?a():this.callbackList.push(a)},o_global.device.hybrid=new Hybrid;var o_global=o_global||{};o_global.device=o_global.device||{},o_global.device.screen=function(){function a(){return"undefined"!=typeof window.innerWidth?window.innerWidth:window.screen.width}function b(){return window.screen.height}return{getWidth:a,getHeight:b}}();var o_global=window.o_global||{};o_global.device=o_global.device||{},o_global.device.orientation=function(){function a(){var a,b,c={};document.addEventListener&&(c.trigger=function(c){if(c.matches)for(d(),a=0,b=i.length;b>a;a++)i[a](h)},g.portrait.addListener(c.trigger),g.landscape.addListener(c.trigger))}function b(){return g.portrait.matches}function c(){return g.landscape.matches}function d(){h=b()?"portrait":c()?"landscape":"unknown"}function e(){return h}function f(a){i.push(a)}var g={portrait:window.matchMedia("(orientation: portrait)"),landscape:window.matchMedia("(orientation: landscape)")},h="unknown",i=[];return d(),a(),{getCurrentOrientation:e,registerChangeListener:f}}();var o_global=window.o_global||{};o_global.device=o_global.device||{},Breakpoint.prototype.isNoMQ=function(){return-1!==document.getElementsByTagName("html")[0].className.indexOf("no-mq")},Breakpoint.prototype.getBreakpoints=function(){return this.breakpoints},Breakpoint.prototype.isSmall=function(){return this.breakpoints.small.matches&&!this.isNoMQ()},Breakpoint.prototype.isMedium=function(){return this.breakpoints.medium.matches&&!this.isNoMQ()},Breakpoint.prototype.isLarge=function(){return this.breakpoints.large.matches&&!this.isNoMQ()},Breakpoint.prototype.isExtraLarge=function(){return this.breakpoints.extraLarge.matches||this.isNoMQ()},Breakpoint.prototype.getCurrentBreakpoint=function(){var a="unknown";return this.isSmall()?a="s":this.isMedium()?a="m":this.isLarge()?a="l":this.isExtraLarge()&&(a="xl"),a},Breakpoint.prototype.isBreakpointActive=function(a){var b,c=this.getCurrentBreakpoint();for(b=0;b<a.length;b++)if(a[b]===c)return!0;return!1},Breakpoint.prototype.registerChangeListener=function(a){if(document.addEventListener){var b={trigger:function(b){return function(c){c.matches&&a(b)}}};this.breakpoints.small.addListener(b.trigger("s")),this.breakpoints.medium.addListener(b.trigger("m")),this.breakpoints.large.addListener(b.trigger("l")),this.breakpoints.extraLarge.addListener(b.trigger("xl"))}},o_global.breakpointClass=Breakpoint,o_global.breakpoint=new o_global.breakpointClass({small:window.matchMedia("(min-width: 0em) and (max-width: 27.99em)"),medium:window.matchMedia("(min-width: 28em) and (max-width: 47.99em)"),large:window.matchMedia("(min-width: 48em) and (max-width: 61.99em)"),extraLarge:window.matchMedia("(min-width: 62em)")}),o_global.device.breakpoint=o_global.breakpoint;var o_global=o_global||{};o_global.rwdTools=o_global.rwdTools||{},o_global.device=o_global.device||{},o_global.device.screen=o_global.device.screen||{},o_global.rwdTools=function(){function a(){var a="";o_global.device&&o_global.device.breakpoint&&"function"==typeof o_global.device.breakpoint.getCurrentBreakpoint&&(a="bp="+o_global.device.breakpoint.getCurrentBreakpoint());var b="w="+document.documentElement.clientWidth+"&h="+document.documentElement.clientHeight+"&"+a,c=new Date;c.setTime(c.getTime()+31536e7),document.cookie="devSpecs="+b+";path=/;domain=.otto.de;expires="+c.toGMTString()}function b(){try{o_global.device.breakpoint.registerChangeListener(function(){a()})}catch(b){}}return a(),b(),{setDevSpecsCookie:a,handleBreakpointChange:b}}();var o_global=o_global||{};o_global.fonts=o_global.fonts||{},o_global.dirhashes=o_global.dirhashes||{},o_global.fonts.asyncFontLoader=function(){function a(a){var b;try{b=new XMLHttpRequest,b.open("GET","/static/fonts/"+e+"/"+a+".css"),b.onreadystatechange=function(){4===b.readyState&&b.status>=200&&b.status<400&&(g.isAvailable&&g.setItem(f+a,b.responseText),o_global.fonts.addFontStyleToHead(b.responseText))},b.send(null)}catch(c){}}function b(a){try{return o_global.device.breakpoint.isBreakpointActive(a.split("|"))}catch(b){}}function c(){var c,h,i,j;for(c in d)d.hasOwnProperty(c)&&(h=d[c].hasOwnProperty("breakpoint"),i=b(d[c].breakpoint),(!h||h&&i)&&(j=!!g.isAvailable&&(!g.getItem(f+"fontHash")||!!g.getItem(f+"fontHash")&&g.getItem(f+"fontHash")!==e),g.isAvailable&&!j&&g.getItem(f+c)||a(c)));g.isAvailable&&e&&g.setItem(f+"fontHash",e)}var d,e,f="o_",g=new o_global.Storage(function(){return window.localStorage});try{d=o_global.fonts.conf,e=o_global.dirhashes.fonts.all}catch(h){}c()},o_global.eventLoader.onLoad(0,o_global.fonts.asyncFontLoader);var o_global=o_global||{};o_global.assetLoader=function(){function a(){var a,c,d;if(o_global.assets)for(a in o_global.assets)if(o_global.assets.hasOwnProperty(a)){c=o_global.assets[a];for(d in c)c.hasOwnProperty(d)&&b(a,a+"_"+d,c[d])}}function b(a,b,e){var f,h,i,j=new o_global.Storage(function(){return window.localStorage}),k=b;if(j.isAvailable)if(h=j.getItem(b))d(a,h);else{k=k.split("_"),k.pop(),k=k.join("_");for(var l=0;l<j.storage.length;l++)i=j.storage.key(l),i.indexOf(k)>-1&&(f=i);c(e,function(c){d(a,c),j.setItem(b,c)}),f&&j.removeItem(f)}else g(a,e)}function c(a,b){var c,d;try{window.XDomainRequest?(c=new XDomainRequest,c.open("GET",a),c.onload=function(){b(c.responseText)},setTimeout(function(){c.send()},0)):(d=new XMLHttpRequest,d.open("GET",a),d.onreadystatechange=function(){4===d.readyState&&d.status>=200&&d.status<400&&b(d.responseText)},d.send(null))}catch(e){}}function d(a,b){switch(a){case"css":f(b);break;case"js":e(b)}}function e(a){var b=document.createElement("script");b.text=a,document.body.appendChild(b)}function f(a){var b=document.createElement("style"),c=document.head||document.getElementsByTagName("head")[0];b.type="text/css",c.appendChild(b),b.styleSheet?b.styleSheet.cssText=a:b.textContent=a}function g(a,b){switch(a){case"css":var c=document.createElement("link"),d=document.head||document.getElementsByTagName("head")[0];c.rel="stylesheet",c.type="text/css",c.href=b,d.appendChild(c);break;case"js":var e=document.createElement("script");e.src=b,document.body.appendChild(e)}}return o_global.eventLoader.onLoad(0,a),{kickIt:a}}();var o_global=o_global||{},lhotse=lhotse||{};lhotse.exactag=lhotse.exactag||{},lhotse.exactag.centralFinished=!1,lhotse.exactag.finished=!1,lhotse.exactag.execute=!0,"true"===o_global.helper.getCookieValue("app")&&(lhotse.exactag.execute=!1),lhotse.exactag.varnish={version:"0.8.9",data:[]},function(a,b){var c=a.location.host,d=a.location.protocol+"//"+c,e=lhotse.exactag.varnishURL||d+"/shoppages/exactag/getPerformanceMarketingData.js",f=e.substring(0,1),g=a.location.hash,h="",i=new RegExp(/variationId=([a-zA-Z0-9_\-]*)/);i.test(g)&&(h="?variationId="+g.match(i)[1]),lhotse.exactag.getVarnishData=function(c){b.getScript(c).done(function(){lhotse.exactag.finished=!0,lhotse.exactag.centralFinished&&lhotse.exactag.continueTrack()}).fail(function(b){var c="Triggered ajaxError handler in '"+e+"'! Status: "+b.status;a.console&&console.log(c)})},o_global.eventLoader.onLoad(21,function(){"undefined"!=typeof AS&&AS.toggles&&!AS.toggles.pxc&&(lhotse.exactag.execute=!1),lhotse.exactag.varnishURL?("."===f||"/"===f)&&lhotse.exactag.getVarnishData(e):lhotse.exactag.getVarnishData(e+h)})}(window,jQuery);var exactag=window.exactag||{};!function(a){try{"string"!=typeof a.location.toString()&&(a=window.self)}catch(b){a=window.self}var c,d=a.document,e=a.console||{},f=a.JSON||{},g=function(){},h=function(){};void 0===e.log&&(e.log=function(){});var i=/[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*[@|%40|%2540][a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,4})/gi;g.prototype={version:"3.0.20141107",dependencies:[{object:"JSON",property:"stringify",type:"function",scope:a},{object:"JSON",property:"decycle",type:"function",scope:a}],cfg:{type:"Content",conversiontype:"",referrer:d.referrer.replace(i,""),host:a.location.host,site:a.location.pathname,search:a.location.search.replace(i,""),campaign:"",screensize:"",pitype:"",trackingURL:"//pxc.otto.de"},cName:"exactag",contentNode:!1,stopwatch:{start:(new Date).getTime()},rootDoc:null,uid:null,item:{},logStack:[],traceFrequency:1e3,traceUntil:new Date(2013,0,26),traceEnabled:!1,readyToTrack:!1,nfif:!0,enabled:!0,style:"position:absolute; width:0px; height:0px; overflow: hidden; border: 0;",init:function(){this.getConfig(),this.meantime("pi.init"),this.createContainers()},createContainers:function(){return null===d.body?void a.setTimeout(this.createDelegate(this,this.createContainers),10):(this.meantime("pi.createContainers"),this.createContentNode(),void this.setReadyToTrack())},createDelegate:function(a,b){return function(c){b.apply(a,arguments,c)}},createContentNode:function(){var a=d.createElement("iframe");a.setAttribute("id",this.cName+"_"+this.uid),a.style.cssText=this.style,d.getElementsByTagName("body")[0].appendChild(a),this.rootDoc=this.getDocument(a);try{this.rootDoc.open("text/html","replace"),d=this.ieVersion>0&&this.ieVersion<9?a.document||this.rootDoc:this.rootDoc,this.rootDoc.close()}catch(b){return void this.report("accessing root iframe failed","error")}this.contentNode=this.rootDoc.createElement("div"),this.contentNode.id=this.cName+"_pi_content",this.rootDoc.body.appendChild(this.contentNode),this.log("this.rootDoc filled ",this.uid)},processItem:function(b){if("object"!=typeof b)return void this.report("no valid tracking object passed","error");if(!this.readyToTrack)return this.log("not ready to track yet ... retrying in 10ms"),void a.setTimeout(this.createDelegate(this,this.processItem),10,b);this.meantime("pi.processItem");var c,d;if(this.item=this.getTrackingConfig(b),this.log("trackingConfig",this.item),this.meantime("exctag.callHandler"),d=this.item.trackingURL+"/pi.aspx?campaign="+this.item.campaign+"&pitype="+this.item.type+"&convtype="+this.item.conversiontype,this.nfif===!0)try{this.post(d+"&retmode=6",{items:this.stringify(this.item)})}catch(e){this.report("post to pi.aspx failed","error")}else try{d+="&items="+encodeURIComponent(this.stringify(this.item)),c=this.rootDoc.createElement("script"),c.setAttribute("src",d),c.setAttribute("type","text/javascript"),this.rootDoc.body.appendChild(c)}catch(f){this.report("calling pi.aspx in iframe failed","error")}this.log("exactag reinit",exactag),this.meantime("pi.handlerCalled")},getDocument:function(a){var b,c=null;try{c=a.contentDocument||a.contentWindow.document||a.document}catch(e){b="javascript",a.setAttribute("src",b+':(function(){document.open();document.domain="'+d.domain+'";})()'),c=a.contentDocument||a.contentWindow.document||a.document}return c},appendHiddenField:function(a,b,c){var d;d=this.rootDoc.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name",a),d.setAttribute("value",b),c.appendChild(d)},createContainer:function(a){var b,c=this.rootDoc.getElementById(a);return null===c&&(b=this.rootDoc.createElement("div"),b.id=a,this.rootDoc.body.appendChild(b)),b},log:function(){var a,b=arguments;if(this.logStack.push(b),this.debug)if(b[0]=this.uid+" - "+b[0],this.ieVersion>=9)a=Function.prototype.bind.call(e.log,e),a.apply(e,arguments);else if(Function.prototype.bind||"undefined"===e||"object"!=typeof e.log)try{e.log.apply(e,arguments)}catch(c){e.log(arguments)}else Function.prototype.call.call(e.log,e,Array.prototype.slice.call(arguments))},report:function(b,c){var d,e={};e.type=c||"error",e.uid=this.uid,e.component="tracking",e.msg=b,e.exactag=this.item,e.campaign=this.item.campaign||"",e.host=a.location.host,e.site=a.location.pathname,e.search=a.location.search.replace(i,""),e.ua=navigator.userAgent,e.log=this.logStack,e.version=this.version,d=this.bear(this.cfg),"error"===e.type?(this.post(d.trackingURL+"/jstrace.aspx",{data:this.stringify(e)}),this.log("ERROR: "+b)):(this.log(b,this.stringify(e)),(this.traceEnabled||this.debug)&&this.post(d.trackingURL+"/jstrace.aspx",{data:this.stringify(e)}))},setDebugMode:function(){var b=a.location.hash.indexOf(this.cName+"_debug")>-1?1:0;return this.debug=!(1!==b),this.debug},meantime:function(a){var b,c=(new Date).getTime();b=c-this.stopwatch.start,this.log(a+": "+b/1e3+"s")},getUid:function(){return this.uid||(this.uid=this.getRandomId(4)),this.uid},getRandomId:function(a){var b,c="",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(b=0;a>b;b++)c+=d.charAt(Math.floor(Math.random()*d.length));return c},getConfig:function(){this.setDebugMode(),this.getUid(),this.logStack=[],this.item={},this.stopwatch.start=(new Date).getTime();try{exactag.nfif===!0&&(this.nfif=exactag.nfif,delete exactag.nfif),this.traceFrequency>0&&Math.ceil(Math.random()*this.traceFrequency)===this.traceFrequency&&this.traceUntil.getTime()>(new Date).getTime()&&(this.log("trace enabled"),this.traceEnabled=!0)}catch(a){}},extend:function(a,b){var c;for(c in b)"function"!=typeof b[c]&&void 0!==b[c]&&(a[c]=b[c]);return a},setReadyToTrack:function(){this.readyToTrack=!0},getItem:function(a){var b,c={};for(b in a)"function"!=typeof a[b]&&(c[b]=a[b]);return c},bear:function(a){return f.parse(f.stringify(f.decycle(a)))},getTrackingConfig:function(a){var b,c=this.bear(this.cfg);for(b in a)void 0!==a[b]&&(c[b]=a[b]);return c},stringify:function(a){return f.stringify(f.decycle(a))},post:function(a,b){var c,d,e,f;c="exactag_"+this.getRandomId(5);try{d=this.rootDoc.createElement("<iframe id='"+c+"' name='"+c+"'>")}catch(g){d=this.rootDoc.createElement("iframe"),d.setAttribute("id",c),d.setAttribute("name",c)}this.rootDoc.body.appendChild(d),e=this.rootDoc.createElement("form"),e.setAttribute("action",a),e.setAttribute("target",c),e.setAttribute("method","POST");for(f in b)void 0!==b[f]&&this.appendHiddenField(f,encodeURIComponent(b[f]),e);this.rootDoc.body.appendChild(e),e.submit()},checkDependencies:function(){var a,b,c,d=[];for(a in this.dependencies)if("object"==typeof this.dependencies[a]){b=this.dependencies[a],c=!1;try{"function"!=typeof b.scope[b.object][b.property]&&(c=!0)}catch(e){c=!0}c&&d.push(b.object+"."+b.property+" is not a "+b.type)}d.length>0?this.disable("found one or more missing dependencies\n - "+d.join("\n - ")):this.log("dependency detection OK",this.dependencies)},disable:function(a){this.log("ERROR: "+a),this.enabled=!1}},h.prototype={track:function(a){var b=new g;b.checkDependencies(),b.enabled===!0?(b.init(),b.meantime("exactag.track"),void 0===a?(a=b.getItem(this),b.log("item read from exactag object",a)):b.log("object injected into exactag.track",a),b.processItem(a),exactag=new h):e.log("pi.js dependency error: ",b.logStack.pop())}},"string"==typeof exactag.campaign&&(c=new g,c.checkDependencies(),c.enabled===!0?(c.init(),c.log("found item in exactag",exactag),c.processItem(c.getItem(exactag))):e.log("pi.js dependency error: ",c.logStack.pop())),exactag=new h}(window.top),window.AS=window.AS||{},window.AS.config=window.AS.config||{localStoragePrefix:"o_",requestDataFormat:"kv",loadQueueDelay:200,asyncQueueInterval:400,asyncQueueTimeout:4e3,beaconBaseUrl:"/static/all/img/latest/global-resources/beacons/",beacons:{performance:"ottorum.gif",javascript:"ottojs.gif",img:"ottoimg.gif",custom:"ottocustom.gif",security:"ottosecurity.gif",print:"ottoprint.gif"},latencyTestItem:"/static/all/img/latest/global-resources/beacons/ottolatency.gif",imageServerAvailabilityUrl:"https://images.otto.de/is/image/mmo/pool/formatSonstiges/l_landscape_constrain_130x60/1640985.gif",comScoreUrl:""},window.AS=window.AS||{},window.AS.RUM=function(a,b,c){function d(){return!!E.isAvailable}function e(b){var c,d=a.performance||a.mozPerformance||a.webkitPerformance||a.msPerformance;return d&&(c=d[b]),!!c}function f(b,c,d){b.attachEvent?(b["e"+c+d]=d,b[c+d]=function(){b["e"+c+d](a.event)},b.attachEvent("on"+c,b[c+d])):b.addEventListener(c,d,!1)}function g(a,b,c){a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=null):a.removeEventListener(b,c,!1)}function h(a,b,c){function d(c){function d(f){e+=1,e>=1&&g(a,b,d),c(f)}var e=0;return d}f(a,b,d(c))}function i(a){var b;if("function"==typeof String.prototype.trim)return a.trim();for(a=a.replace(/^\s+/,""),b=a.length-1;b>=0;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a}function j(a,b){var c;if("function"==typeof Array.prototype.forEach)a.forEach(b);else for(c=0;c<a.length;c+=1)b(a[c],c)}function k(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&(c+=b+"="+encodeURIComponent(a[b])+"&");return c.substring(0,c.length-1)}function l(a){return a&&"string"==typeof a?a.replace(/(^\?)/,"").split("&").map(function(a){return a=a.split("="),this[a[0]]=a[1],this}.bind({}))[0]:{}}function m(a){var b;for(b in a)if(a.hasOwnProperty(b)&&!a[b])return!1;return!0}function n(a){var b,c=0;if("function"==typeof Object.keys)c=Object.keys(a).length;else for(b in a)a.hasOwnProperty(b)&&(c+=1);return c}function o(a,b,c,d){var e,f="boolean"==typeof c?c:!0,g="boolean"==typeof d?d:!0,h=g?q(a):a;for(e in b)if(b.hasOwnProperty(e)){if(!f&&e in h)continue;h[e]=b[e]}return h}function p(a,b){var c,d,e=b?b.split("."):[],f=a?a:"";if(a&&b){for("window"===e[0]&&(e=e.slice(1)),c=e.length,d=0;c>d;d++)"undefined"==typeof f[e[d]]&&(f[e[d]]={}),f=f[e[d]];return f}return!1}function q(a){return Object.create||(Object.create=function(a){function b(){}return b.prototype=a,new b}),Object.create(a)}function r(a,d,e,f){var g,h,i,j="boolean"==typeof f?f:!1;if(a&&d&&c.beacons[d]&&"object"==typeof e){if(I[a]||(I[a]={}),I[a][d]||(I[a][d]={}),g=I[a][d],g.send||(g.send=!1),i=b.createElement("img"),i.onload=function(){g.send=!j},i.onerror=function(){},g.send!==!0&&n(e)>0){switch(h=c.beaconBaseUrl+c.beacons[d],c.requestDataFormat){case"kv":i.src=h+"?"+k(e);break;case"json":i.src=h+"?data="+encodeURIComponent(JSON.stringify(e))}return!0}return g.send=!0,!1}return!1}function s(a,b,d,e,f){var g=f?f:!1,h=e?e:0;return a&&c.beacons[a]&&b&&d?(J.push({beacon:a,timing:b,task:d,order:h,async:g}),!0):!1}function t(a,b,c){var d;return a&&b&&c?j(J,function(e,f){e.beacon===a&&e.timing===b&&e.task===c?(J.splice(f,1),d=!0):d=!1}):d=!1,d}function u(a,b){var d,e=[];if(J.sort(y("order")),a&&a in c.beacons&&b)for(d in J)J.hasOwnProperty(d)&&J[d].timing===b&&J[d].beacon===a&&e.push({task:J[d].task,async:J[d].async});return e}function v(){J.length=0}function w(a,b,c){var d,e=[];for(d=0;d<a.length;d++)a[d][b]===c&&e.push(d);return e}function x(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2===c.length?c.pop().split(";").shift():!1}function y(a){var b=1;return"-"===a[0]&&(b=-1,a=a.substr(1)),function(c,d){var e=c[a]<d[a]?-1:c[a]>d[a]?1:0;return e*b}}function z(){var a,b,c=[],d=0;for(a in I)if(I.hasOwnProperty(a))for(b in I[a])I[a].hasOwnProperty(b)&&I[a][b].async&&(m(I[a][b].asyncTasks)&&I[a][b].send===!1?(I[a][b].done=!0,c.push({timing:a,beacon:b,params:I[a][b].data,send:I[a][b].send})):d+=1);return c.length>0?c:d}function A(a,b){if(a&&b)try{r(a,b,I[a][b].data,!1)}catch(c){}}function B(a,b){"undefined"==typeof I[a]&&(I[a]={}),I[a][b]={},I[a][b].data={},I[a][b].asyncTasks={},I[a][b].async=!1,I[a][b].done=!1,I[a][b].send=!1}function C(a,b,d){var e,f,g,h,i=d?d:[],k=b?b:!0;if(a)for(e in c.beacons)c.beacons.hasOwnProperty(e)&&(h=u(e,a),h.length>0&&(B(a,e),j(h,function(b){b.async?(I[a][e].async=!0,I[a][e].asyncTasks[b.task]=!1,i.unshift(b.task,I[a][e]),p(window,b.task).apply(null,i)):(f=p(window,b.task).apply(null,i),g=I[a][e].data,o(g,f,!1,!1))}),k&&I[a][e].async!==!0&&A(a,e)))}function D(){o_global.eventLoader.onReady(0,function(){C("ready",!0,[])}),o_global.eventLoader.onLoad(0,function(){var a;setTimeout(function(){C("load",!0,[])},c.loadQueueDelay),a=setInterval(function(){var b,c=z();if(c)for(b in c)c.hasOwnProperty(b)&&c[b].send!==!0&&A(c[b].timing,c[b].beacon);else clearInterval(a)},c.asyncQueueInterval),setTimeout(function(){clearInterval(a)},c.asyncQueueTimeout)}),h(b,"click",function(a){C("clickOnce",!1,[a])}),f(b,"click",function(a){C("click",!1,[a])}),h(b,"mousemove",function(){C("moveOnce",!1,[])}),a.onerror=function(a,b,c){C("error",!0,[a,b,c])}}var E,F,G,H,I={},J=[],K=0;return E=new o_global.Storage(function(){return window.localStorage}),F=d(),G=e("timing"),H=e("getEntries"),{storage:E,clone:q,addEvent:f,removeEvent:g,addEventOnce:h,extendNamespace:p,findIndexByKeyValue:w,getTaskQueue:u,isLocalStorageAvailable:d,isPerformanceFeatureAvailable:e,objToString:k,queryStringToObj:l,allPropsTrue:m,getCookieValue:x,sortArrayOfObjects:y,prepareDataContainer:B,handleBeaconRequest:A,handleTasks:C,checkAsyncTasks:z,taskQueue:J,dataContainer:I,localStorageAvailable:F,navigationTimingAvailable:G,resourceTimingAvailable:H,mousemoveStartTimestamp:K,getObjectLength:n,sendImageBeacon:r,trim:i,each:j,extend:o,addToTaskQueue:s,removeFromTaskQueue:t,clearTaskQueue:v,cheers:D}}(window,document,window.AS.config),window.AS.RUM.cheers(),window.AS.RUM=function(a,b,c){function d(){var a={};return c.each(C,function(b){var c,d=b.minuend,e=b.subtrahend;a[b.name]=-2,y&&(c=y[d]&&y[e]&&y[d]-y[e]>=0?y[d]-y[e]:-1,a[b.name]=c)}),a}function e(){var d=[{name:"parentUrl",value:a.location.href},{name:"referrer",value:b.referrer},{name:"htmlLength",value:b.body.innerHTML.length},{name:"numberStylesheets",value:b.styleSheets.length}],e={};return c.each(d,function(a){e[a.name]=a.value?a.value:-1}),e}function f(){var a={vid:-2,bid:-2};return a.vid=c.getCookieValue("visitorId")?c.getCookieValue("visitorId"):-1,a.bid=c.getCookieValue("BrowserId")?c.getCookieValue("BrowserId"):-1,a}function g(){var a=document.referrer,b={firstView:-2};return b.firstView=!(a&&a.indexOf("www.otto.de")>-1),b}function h(){return{app:o_global.helper.cookieExist("app")}}function i(){var a={bp:-2};return o_global&&o_global.device&&o_global.device.breakpoint&&"function"==typeof o_global.device.breakpoint.getCurrentBreakpoint&&(a.bp=o_global.device.breakpoint.getCurrentBreakpoint()),a}function j(){A.prototype.open=l(A.prototype.open)}function k(){"undefined"!=typeof jQuery&&$(document).ajaxSuccess(function(a,b,c){o(c.url)})}function l(a){return function(b,c){return-1!==c.indexOf("/ts-rcv/")&&(this.send=m(this.send,c)),a?a.apply(this,[].slice.call(arguments)):null}}function m(a,b){return function(){return this.onreadystatechange=n(this,b,this.onreadystatechange),a?a.apply(this,[].slice.call(arguments)):null}}function n(a,b,c){return function(){return 4===a.readyState&&setTimeout(function(){o(b)},1),c?c.apply(this,[].slice.call(arguments)):null}}function o(a){var b,c;return-1===a.indexOf("/ts-rcv/")?!1:(b=z.getEntriesByName(document.location.protocol+"//"+document.location.host+a),b.length||(b=z.getEntriesByName(a)),void(b.length&&(c=b.pop(),p(c))))}function p(a){var b=Math.min(a.duration,1e4),c=-1;0>b?B.setItem("rum_srttErrorCode",c):(q(Math.round(a.duration)),r(),t(b),v(b))}function q(a){var b=B.getItem("rum_rttValues");b=b?b.split("|"):[],b.push(Math.round(a)),B.setItem("rum_rttValues",b.slice(-20).join("|"))}function r(){var a=B.getItem("rum_rttCount");a=a?parseInt(a):0,B.setItem("rum_rttCount",(a+1).toString())}function s(a,b){return b?b+.125*(a-b):a}function t(a){B.setItem("rum_srtt",s(a,parseFloat(B.getItem("rum_srtt"))).toString())}function u(a,b,c){return b?b+.25*(Math.abs(c-a)-b):.5*a}function v(a){var b=parseFloat(B.getItem("rum_rttVar")),c=parseFloat(B.getItem("rum_srtt"));B.setItem("rum_rttVar",u(a,b,c).toString())}function w(){return A&&z&&"function"==typeof z.getEntriesByName&&B.isAvailable?(j(),void k()):!1}function x(){var a,b,d,e,f,g=-3,h=-2,i={rum_srtt:g,rum_rttVar:g,rum_rttCount:g,rum_rttValues:g};return B.isAvailable&&(a=B.getItem("rum_srtt"),b=B.getItem("rum_rttVar"),d=B.getItem("rum_rttCount"),e=B.getItem("rum_rttValues"),a?(i.rum_srtt=a,i.rum_rttVar=Math.round(b),i.rum_rttCount=d,i.rum_rttValues=e,B.removeItem("rum_rttCount"),B.removeItem("rum_rttValues")):(f=B.getItem("rum_srttErrorCode"),i.rum_srttErrorCode=f?f:g,B.removeItem("rum_srttErrorCode"))),B.isAvailable&&c.navigationTimingAvailable&&c.resourceTimingAvailable||(i.rum_srttErrorCode=h),i}var y=c.navigationTimingAvailable?a.performance.timing:!1,z=a.performance,A=a.XMLHttpRequest,B=new o_global.Storage(function(){return window.localStorage}),C=[{name:"timeToFirstByte",minuend:"responseStart",subtrahend:"navigationStart"},{name:"networkTime",minuend:"responseEnd",subtrahend:"navigationStart"},{name:"domContentLoadedStart",minuend:"domContentLoadedEventStart",subtrahend:"navigationStart"},{name:"domContentLoaded",minuend:"domContentLoadedEventEnd",subtrahend:"navigationStart"},{name:"domTime",minuend:"domComplete",subtrahend:"domLoading"},{name:"rum_complete",minuend:"loadEventEnd",subtrahend:"navigationStart"},{name:"rum_domComplete",minuend:"domComplete",subtrahend:"navigationStart"},{name:"dnsTime",minuend:"domainLookupEnd",subtrahend:"domainLookupStart"},{name:"sslHandshakeTime",minuend:"connectEnd",subtrahend:"secureConnectionStart"}];return c.addToTaskQueue("performance","ready","AS.RUM.trackAjaxPerformance",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getStaticBrowserData",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getPerfData",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getUniqueIds",0,!1),c.addToTaskQueue("performance","load","AS.RUM.isFirstView",0,!1),c.addToTaskQueue("performance","load","AS.RUM.isApp",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getBreakpoint",0,!1),c.addToTaskQueue("performance","load","AS.RUM.collectAjaxPerformance",0,!1),c.extend(c,{getPerfData:d,getStaticBrowserData:e,getUniqueIds:f,isFirstView:g,isApp:h,getBreakpoint:i,trackAjaxPerformance:w,collectAjaxPerformance:x})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a,b=o_global.visibilityChange.getVisibilityData(),c={rum_wasHidden:-2,rum_pageVisibility:-2,rum_visibilityChanges:-2,rum_hiddenTime:-2,rum_visibleLoadTime:-2,rum_customerWaitTime:-2};for(a in b)b.hasOwnProperty(a)&&(c["rum_"+a]=b[a]);return c}return c.addToTaskQueue("performance","load","AS.RUM.checkVisibilityData",0,!1),c.extend(c,{checkVisibilityData:d})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(d,e){var f=b.createElement("img"),g=(new Date).getTime(),h=-2,i=-2;f.onload=function(){var b,f,j=(new Date).getTime();if(c.resourceTimingAvailable)for(b=a.performance.getEntries(),f=0;f<b.length;f+=1)b[f].name.indexOf(AS.config.latencyTestItem)>-1&&(h=Math.round(b[f].duration));else h=j-g;return i=j-g,i=i>0?i:-1,h=h>0?h:-1,d&&e&&(e.asyncTasks[d]=!0,e.data=c.extend(e.data,{rum_latency:h,latencyTs:i},!1,!1)),h},f.onerror=function(){return h},f.src=AS.config.latencyTestItem+"?"+(new Date).getTime()}function e(){var a={latencyMeasurementType:"-2"};return a.latencyMeasurementType=c.resourceTimingAvailable?"performanceAPI":"timestamp",a}return c.addToTaskQueue("performance","load","AS.RUM.getLatency",0,!0),c.addToTaskQueue("performance","load","AS.RUM.getLatencyMeasurementType",0,!1),c.extend(c,{getLatency:d,getLatencyMeasurementType:e})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(a){var b=AS.config.localStoragePrefix+a;return c.localStorageAvailable?(localStorage[b]=localStorage[b]?parseInt(localStorage[b],10)+1:1,localStorage[b]):!1}function e(a){var b=AS.config.localStoragePrefix+a;return c.localStorageAvailable?(localStorage[b]=0,localStorage[b]):!1}function f(){c.mousemoveStartTimestamp=(new Date).getTime()}function g(d){var e,f,g=d.target?d.target:d.srcElement,i=-1;h(),c.localStorageAvailable&&c.navigationTimingAvailable&&(e=(new Date).getTime(),f=AS.config.localStoragePrefix,localStorage[f+"ttfcs"]=m.navigationStart?e-m.navigationStart:-1,localStorage[f+"ttfcc"]=m.loadEventEnd?e-m.loadEventEnd:-1,localStorage[f+"ttfcm"]=c.mousemoveStartTimestamp>0?e-c.mousemoveStartTimestamp:-1,g&&(i=g.tagName,"string"==typeof g.innerHTML&&(i+=":"+c.trim(g.innerHTML.substring(0,20)))),localStorage[f+"clickObject"]=i,localStorage[f+"clickParentUrl"]=a.location.href,localStorage[f+"clickReferrer"]=b.referrer)}function h(){var a;c.localStorageAvailable&&(a=AS.config.localStoragePrefix,localStorage.removeItem(a+"ttfcs"),localStorage.removeItem(a+"ttfcc"),localStorage.removeItem(a+"ttfcm"),localStorage.removeItem(a+"clickObject"),localStorage.removeItem(a+"clickParentUrl"),localStorage.removeItem(a+"clickReferrer"))}function i(a){return c.localStorageAvailable&&"undefined"!=typeof localStorage[AS.config.localStoragePrefix+a]?localStorage[AS.config.localStoragePrefix+a]:-1}function j(){var b={ttfcs:-2,ttfcc:-2,ttfcm:-2,clickObject:-2,clickParentUrl:-2,clickReferrer:-2};return c.localStorageAvailable&&(b.ttfcs=i("ttfcs"),b.ttfcc=i("ttfcc"),b.ttfcm=i("ttfcm"),b.clickObject=i("clickObject"),b.clickParentUrl=i("clickParentUrl"),b.clickReferrer=i("clickReferrer"),a.location.href.match(/checkout/g)&&(b.pageViewsUntilCheckout=localStorage[AS.config.localStoragePrefix+"pvuc"],e("pvuc"),b.clicksUntilCheckout=localStorage[AS.config.localStoragePrefix+"cuc"],e("cuc"))),h(),b}function k(){d("pvuc")}function l(){d("cuc")}var m=c.navigationTimingAvailable?a.performance.timing:!1;return c.addToTaskQueue("performance","load","AS.RUM.incrementPageView",0,!1),c.addToTaskQueue("performance","load","AS.RUM.collectClickInfo",10,!1),c.addToTaskQueue("custom","clickOnce","AS.RUM.setFirstClickInfo",0,!1),c.addToTaskQueue("custom","click","AS.RUM.incrementClick",0,!1),c.addToTaskQueue("custom","moveOnce","AS.RUM.observeMouseMove",0,!1),c.extend(c,{incrementPageView:k,incrementClick:l,setFirstClickInfo:g,collectClickInfo:j,observeMouseMove:f})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var b={mixedContentUrls:[]};return c.resourceTimingAvailable&&c.each(a.performance.getEntries(),function(a){0===a.name.indexOf("http://")&&-1===a.name.indexOf("http://localhost")&&b.mixedContentUrls.push(a.name)}),b.mixedContentUrls.length>0?{mixedContentUrls:b.mixedContentUrls.join("|")}:{}}function e(){var b=String.fromCharCode(47,92,47,92,58,63,93,115,91,112,116,116,104).split("").reverse().join(""),c=String.fromCharCode(101,100,46,92,111,116,116,111).split("").reverse().join(""),d=String.fromCharCode(116,115,111,104,108,97,99,111,108).split("").reverse().join(""),e="(^"+b+"[a-z0-9.-]*\\."+c+"\\/*)|(^"+b+d+")";
return a.location.href.match(e)?{}:{namespace:"scale",useCase:"checkLocationHref",url:a.location.href}}function f(){var a;try{a=top.location.href}catch(b){a=""}return window.self!==window.top?{namespace:"scale",useCase:"checkForIframe",loc:a}:{}}function g(){var a={rum_avi:-2,rum_ava:-2,rum_macvx:-2};try{a.rum_avi=!!document.getElementById("abs-top-frame")}catch(b){a.rum_avi=-1}try{a.rum_ava=document.getElementsByClassName("avast-extension-safeshop-bar").length>0||document.getElementsByClassName("avast-sas").length>0}catch(b){a.rum_ava=-1}try{a.rum_macvx=!!document.getElementById("fo-ribbon-container")||!!document.getElementById("FoxyDealTopBar")}catch(b){a.rum_macvx=-1}return a}return c.addToTaskQueue("security","load","AS.RUM.detectMixedContent",0,!1),c.addToTaskQueue("security","load","AS.RUM.checkLocationHref",0,!1),c.addToTaskQueue("security","load","AS.RUM.checkForIframe",0,!1),c.addToTaskQueue("performance","load","AS.RUM.detectBrowserExtensions",20,!1),c.extend(c,{detectMixedContent:d,checkLocationHref:e,checkForIframe:f,detectBrowserExtensions:g})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(d,e,f){var g,h={jsErrors:-2,parentUrl:-2,referrer:-2,browser:-2,errorTitle:-2,src:-2,line:-2};return c.localStorageAvailable?(g=AS.config.localStoragePrefix+"jsErrors",localStorage[g]?localStorage[g]=parseInt(localStorage[g],10)+1:localStorage[g]=1,h.jsErrors=localStorage[g]?localStorage[g]:-1):h.jsErrors=-1,h.parentUrl=a.location.href?a.location.href:-1,h.referrer=b.referrer?b.referrer:-1,h.browser=navigator.userAgent?navigator.userAgent:-1,h.errorTitle=d?d:-1,h.src=e?e:-1,h.line=f?f:-1,h}return c.addToTaskQueue("javascript","error","AS.RUM.computeJsErrors",0,!1),c.extend(c,{computeJsErrors:d})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(d,e){var f=b.createElement("img");f.onload=function(){return{}},f.onerror=function(){var b=a.location.href?a.location.href:-1,f=navigator.userAgent?navigator.userAgent:-1;return d&&e&&(e.asyncTasks[d]=!0,e.data=c.extend(e.data,{parentUrl:b,userAgent:f},!1,!1)),{parentUrl:b,userAgent:f}},f.src=AS.config.imageServerAvailabilityUrl}return c.addToTaskQueue("img","load","AS.RUM.isImageServerAvailable",0,!0),c.extend(c,{isImageServerAvailable:d})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a=AS.config.localStoragePrefix+"prints";return c.localStorageAvailable?(localStorage[a]?localStorage[a]=parseInt(localStorage[a],10)+1:localStorage[a]=1,localStorage[a]):0}function e(){a.matchMedia&&a.matchMedia("print").addListener&&-1===navigator.userAgent.indexOf("MSIE")&&a.matchMedia("print").addListener(function(a){a.matches&&f()}),a.onbeforeprint=f,a.onafterprint=function(){}}function f(){var b,e={parentUrl:-2,totalPrints:-2},f=new Date;return f.getTime()-5e3>g?(b=d(),e={parentURL:a.location.href?a.location.href:-1,totalPrints:b>0?b:-1},g=f,c.sendImageBeacon("load","print",e,!0),e):void 0}var g=0;return c.addToTaskQueue("custom","load","AS.RUM.observePrintEvents",0,!0),c.extend(c,{observePrintEvents:e})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(a,b){return a&&"string"==typeof name&&a.length>0&&b&&"object"==typeof b&&c.getObjectLength(b)>0?(b.namespace=b.namespace?b.namespace:a,b.timestamp=b.typestamp?b.timestamp:(new Date).getTime(),c.sendImageBeacon("load","custom",b,!0)):!1}return c.extend(c,{sendCustomRequest:d})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var c={rum_width:-2,rum_height:-2,rum_clientWidth:-2,rum_clientHeight:-2,rum_innerWidth:-2,rum_innerHeight:-2};return c.rum_width=a.screen.width?a.screen.width:-1,c.rum_height=a.screen.height?a.screen.height:-1,c.rum_innerWidth=a.innerWidth?a.innerWidth:-1,c.rum_innerHeight=a.innerHeight?a.innerHeight:-1,c.rum_clientWidth=b.documentElement.clientWidth?b.documentElement.clientWidth:b.body.clientWidth?b.body.clientWidth:-1,c.rum_clientHeight=b.documentElement.clientHeight?b.documentElement.clientHeight:b.body.clientHeight?b.body.clientHeight:-1,c}function e(){var b={rum_devicePixelRatio:-2};return b.rum_devicePixelRatio=a.devicePixelRatio?a.devicePixelRatio:-1,b}return c.addToTaskQueue("performance","load","AS.RUM.getScreenDimensions",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getDevicePixelRatio",0,!1),c.extend(c,{getScreenDimensions:d,getDevicePixelRatio:e})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a=j(),b=h(),c=i(),d=f(),e=g(),k={deviceType:-2,deviceOS:-2,deviceBrowser:-2,rum_deviceOrientation:-2,rum_supportsTouch:-2};return k.deviceType=a?a:-1,k.deviceOS=b?b:-1,k.deviceBrowser=c?c:-1,k.rum_deviceOrientation=d?d:-1,k.rum_supportsTouch=!!e,k}function e(a){return-1!==k.indexOf(a)}function f(){return b.documentElement.clientHeight/b.documentElement.clientWidth<1?"landscape":"portrait"}function g(){return!!("ontouchstart"in window)||!!(window.DocumentTouch&&document instanceof DocumentTouch)}function h(){var a,b={"Windows 98":"Windows 98","Windows 98; Win 9x 4.90 ":"Windows Me","Windows NT 4.0":"Microsoft Windows NT 4.0","Windows NT 5.0":"Windows 2000","Windows NT 5.01":"Windows 2000 SP1","Windows NT 5.1":"Windows XP","Windows NT 5.2":"Windows Server 2003; Windows XP x64 Edition","Windows NT 6.0":"Windows Vista","Windows NT 6.1":"Windows 7","Windows NT 6.2":"Windows 8","Windows NT 6.3":"Windows 8.1","Windows NT 10.0":"Windows NT 10.0"};for(a in b)if(b.hasOwnProperty(a)&&e(a.toLowerCase()))return b[a];return e("blackberry")||e("bb10")||e("rim")||e("playbook")?"Blackberry":e("(mobile;")||e("(tablet;")?"Firefox OS":e("webos")||e("hpwos")?"HP webOS":e("silk")||e("kfot")||e("kftt")||e("kfjw")||e("kfsowi")||e("kfthw")||e("kfapw")?"Amazon FireOS":e("symbianos")?"Symbian":e("macintosh")&&e("mac os x")?"Mac OS":!e("linux")||e("android")||e("webos")?e("windows phone 10.0")?"Windows Phone 10.0":e("windows phone")?"Windows Phone":e("android")?"Android":e("iphone")||e("ipad")||e("ipod")?"iOS":"other":"Linux"}function i(){return e("silk")?"Silk":e("iceweasel")?"Iceweasel":e("nokiabrowser")||e("browserng")?"BrowserNG/NokiaBrowser":e("edge")?"Edge":!e("crios")&&!e("chrome")||e("opera")||e("opr/")?!e("mobile safari")||e("chrome")||e("crios")||e("silk")?!e("safari")||e("chrome")||e("crios")||e("silk")?e("firefox")&&!e("seamonkey")?"Firefox":e("msie 9")?"MSIE9":e("msie 10")?"MSIE10":e("msie 11")||e("rv:11.0")||e("compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; Tablet PC 2.0")||e("compatible; MSIE 7.0; Windows NT 6.3; Trident/7.0; Touch")?"MSIE11":e("msie 8")?"MSIE8":e("msie")?"MSIE (not supported Version)":e("opera")||e("presto")||e("opr/")&&!e("opera mobi")?"Opera":e("opera mobi")?"Opera Mobile":(e("webos")||e("hpwos"))&&(e("webosbrowser")||e("pre/1"))?"webOSBrowser":e("seamonkey")?"SeaMonkey":"other":"Safari":"Mobile Safari":"Chrome"}function j(){return e("mobile")&&!e("ipad")||e("(mobile;")||e("phone")||e("android")&&e("mobile")&&!e("ipad")||e("ipod")||e("iphone")||e("windows")&&e("phone")||e("silk")&&e("mobile")||e("symbianos")||e("(mobile;")?"mobile":e("tablet")||e("(tablet;")||e("touch")||e("android")&&!e("mobile")||e("ipad")||e("windows")&&!e("phone")&&e("touch")||e("silk")&&!e("mobile")||e("(tablet;")?"tablet":e("blackberry")||e("bb10")||e("rim")?e("playbook")||e("tablet")?"tablet":"mobile":"desktop"}var k=a.navigator.userAgent.toLowerCase();return c.addToTaskQueue("performance","load","AS.RUM.getDeviceData",0,!1),c.extend(c,{getDeviceData:d})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a={connection:-2};return AS.RUM.getCookieValue("RWD-Connection")&&(a.connection=AS.RUM.getCookieValue("RWD-Connection")),a}function e(){var a,b={rum_connectionType:-2};if("undefined"!=typeof navigator&&(a=navigator.connection||navigator.mozConnection||navigator.webkitConnection,a&&"undefined"!=typeof a.type))switch(parseInt(a.type)){case 0:b.rum_connectionType="unknown";break;case 1:b.rum_connectionType="ethernet";break;case 2:b.rum_connectionType="wifi";break;case 3:b.rum_connectionType="cellular_2g";break;case 4:b.rum_connectionType="cellular_3g";break;default:b.rum_connectionType=a.type}return b}return c.addToTaskQueue("performance","load","AS.RUM.getConnectionFromCookie",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getConnectionType",0,!1),c.extend(c,{getConnectionFromCookie:d,getConnectionType:e})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a="";try{a=$OTTO.TS.getMergeParameters()}catch(b){}return c.queryStringToObj(a)}function e(){var a={srtt:-2,rttv:-2};try{a.srtt=o_tracking.latency.roundTripTimeVariance()}catch(b){a.srtt=-1}try{a.rttv=o_tracking.latency.smoothedRoundTripTime()}catch(b){a.rttv=-1}return a}return c.addToTaskQueue("performance","load","AS.RUM.addMergeParameters",0,!1),c.addToTaskQueue("performance","load","AS.RUM.getRTT",0,!1),c.extend(c,{addMergeParameters:d,getRTT:e})}(window,document,window.AS.RUM||{}),window.AS.RUM=function(a,b,c){function d(){var a,b,c,d;a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a&&(b=new a(function(a){a.forEach(function(a){"attributes"===a.type&&a.target.className.match("translated")&&"undefined"!=typeof o_tracking&&o_tracking.bct&&o_tracking.bct.sendEventToTrackingServer&&o_tracking.bct.sendEventToTrackingServer({rum_GoogleTranslate:!0})})}),c={attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeOldValue:!1,characterDataOldValue:!1,attributeFilter:["class"]},d=document.getElementsByTagName("html")[0],b.observe(d,c))}return c.addToTaskQueue("performance","load","AS.RUM.observeGoogleTranslation",0,!1),c.extend(c,{observeGoogleTranslation:d})}(window,document,window.AS.RUM||{});var AS=window.AS||{},o_global=window.o_global||{};AS.trackingHandler=AS.trackingHandler||{},AS.trackingHandler=function(){function a(a,j){a&&!j?e=setTimeout(function(){e&&(g===f.getCurrentBreakpoint()?(c(!0,!1),i=h.getCurrentOrientation()):(clearTimeout(d),d=void 0,c(!0,!0),b()))},500):d=setTimeout(function(){d&&(i===h.getCurrentOrientation()?(c(!1,!0),g=f.getCurrentBreakpoint()):(clearTimeout(e),e=void 0,c(!0,!0),b()))},500)}function b(){i=h.getCurrentOrientation(),g=f.getCurrentBreakpoint()}function c(a,b){var c={ot_BreakpointChange:b.toString(),ot_OrientationChange:a.toString()};AS.testing.status().activated&&console.info("[AS.trackinghandler]:"+JSON.stringify(c)+" BP: '"+f.getCurrentBreakpoint()+"', Orientation: '"+h.getCurrentOrientation()+"'"),o_tracking.bct.sendEventToTrackingServer(c)}var d,e,f=o_global.device.breakpoint,g=f.getCurrentBreakpoint(),h=o_global.device.orientation,i=h.getCurrentOrientation();return h.registerChangeListener(function(){a(!0,!1)}),f.registerChangeListener(function(){a(!1,!0)}),{}}();var o_global=o_global||{};!function(a,b){try{a.exactag=a.exactag||{},a.lhotse=a.lhotse||{},a.lhotse.exactag=a.lhotse.exactag||{};var c=a.location;b.extend(a.lhotse.exactag,{version:"0.8.7",debug:c.href.indexOf("#debug")>-1||"true"===b.cookie("debug"),benchmark:c.href.indexOf("#benchmark")>-1||"PixelBenchmark=true"===b.cookie("PartnerPixelBenchmark"),OptOutMode:!1,trackingOptOutMode:!1,testMode:!1,QAMode:!1,campaignId:"ffaacb82c52393300a9d3b3376091c43",baseParams:["campaign","pt","uu","ls","hc","cs","ag","pz","ka","bp"],data:{},fns:{},first:!0,register:function(b,c){a.lhotse.exactag.fns[b]=c},addCampaignId:function(){return a.lhotse.exactag.data.campaign=a.lhotse.exactag.campaignId,a.lhotse.exactag.data},addGenericData:function(){return a.lhotse.exactag.data.uu=b.cookie("BrowserId")||"",a.lhotse.exactag.data.sp=c.pathname.split(/\?|#/)[0].substring(1),a.lhotse.exactag.data.pt="Default",o_global.device&&o_global.device.breakpoint&&"function"==typeof o_global.device.breakpoint.getCurrentBreakpoint&&(a.lhotse.exactag.data.bp=o_global.device.breakpoint.getCurrentBreakpoint()),a.lhotse.exactag.data},addElchCookieData:function(){var c,d,e,f={},g=a.lhotse.exactag.debugInfo;try{if(e=b.cookie("pmInfo")||void 0,void 0!==e){if(c=JSON.parse(e),"true"===c.pi_send)return g("Marketing object has already been sent."),f;for(d in c)c.hasOwnProperty(d)&&2===d.length&&(f[d]=c[d]);if(e=e.replace(/"}/g,'", "pi_send":"true" }'),b.cookie("pmInfo",e,{path:"/",domain:".otto.de"}),!b.isEmptyObject(f))return g("Adding marketing object."),a.lhotse.exactag.data.mo=f,f}}catch(h){b.removeCookie("pmInfo",{path:"/",domain:".otto.de"})}},addVerticalsData:function(){return b(".exactag").each(function(){var c,d=b(this).data("trigger"),e=a.lhotse.exactag.fns[d],f=a.lhotse.exactag.debugInfo,g=a.lhotse.exactag.data;void 0!==d&&"function"==typeof e?(c=e(),c&&"object"==typeof c&&(c===g?f('Unnecessary return in trigger function "'+d+'"!'):b.extend(g,c))):f('Unknown trigger function "'+d+'"!')}),a.lhotse.exactag.data},cacheUserData:function(){var b,c,d=a.lhotse.exactag.data,e={};for(b=0;b<a.lhotse.exactag.baseParams.length;b++)c=a.lhotse.exactag.baseParams[b],d[c]&&(e[c]=d[c]);return a.lhotse.exactag.data=e,a.lhotse.exactag.data},removeEmptyItems:function(b){var c;b||(b=a.lhotse.exactag.data);for(c in b)b.hasOwnProperty(c)&&("object"==typeof b[c]?a.lhotse.exactag.removeEmptyItems(b[c]):""===b[c]&&delete b[c]);return a.lhotse.exactag.data=b,a.lhotse.exactag.data},debugInfo:function(b){a.lhotse.exactag.debug&&a.console&&(void 0!==b?console.info("INFO (lhotse.exactag.js): "+b):console.log(a.lhotse.exactag.data))},toggleMode:function(){function c(){a.lhotse.exactag.debugInfo('Sending data with "isTest" flag to exactag!'),a.lhotse.exactag.data.isTest="true"}function d(){a.lhotse.exactag.debugInfo('Sending data with "isQA" flag to exactag!'),a.lhotse.exactag.data.isQA="true"}function e(){a.lhotse.exactag.debugInfo('Sending data with "ro/optOut" flag to exactag!'),a.lhotse.exactag.data.ro="1"}function f(){a.lhotse.exactag.debugInfo("Sending data with 'to/optOut' flag to exactag!"),a.lhotse.exactag.data.to="1"}var g=b.cookie("PartnerPixelTest"),h=b.cookie("PartnerPixelPreview"),i=b.cookie("DS"),j=b.cookie("trackingDisabled");a.lhotse.exactag.testMode?c():void 0!==g?"PixelTest=true"===g&&c():delete a.lhotse.exactag.data.isTest,a.lhotse.exactag.QAMode?d():void 0!==h?"PixelPreview=true"===h&&d():delete a.lhotse.exactag.data.isQA,a.lhotse.exactag.OptOutMode?e():void 0!==i?"retOptOut=1"===i&&e():delete a.lhotse.exactag.data.ro,a.lhotse.exactag.trackingOptOutMode?f():void 0!==j?f():delete a.lhotse.exactag.data.to},track:function(){window.lhotse.exactag.finished?a.lhotse.exactag.continueTrack():window.lhotse.exactag.centralFinished=!0},continueTrack:function(){var c,d,e,f;if(a.lhotse.exactag.varnish&&a.lhotse.exactag.first){for(f=a.lhotse.exactag.varnish.data,e=0;e<f.length;e++)b.extend(a.lhotse.exactag.data,f[e]);a.lhotse.exactag.first=!1}a.lhotse.exactag.removeEmptyItems(),a.lhotse.exactag.toggleMode(),(b.cookie("seleniumBypassAdvertising")&&"true"!==b.cookie("seleniumBypassAdvertising")||!b.cookie("seleniumBypassAdvertising")&&!o_global.helper.cookieExist("app")&&lhotse.exactag.execute)&&exactag.track(a.lhotse.exactag.data),a.lhotse.exactag.benchmark&&(c=(new Date).getTime(),d=(c-a.lhotse.exactag.startTime)/1e3,a.lhotse.exactag.debugInfo("Sending data "+d+" seconds after DOMReady.")),a.lhotse.exactag.debugInfo(),a.lhotse.exactag.cacheUserData()},init:function(){b(document).ready(function(){a.lhotse.exactag.benchmark&&(a.lhotse.exactag.startTime=(new Date).getTime())}),o_global.eventLoader.onLoad(100,function(){a.lhotse.exactag.addCampaignId(),a.lhotse.exactag.addGenericData(),a.lhotse.exactag.addElchCookieData(),a.lhotse.exactag.addVerticalsData(),a.lhotse.exactag.track()})}()})}catch(d){}}(window,jQuery);var o_global=o_global||{};o_global.webtrends=function(){function a(){return!(!o_util.cookie.exists("trackingDisabled")||"true"!==o_util.cookie.get("trackingDisabled"))}function b(){return!(!o_util.cookie.exists("WT_TEST")||"on"!==o_util.cookie.get("WT_TEST"))}function c(){return window.AS&&AS.toggles?!!AS.toggles.webtr:!0}function d(){return{sent:l,id:m}}function e(){var d;a()||!b()&&!c()||o_util.cookie.exists("WT_ID")||(d=document.createElement("script"),d.src="https://statse.webtrendslive.com/"+k+"/wtid.js?callback=o_global.webtrends.handleWtId",l=!0,document.getElementsByTagName("head")[0].appendChild(d))}function f(a){var b=document.createElement("img");b.src="https://statse.webtrendslive.com/"+k+"/dcs.gif?WT.dl=99&WT.co_f="+a}function g(a){var b;"object"==typeof a&&(b=a.gWtId||a.gTempWtId,b&&(o_global.webtrends._requestWtPixel(b),o_global.webtrends._handleAdexIntegration(b),o_util.cookie.set("WT_ID",b,{days:3650}),"undefined"!=typeof o_tracking&&o_tracking.bct&&o_tracking.bct.sendMergeToTrackingServer&&o_tracking.bct.sendMergeToTrackingServer({ot_NewWebtrendsCookie:"true"}),m=b))}function h(a){var b="WT_OGM";o_util.cookie.get(b)!==a&&(o_global.webtrends._createAdexIframe(a),o_util.cookie.set(b,a,{domain:".otto.de",minutes:36e5}))}function i(a){var b=1e13*Math.random(),c=window.location.origin||window.location.protocol+"//"+window.location.hostname,d=document.createElement("iframe"),e=document.getElementsByTagName("script")[0];d.src="https://5127363.fls.doubleclick.net/activityi;src=5127363;type=match0;cat=colli0;u1="+a+";u2="+encodeURIComponent(c)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+b+"?",d.width="1",d.height="1",d.frameborder="0",d.style.display="none",e.parentNode.insertBefore(d,e)}function j(){l=!1,m=null}var k=-1===window.location.hostname.indexOf("www.otto.de")?"dcs222togkzo3c65texxkzsc7_1i3e":"dcsycz1lz000008muozn59hby_2w8r",l=!1,m=null;return o_global.eventLoader.onLoad(100,function(){e()}),{_isOptOut:a,_isWtTest:b,_isAssetToggleActive:c,_handleWtIdRequest:e,_requestWtPixel:f,_handleAdexIntegration:h,_createAdexIframe:i,_reset:j,getRequestWebTrendsSentData:d,handleWtId:g}}();var lhotse=lhotse||{};lhotse.copali=lhotse.copali||function(){var a={};return a.initAlerts=function(){$(document).on("click",".c_alert .c_close",function(){$(this).parent().fadeOut(function(){$(this).remove()})})},a.expander=function(){function a(a){var b;return a&&a.match(/^(#\w+)/)&&(b=$(RegExp.$1),b.length&&b.hasClass("c_expanderGroup")&&b.parent().hasClass("c_expanderAutoOpen"))?(b.addClass("c_expanderOpen"),!0):!1}function b(){a(window.location.hash)||$("div.c_expanderAutoOpen .c_expanderGroup").first().addClass("c_expanderOpen")}function c(){$(document).on("click",".js_expanderHeading",function(){$(this).parents(".c_expanderGroup").toggleClass("c_expanderOpen")}),$(window).on("hashchange",function(){a(window.location.hash)})}function d(){b(),c()}return{handlePageLoad:b,init:d}}(),a.openPopup=function(a,b,c,d){return o_global.popup.open(a,b,c,d)},a}(),$(document).ready(function(){lhotse.copali.initAlerts(),lhotse.copali.expander.init(),$(this).on("click",".js_btnToggleswitchLabel",function(){var a=$(this);a.hasClass("c_active")||a.addClass("c_active").siblings().removeClass("c_active")}),void 0===document.createElement("input").placeholder&&$("[placeholder]").focus(function(){var a=$(this);a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""===a.val()||a.val()===a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur().parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()===a.attr("placeholder")&&a.val("")})}),$(this).on("focus",".c_searchFieldWithX input",function(){$(".c_btnClear").show(),$(".c_searchFieldWithX").one("blur",".c_btnClear, input",function(){$(".c_btnClear").fadeOut("fast")})})}),function(a){a.widget("c.cDialog",a.ui.dialog,{options:{closeOnClickOutside:!0,createTrackingContext:!0,forceWidth:!1,modal:!0,sizeId:100,showTitle:!0,width:700},_determineWidth:function(){var a=this.options;if(a.forceWidth)return a.width;switch(a.sizeId){case 200:return 975;case 50:return 425;case 100:return 700;default:return 700}},_create:function(){var b=this,c=this.options;c.closeText="x",c.dialogClass+=" c_dialog c_dialog"+c.sizeId,c.width=this._determineWidth(),c.buttons&&c.buttons.length>0&&(c.dialogClass+=" c_dialogBtn"),c.modal||(c.dialogClass+=" c_dialogNonModal"),c.showTitle||(c.dialogClass+=" c_dialogNoTitle"),a.ui.dialog.prototype._create.apply(this),this.uiDialogTitlebarClose.removeAttr("title"),this.resizeEventHandlerName="_resizeEventHandler"+this.uuid,this[this.resizeEventHandlerName]=function(){b._position()}},open:function(){var b,c=this,d=this.options;a.ui.dialog.prototype.open.apply(this),b=a(".ui-widget-overlay"),b.addClass("c_dialog"),d.closeOnClickOutside&&b.on("click",function(a){c.close(a)}),a(window).on("resize",this[this.resizeEventHandlerName]),d.createTrackingContext&&"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.createContext&&$OTTO.TS.createContext(this.element.attr("id"),document.location.pathname+"layer")},close:function(b){this._isOpen&&this._trigger("beforeClose",b)!==!1&&(a.ui.dialog.prototype.close.apply(this),a(window).off("resize",this[this.resizeEventHandlerName]),this.options.createTrackingContext&&"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.closeContext&&$OTTO.TS.closeContext())}})}(jQuery),function(a){a.widget("c.slider",a.ui.slider,{options:{type:"First",showLabels:!1,showButtons:!1,showInput:!1},_create:function(){var b,c,d=this,e=this.options,f=e.value;this.element.addClass("c_slider c_slider"+e.type+(e.showButtons?" c_sliderButtons":"")+(e.showLabels?" c_sliderLabels":"")+(e.showInput?" c_sliderInput":"")),c=a('<div class="c_sliderWrapper"></div>'),e.showButtons&&a('<button class="c_sliderBtnLeft c_btn c_btnSymbol c_btn'+e.type+' c_btnIcon" type="button"><i>-</i></button>').click(function(){d.value(d.value()-e.step)}).appendTo(c),b=a("<div/>").appendTo(c),e.showButtons&&a('<button class="c_sliderBtnRight c_btn c_btnSymbol c_btn'+e.type+' c_btnIcon" type="button"><i>p</i></button>').click(function(){d.value(d.value()+e.step)}).appendTo(c),this.element.append(c),e.showInput&&(this.input=a('<input value="'+this._trimAlignValue(e.value)+'" maxLength="4" />').change(function(b){var c=a(this),e=c.val(),f=/^-?\d+$/;f.test(e)&&d._setValue(e),d._inputchange(b,0),e!==d.value().toString()&&(c.val(d.value()),d._trigger("inputerror",b))}).keydown(function(b){a.browser.msie&&13===b.keyCode&&a(this).blur()}).appendTo(this.element)),this.element=b,a.ui.slider.prototype._create.apply(this),e.showLabels&&(this.element.append('<span class="c_sliderLabelMin c_copy75 c_warmGrey300">'+this.options.min+"</span>"),this.element.append('<span class="c_sliderLabelMax c_copy75 c_warmGrey300">'+this.options.max+"</span>")),f.toString()!==this.value().toString()&&this._trigger("createwarning",null)},_change:function(){a.ui.slider.prototype._change.apply(this),this.options.showInput&&this.input.val(this.value())},_inputchange:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("inputchange",a,c)},_setValue:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),void this._refreshValue()):this._value()}})}(jQuery);var o_global=o_global||{};o_global.dialogBuilder=o_global.dialogBuilder||function(a){var b=$("<div />"),c=b,d=300,e="initial",f="spinner",g={50:void 0,100:500,200:450},h={sizeId:100,height:void 0,dialogClass:"",contentClasses:"",createTrackingContext:!0,position:{my:"center",at:"center",of:window},withSpinner:!0,beforeClose:function(){return!0},buttons:[],modal:!0,showTitle:!0,forceWidth:!1,width:700},i=$.extend({},h,a),j=function(a){return c.find("."+a)},k=function(a){return j(a).length>0},l=function(a){return j(a).is(":visible")},m=function(){return l(e)},n=function(a){var b;a&&(b=c.find(a),0!==b.length&&(c=b)),c.css({overflow:"hidden"})},o=function(a){var c=a.attr("title")||a.data("title");c&&b.cDialog("option","title",c),a.removeAttr("title")},p=function(a,e){var g=parseInt(c.css("height"),10),h=c.children(),j=!i.height&&!a.hasClass(f);e||(e=function(){}),j&&c.css({height:g,overflow:"hidden"}),h.fadeOut(d),h.promise().done(function(){var f;o(a),a.fadeIn(d),f=a.height()+45,f!==g&&j&&c.animate({height:f},{duration:d,step:function(){b.cDialog("option","position",i.position)},complete:function(){}}),$.when(a.promise(),c.promise()).done(function(){j&&c.css({height:"auto",overflow:"auto"}),$.proxy(e,b)()})})},q=function(a,c){var d,e=l(a);return k(a)&&!e?(d=j(a),p(d,c)):e&&$.proxy(c,b)(),this},r=function(){q(e)},s=function(a){$(".js_layerTitle",a).remove()},t=function(a){var b=$(" .c_expanderGroup",a).first();1===b.length&&b.addClass("c_expanderOpen")},u=function(a){var b,c,d=a.data("callback");if(d&&"string"==typeof d){for(b=d.split("."),c=window;b.length&&c;)c=c[b.shift()];"function"==typeof c&&c()}},v=function(a,d,e){var f,g,h=e;k(d)&&(g=j(d).addClass("old"),e=function(){h&&$.proxy(h,b)(),g.remove()}),f=$(a),f.length>1&&(f=$("<div>"+a+"</div>")),void 0!==d&&f.addClass(d),s(f),t(f),f.hide(),c.append(f),p(f,e)},w=function(a){var d=$("<div></div>");i.withSpinner?k(f)?q(f,a):(d.lazySpinner("start",0).css({height:c.height()-50,position:"relative"}),v(d,"spinner",a)):$.proxy(a,b)()},x=function(a,c,d){var e=function(){a&&(v(a,c,d),u($(a)),i.createTrackingContext&&"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.createContext&&$OTTO.TS.createContext(b.attr("id"),document.location.pathname+"layer"))};w(e)},y=function(a,d,f){c.addClass(i.contentClasses),d&&(d+=" "+e),b.cDialog("open"),x(a,d,f)},z=function(){b.cDialog("close")},A=function(a){b.cDialog("option","buttons",a)};return i.height="auto"===i.height?void 0:i.height||g[i.sizeId],b.cDialog({autoOpen:!1,beforeClose:i.beforeClose,buttons:i.buttons,close:function(){b.cDialog("destroy").remove(),i.createTrackingContext&&"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.closeContext&&$OTTO.TS.closeContext()},createTrackingContext:!1,dialogClass:i.dialogClass,height:i.height,modal:i.modal,position:i.position,sizeId:i.sizeId,showTitle:i.showTitle,forceWidth:i.forceWidth,width:i.width}),{open:y,close:z,setResultContent:x,switchContentTo:q,switchContentToInitial:r,isInitialContentActive:m,hasContentWithClass:k,setResultContentContainer:n,addButtons:A}},o_global.dialog=o_global.dialog||function(){var a=function(a){$.ajax({url:a.url,headers:{Accept:"text/html; charset=utf-8"},success:function(b){var c,d=$(b);d.length&&(c=o_global.dialogBuilder({createTrackingContext:a.createTrackingContext,dialogClass:a.dialogClass,height:a.height,modal:a.modal,position:a.position,sizeId:a.sizeId,forceWidth:a.forceWidth,width:a.width}),o_global.Tooltip.hide(),c.open(d,a.className,function(){a.trackingEvent&&$(window).trigger(a.trackingEvent,[a.trackingKey])}))}})},b=function(a){var b=a.data("dialog-position");b&&"window"===b.of&&(b.of=window),o_global.dialog.open({url:a.attr("href"),className:"contentFromLink",createTrackingContext:a.data("dialog-createtrackingcontext"),dialogClass:a.data("dialog-class"),height:a.data("dialog-height"),modal:a.data("dialog-modal"),position:b,sizeId:a.data("dialog-sizeid"),forceWidth:a.data("dialog-forcewidth"),width:a.data("dialog-width"),trackingKey:a.data("tracking-key"),trackingEvent:a.data("tracking-event")})},c=function(){$(document).on("click",".js_openInLayer",function(a){var c=$(this);a.preventDefault(),b(c)})};return $(function(){c()}),{open:a,openFromLink:b}}();var o_global=o_global||{};o_global.fallbackImage=function(){function a(a){var b=a.data(c);a.attr("src",b)}var b,c="fallbackimage-url",d={};return d.load=function(c){var d=$(c),e=d.data("fallbackImage-hasfallback");e||(d.data("fallbackImage-hasfallback",!0),a(d),b&&b(c))},d.setCallback=function(a){b=a},d}();var o_global=o_global||{};o_global.goBackTrigger=o_global.goBackTrigger||function(){$(function(){$(document).on("click",".js_goBack",function(a){var b=$(this).attr("href");a.preventDefault(),window.history.back(),b&&setTimeout(function(){window.location=b},200)})})}();var global=global||{};global.hashTracking=function(){function a(a,b){b&&$.extend(a,{ns_type:""});try{$OTTO.TS.sendToTrackingServer(a,"merge")}catch(c){console.log("no connection to tracking Server")}}function b(){var b,c,f;if(e=$(d).data("track")){b=$.bbq.getState("t");try{b&&(f=JSON.parse(b),f&&(a(f),c=$.deparam.fragment(),delete c.t,window.location.replace("#"+$.param(c)),""!==window.location.hash&&"#"!==window.location.hash||!history.replaceState||history.replaceState("",document.title,window.location.href.replace(/#$/,""))))}catch(g){}}}function c(a){(!f||a)&&b(),f=!0}var d=".js_tracking",e=!1,f=!1;return{init:c,hashTrack:b}}(),$(window).on("load",function(){global.hashTracking.init()}),function(a){a.fn.maxlength=function(b){var c=a.extend({attribute:"maxlength",onEdit:function(){}},b),d={};return d.trigger=function(){var b=a(this),d=parseInt(b.attr(c.attribute));b.val().length>d&&b.val(b.val().substr(0,d)),a.proxy(c.onEdit,this)(d-b.val().length)},this.on("input paste keyup keydown focus",d.trigger)}}(jQuery);var o_global=o_global||{};o_global.jsLoader=o_global.jsLoader||function(){function a(a){var b=document.createElement("script");b.text=a,document.getElementsByTagName("body")[0].appendChild(b)}function b(b,c,d,e){var g=f[c],h=g.responses;for(g.responses[d]=e?b:"ERROR";g.currentIndex<h.length&&"undefined"!=typeof h[g.currentIndex];)"ERROR"!==h[g.currentIndex]&&(a(h[g.currentIndex]),g.successIndex++),delete h[g.currentIndex],g.currentIndex++;g.currentIndex===h.length&&g.successIndex===h.length&&"function"==typeof g.successCallback&&g.successCallback()}function c(a,c,d){return function(e){b(e,a,c,d)}}function d(a,b){var d,e=f.push({responses:new Array(a.length),currentIndex:0,successIndex:0,successCallback:b})-1;for(d=0;d<a.length;d++)$.ajax({url:a[d],dataType:"text",success:c(e,d,!0),error:c(e,d,!1)});return e}function e(a){var b=f[a];return b.currentIndex===b.responses.length}var f=[];return{load:d,isComplete:e}}(),function(a){function b(a){a.html(e.clone()),a.trigger("activated.lazySpinner")}function c(a){var b=a.data("lazySpinner");b&&window.clearTimeout(b)}var d="lazySpinner",e=a("<div></div>").addClass(d),f=1e3,g={start:function(d){var e=a(this),g=null;"undefined"==typeof d&&(d=f),c(e),d>0?(e.empty(),g=window.setTimeout(function(){b(e)},d)):b(e),e.data("lazySpinner",g)},stop:function(){var b=a(this);c(b),a("."+d,b).remove()}};a.fn.lazySpinner=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){g[a].apply(this,b)})}}(jQuery);var o_global=o_global||{};o_global.links=o_global.links||function(){var a=function(){function a(){$(document).on("mousedown",".js_hasExtraParam",function(){var a=$(this),c=a.attr("href");a.attr("href",$.param.fragment(c,a.data(b)))})}var b="extra-param";return{init:a}}(),b=function(){var a="ub64e",b={};return b.realClick=function(a){a[0].click()},b.replaceLink=function(){var b,c=$(this),d=c.contents(),e=Base64.decode(c.data(a)),f=c.attr("class"),g=c.attr("style"),h=c.data("target"),i=c.data(),j=$("<a>"),k=c[0].attributes;for(j.addClass(f).removeClass(a),j.attr("style",g),j.attr("href",e),j.attr("target",h),j.data(i),b=0;b<k.length;b++)-1!==k[b].name.indexOf("data-")&&"data-ub64e"!==k[b].name&&j[0].setAttribute(k[b].name,k[b].value);return d.length?d.unwrap().wrapAll(j).parent():c.replaceWith(j)},b.getReal=function(b){return b.hasClass(a)&&(b=this.replaceLink.call(b)),b},b.init=function(){$(document).on("touchstart","."+a,function(a){var c=b.replaceLink.call(this);2===a.which&&c.attr("target","_blank"),(1===a.which||2===a.which)&&c.on("touchend",function(){o_global.links.masking.realClick(c)})}),$(document).on("mouseover","."+a,function(){b.replaceLink.call(this)}),$(document).on("ub64e","."+a+", a",function(){var c=$(this);c.hasClass(a)&&(c=b.replaceLink.call(this)),o_global.links.masking.realClick(c)})},{init:b.init,realClick:b.realClick,getReal:b.getReal}}();return $(function(){o_global.links.masking.init(),o_global.links.extraParam.init()}),{extraParam:a,masking:b}}();var global=global||{},o_global=o_global||{};o_global.Tooltip=function(){function a(){y=$("body"),c()}function b(){x=$("."+E),x.length||(x=$("<div class='"+E+"'></div>"),x.hide(),y.prepend(x),
D=y)}function c(){y.on({focus:f,click:f,blur:h},"."+F),y.on({mouseenter:f,mousemove:g,mouseleave:h},"."+F+":not(input, select)")}function d(a){a.removeClass(F),l()}function e(a){var b=a.data(V);(!N||z&&!z.is(a))&&(z=a,N?l():N=!0,0===b?k(a):A=setTimeout(function(){k(a)},b||I))}function f(){e($(this))}function g(a){B=a.pageX,C=a.pageY,L&&(x.css(p(B,C,0,0,K)),n())}function h(){l()}function i(a){for(;O.length>0;)x.removeClass(O.pop());if("Array"!=typeof a){var b=(""+a).split(" ");for(a=[];b&&b.length>0;){var c=$.trim(b.pop());""!=c&&c!=E&&a.push(c)}}a.length>0&&(x.addClass(a.join(" ")),O=a)}function j(a){y.on("touchstart",function(b){var c=b.target;return!x.is(c)&&!x.has(c).length&&($(this).off(b),l(),a.is(c)||a.has(c).length)?!1:void 0})}function k(a){var c,d,e=a.data(Q),f=a.data(T),g=$(document);if(x||b(),e&&""+e!=""){var h=$("#"+e);c=h.html(),d=h.attr("class")}else c=a.data(P),d=a.data(U);x.html(c),f&&""+f!=""&&o("c_toolTip"+f),d&&""+d!=""&&i(d),v(a),n(),x.fadeIn(J,function(){g.one("keyup",function(a){a.keyCode===W&&l()}),"undefined"!=typeof Modernizr&&Modernizr.touch&&"input"!==a.prop("nodeName").toLowerCase()&&j(a)})}function l(a){(!a||a.is(z))&&(clearTimeout(A),N=!1,x&&x.hide(),L=!1)}function m(a,b){var c,d,e,f=[],g=[],h={};for(e=b.length,c=0;e>c;c++)h[b[c]]=!0;for(e=a.length,c=0;e>c;c++)h[a[c]]?h[a[c]]=!1:f.push(a[c]);for(d in h)h[d]&&g.push(d);return{add:f,remove:g}}function n(){var a=m(Y,X);X=Y.slice(0),a.add.length&&x.addClass(a.add.join(" ")),a.remove.length&&x.removeClass(a.remove.join(" ")),Y.length=0}function o(a){Y.push(a)}function p(a,b,c,d,e,f){var g,h,i=$(window),j=x.outerWidth(),k=x.outerHeight(),l=Math.floor(c/2),m=Math.floor(d/2),n=i.scrollLeft(),p=i.scrollTop();return(!f||"horizontal"!==f&&"vertical"!==f)&&(f=M),"vertical"===f?(o("c_toolTipVertical"),g=a+c+e,i.width()+n<g+j&&a-j-e>n&&(o("c_toolTipVerticalRight"),g=a-j-e),h=b+m-G,i.height()+p<h+k&&b+m-k+G>p&&(o("c_toolTipVerticalBottom"),h=b+m-k+G)):(o("c_toolTipHorizontal"),g=a+l-G,i.width()+n<g+j&&a+l-j+G>n&&(o("c_toolTipHorizontalRight"),g=a+l-j+G),h=b-k-e,p>h&&p+i.height()>b+e+k&&(o("c_toolTipHorizontalTop"),h=b+c+e)),{left:g,top:h}}function q(a){return $.contains(document.documentElement,a[0])}function r(a,b){return B>=b.left&&B<=b.left+a.outerWidth()&&C>=b.top&&C<=b.top+a.outerHeight()}function s(a,b){return r(a,b)||!q(a)?p(B,C,0,0,K):p(b.left,b.top,a.outerWidth(),a.outerHeight(),H)}function t(a,b,c,d,e,f){d>b||b>=d+f?(o("c_toolTipHorizontal"),b>=d+f&&o("c_toolTipHorizontalTop")):(o("c_toolTipVertical"),c+e>a&&o("c_toolTipVerticalRight"))}function u(a){a!==D&&(x=x.detach(),x.prependTo(a),D=a)}function v(a){var b,c,d=a.data(R),e=a.data(S),f=a.offset();d?"mouse"===d?(u(y),L=!0,x.css(s(a,f))):d.match(/^(#\w+)$/)?(b=$(RegExp.$1),c=b.offset(),u(b),b.hasClass("c_toolTipPosRef")||b.addClass("c_toolTipPosRef"),t(c.left,c.top,f.left,f.top,a.outerWidth(),a.outerHeight()),x.css({left:0,top:0})):(u(y),x.css(p(f.left,f.top,a.outerWidth(),a.outerHeight(),H))):(u(y),x.css(p(f.left,f.top,a.outerWidth(),a.outerHeight(),H,e)))}function w(){z&&k(z)}var x,y,z,A,B,C,D,E="c_toolTip",F="js_hasTooltip",G=20,H=15,I=400,J=200,K=15,L=!1,M="horizontal",N=!1,O=[],P="tooltip",Q="tooltip-ref",R="tooltip-pos",S="tooltip-orientation",T="tooltip-type",U="tooltip-class",V="delay",W=27,X=[],Y=[];return $(function(){a($(this))}),{init:a,kill:d,hide:l,show:e,reloadContent:w,info:"pattern is deprecated"}}(),global.Tooltip=o_global.Tooltip;var global=global||{};global.tools=function(){function a(a){try{a=a?a:window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}catch(b){"console"in window&&"log"in window.console&&console.log(b)}}return{cancelBubbling:a}}();var o_global=o_global||{},o_util=o_util||{};o_global.pali=o_global.pali||{},o_global.pali.scrollTopButton=function(){function a(){o_global.helper.addEvent(window,"touchstart",function(){setTimeout(c,50)}),o_global.helper.addEvent(window,"scroll",b)}function b(){s||(s=!0,o&&clearTimeout(o),o=setTimeout(c,75))}function c(){m=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),Math.abs(m-n)>5&&(n>m&&m>2*t?i():j()),n=m,s=!1}function d(){var a,b;if(l){switch(b=q.clientWidth,o_global.device.breakpoint.getCurrentBreakpoint()){case"s":a=b/2-l.clientWidth/2;break;case"m":a=16;break;case"l":case"xl":a=24,window.matchMedia("(min-width: 77em)").matches&&(a=-1*(a+l.clientWidth));break;default:a=0}l.style.left=q.offsetLeft+b-l.clientWidth-a+"px"}}function e(){l=document.createElement("button"),l.innerHTML="Nach oben<i>&nbsp;^</i>",o_global.helper.addClass(l,"p_btn50--2nd p_scrollTopButton p_scrollTopButton--hidden"),document.body.appendChild(l),o_global.helper.addEvent(l,"click",function(){o_util.animation.scrollTo(0,500),"undefined"!=typeof o_tracking&&o_tracking.bct&&o_tracking.bct.sendEventToTrackingServer&&o_tracking.bct.sendEventToTrackingServer({ot_ToTopButton:"clicked"})}),f(),o_global.helper.addEvent(window,"resize",d),d()}function f(){q=o_global.helper.getElementsByClassname(document.body,"gridContainer")[0]||document.body}function g(){return o_global.helper.hasClass(document.documentElement,"p_lock")}function h(){return!(k()||g())}function i(){return p&&clearTimeout(p),p=setTimeout(j,4e3),d(),h()?(l||(e(),"undefined"!=typeof o_tracking&&o_tracking.bct&&o_tracking.bct.sendEventToTrackingServer&&o_tracking.bct.sendEventToTrackingServer({ot_ToTopButton:"shown"})),setTimeout(function(){o_global.helper.removeClass(l,"p_scrollTopButton--hidden")},0),r=!0,!0):!1}function j(){return l&&r?(o_global.helper.addClass(l,"p_scrollTopButton--hidden"),r=!1,!0):!1}function k(){return r}var l,m,n,o,p,q,r=!1,s=!1,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return setTimeout(a,100),{showButton:i,hideButton:j,isVisible:k}}(),function(a,b){function c(b,c){var e=a(this),f=e.data("additionalattributes"),g=e.attr("href");void 0!==g&&null!==g&&"string"==typeof g&&(void 0!==f&&null!==f&&"string"==typeof f&&(g=a.param.querystring(g,f)),-1!==g.indexOf("#")&&(g=g.substring(0,g.indexOf("#"))),a.ajax({url:g,cache:!0,success:function(b){var f=a(b);f.hide(),e.replaceWith(f),f[c.effect](c.effect_speed),e.replaceWith(b),this.loaded=!0,d.trigger("lazyLoaded",[e])},error:function(){}}))}var d=a(b);a.fn.esiAjax=function(){var b={effect:"fadeIn",effect_speed:"fast"};return a.each(this,function(){c.call(this,0,b)})},a(function(){var d=a(".esiAjax:not(.lazy)");d.data("onload")===!0?a(b).on("load",function(){d.esiAjax()}):d.esiAjax(),a(".esiAjax.lazy").lazyload({appear:c,effect:"fadeIn",threshold:400}).lazySpinner("start",0)})}(jQuery,window),function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(a){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.one("appear",function(){if(!this.loaded){var c=a.grep(i,function(a){return!a.loaded});if(i=a(c),j.appear){var d=i.length;j.appear.call(b,d,j)}}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(a){b.loaded||c.trigger("appear")})}),e.bind("resize",function(a){g()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);var o_global=o_global||{};o_global.removeMobileCookie=o_global.removeMobileCookie||function(){var a;"string"==typeof $.cookie("FromMobile")&&(a=new Date,a.setTime(a.getTime()+72e5),$.removeCookie("FromMobile"),$.cookie("FromMobile","1",{expires:a,path:"/",domain:".otto.de"}))}();var o_global=o_global||{};o_global.mpathy=o_global.mpathy||function(){function a(a,b){if("string"==typeof a&&"string"==typeof b){var c={ot_MpathyVid:a,ot_MpathyPageId:b};$OTTO&&$OTTO.TS&&$OTTO.TS.sendToTrackingServer&&"function"==typeof $OTTO.TS.sendToTrackingServer&&$OTTO.TS.sendToTrackingServer(c,"merge")}}function b(){var a=[d,e];return c(!0,a)}function c(a,b){for(;b.length;)if(b.shift().call()===a)return a;return!a}function d(){return"s"!==o_global.device.breakpoint.getCurrentBreakpoint()&&"m"!==o_global.device.breakpoint.getCurrentBreakpoint()}function e(){function a(){var a=["SAMSUNG SM-G900F","SM-G900P","SAMSUNG SM-G900H","SAMSUNG SM-G900T","SM-G900F","SM-G900H","SCL23","SAMSUNG SM-G900FQ","SM-G900T","SM-G900V","SM-G900M","SC-04F","SAMSUNG SM-G900I"];for(var b in a)if(a.hasOwnProperty(b)&&navigator.userAgent.match(a[b]))return!0;return!1}function b(){return!!navigator.userAgent.match("iPhone")&&(667===window.screen.height&&375===window.screen.width||667===window.screen.width&&375===window.screen.height)}return(a()||b())&&f()}function f(){var a=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return a?"wifi"===a.type||2===parseInt(a.type,10):!0}return{trackToComscore:a,isEnabled:b}}();var o_global=o_global||{},AS=AS||{},o_util=o_util||{};AS.cookieCheck=function(){function a(){var a,b,c,d=document.cookie.split(/;\s*/),e=window.location.hostname.split("."),f=e.length;f>2&&(a="."+e.slice(f-2,f).join("."));for(var g=0;g<d.length;g+=1)c=d[g].split(/=\s*/),c.length>1&&c[1].length>1024&&(b=c[0],a&&a.split(".")[a.split(".").length-1].length<2&&(a=""),a?o_util.cookie.remove(b,{domain:a}):o_util.cookie.remove(b),AS.cookieCheck.track(b,!o_util.cookie.exists(b)))}function b(a,b){AS.RUM.sendCustomRequest("asset",{cookieName:a,isDeleted:b,breakpoint:o_global.device.breakpoint.getCurrentBreakpoint(),parentUrl:window.location.href})}return{track:b,run:a}}(),o_global.eventLoader.onLoad(1e3,AS.cookieCheck.run);var o_global=o_global||{};o_global.pali=o_global.pali||{},o_global.pali.initAccordion=o_global.pali.initAccordion||function(){function a(){$(document).on("click",".p_accordion__header",function(){o_global.helper.toggleClass(this,"p_accordion__header--open");var a=!!o_global.helper.hasClass(this,"p_accordion__header--open");$(this).trigger("p_accordionChange",[a]),navigator.userAgent.indexOf("MSIE 8")>-1&&$(this).parent().toggleClass("triggerIe8Redraw")})}$(function(){a()})}();var o_global=o_global||{};o_global.pali=o_global.pali||{},o_global.pali.presets={animationSpeed:500,animationEasing:"easeInOutCubic"};var o_global=o_global||{},o_util=o_util||{};o_global.pali=o_global.pali||{},o_global.pali.DropButton=function(a){function b(){var a=g.trigger.getBoundingClientRect(),b=g.content.getBoundingClientRect(),c=a.left,d=o_global.device.screen.getWidth()-a.right,e=b.width-a.width,f=g.content.classList.contains("p_dropBtn__content--left");e>c&&e>d?c>d?f&&g.content.classList.remove("p_dropBtn__content--left"):d>c&&(f||g.content.classList.add("p_dropBtn__content--left")):!f&&e>c?g.content.classList.add("p_dropBtn__content--left"):f&&e>d&&g.content.classList.remove("p_dropBtn__content--left")}function c(){g.isOpen=!0,g.openCallback&&g.openCallback(),b()}function d(a){var b=document.getElementById(a);g.content.hasChildNodes()?g.content.classList.remove("p_dropBtn__content--hidden"):(b.classList.remove("p_dropBtn__content--hidden"),b.removeAttribute("style"),g.content.appendChild(b),g.hasStaticContent=!0),c()}function e(a){for(;g.content.firstChild;)g.content.removeChild(g.content.firstChild);g.content.appendChild(g.loader),o_util.ajax.get(a,function(a){200!==a.status&&g.container.classList.add("p_dropBtn--error"),g.content.innerHTML=a.responseText,c()})}function f(){var a=g.trigger.getAttribute("data-content-id"),b=g.trigger.getAttribute("data-url");g.container.classList.add("p_dropBtn--open"),g.container.appendChild(g.content),b?e(b):a&&d(a)}var g=this;return this instanceof o_global.pali.DropButton?(this.id=null,this.trigger=a,this.container=a.parentNode,this.content=document.createElement("div"),this.loader=document.createElement("div"),this.loader.classList.add("p_loader100"),this.loader.style.margin="0 auto",this.isOpen=!1,this.orientation=this.trigger.getAttribute("data-trigger-pos"),this.openCallback=this.trigger.getAttribute("data-open-callback"),this.closeCallback=this.trigger.getAttribute("data-close-callback"),this.loadContent=void 0,this.hasStaticContent=!1,this.openCallback&&(this.openCallback=o_util.core.convertStringToFunction(this.openCallback,window)),this.closeCallback&&(this.closeCallback=o_util.core.convertStringToFunction(this.closeCallback,window)),"left"===this.orientation?this.content.classList.add("p_dropBtn__content--left"):this.content.classList.remove("p_dropBtn__content--left"),this.loadContent=f,void this.content.classList.add("p_dropBtn__content")):new o_global.pali.DropButton(a)},o_global.pali.DropButton.prototype.open=function(){this.trigger.disabled||this.loadContent()},o_global.pali.DropButton.prototype.close=function(){this.isOpen&&(this.container.classList.remove("p_dropBtn--open","p_dropBtn--error"),this.hasStaticContent?this.content.classList.add("p_dropBtn__content--hidden"):this.container.removeChild(this.content),this.isOpen=!1,this.closeCallback&&this.closeCallback())},o_global.pali.DropButton.prototype.toggle=function(){this.isOpen?this.close():this.open()},o_global.pali.DropButtonHandler=function(){function a(a){var c,d,e=o_util.event.getTarget(a),f=o_util.misc.isValidMouseButton(a,1);e&&f&&(c=new o_global.pali.DropButton(e),d="dropBtn-"+b.dropButtonCount,c.container.setAttribute("data-dropbtn-id",d),e.classList.remove("js_openDropBtn"),b.dropButtonCount+=1,b.dropButtonList[d]=c,c.open(),o_util.event.stop(a),o_util.event.add(e,"click",function(){c.toggle()}))}var b=this;return this instanceof o_global.pali.DropButtonHandler?(this.dropButtonList={},this.dropButtonCount=0,void o_global.eventLoader.onReady(40,function(){o_util.event.delegate("body","click",".js_openDropBtn",function(b){a(b)})})):new o_global.pali.DropButtonHandler},o_global.pali.DropButtonHandler.prototype.getInstance=function(a){return a?this.dropButtonList[a]:void 0},o_global.pali.DropButtonHandler.prototype.close=function(a){this.getInstance(a).close()},o_global.pali.dropBtnHandler=new o_global.pali.DropButtonHandler;var o_global=o_global||{};o_global.pali=o_global.pali||{},o_global.pali.androidSelectBoxFix=o_global.pali.androidSelectBoxFix||function(){function a(){var a=navigator.userAgent,b=a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&-1===a.indexOf("Chrome");if(b)for(var c=o_global.helper.getElementsByClassname(document,"p_form__select"),d=c.length-1;d>=0;--d){var e=new RegExp("p_form__select","g");c[d].className=c[d].className.replace(e,"p_form__select--androidworkaround")}}function b(){o_global.helper.addEvent(document,"touchstart",function(){})}return $(function(){b(),a()}),{androidSelectBoxFix:a}}();var o_global=o_global||{};o_global.helper=o_global.helper||{},function(){function a(){o_global.helper.addEvent(document,"click",function(a){a=a||window.event;var b=a.target||a.srcElement;if(o_global.helper.hasClass(b,"js_message__close")){var c=o_global.helper.hasClassInParents(b,"p_message");c&&(c.style.display="none")}})}$(function(){a()})}();var o_global=o_global||{},o_util=o_util||{},AS=AS||{};o_global.pali=o_global.pali||{},AS.toggles=AS.toggles||{},o_global.pali.layerPoC=function(){function a(){o_util.cookie.set("AS.layerPoC",1,{days:365}),console.log("layer PoC has been activated")}function b(){o_util.cookie.remove("AS.layerPoC"),console.log("layer PoC has been deactivated")}function c(){return o_util.cookie.exists("AS.layerPoC")}return{activate:a,deactivate:b,status:c}}(),AS.toggles.LHAS1600||o_global.pali.layerPoC.status()?(document.body.classList.add("layer-poc"),o_global.pali.layerBuilder=function(){function a(a){var c={},d=this,e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("a"),l=null,m=null,n='<button href="#" class="js_PaliLayerBack p_btn100--3rd p_layer__button"><i>&lt;&nbsp;</i>Zurück</button>',o=!1,p=0,q=[],r=[],s=[],t=0;c=o_global.helper.extend(b,a,!0,!0),r[0]=o_global.helper.clone(c),r[0].closeCallback=o_global.helper.cloneFunction(c.closeCallback),h.className="p_curtain",f.className=c.layerClass,o_global.helper.addClass(f,"p_layer--hidden"),g.className="p_layer__wrapper",i.className="p_layer__content",j.className="p_layer__header",k.className="p_layer__close",k.innerHTML="X",f.id="p_layer","removed"===c.headerDisplayMode?o_global.helper.addClass(f,"p_layer--headerRemoved"):"removedOnSmallScreens"===c.headerDisplayMode&&o_global.helper.addClass(f,"p_layer--headerRemovedOnSmallScreens"),this.getContainerElement=function(){return f},this.getCurtainElement=function(){return h},this.setHeight=function(a){},this.setWidth=function(a){var b,c=32;b=Math.max(parseInt(document.documentElement.clientWidth,10)-2*c,768),o_global.device.breakpoint.isNoMQ()?f.style.cssText+=";width: "+a+" !important;":f.style.width=a,f.style.maxWidth=b+"px"},this.setBreakpointHeight=function(a,b,c,e){switch(o_global.device.breakpoint.getCurrentBreakpoint()){case"s":d.setHeight(a||e);break;case"m":d.setHeight(b||e);break;case"l":case"xl":d.setHeight(c||e);break;default:d.setHeight(e)}},this.setBreakpointWidth=function(a,b,c){switch(o_global.device.breakpoint.getCurrentBreakpoint()){case"l":d.setWidth(a||c);break;case"xl":d.setWidth(b||c);break;default:d.setWidth(c)}},this._findBodyAndHeadline=function(){var a=o_global.helper.getElementsByClassname(i,"p_layer__headline"),b=o_global.helper.getElementsByClassname(i,"p_layer__body");a&&(l=a[0]),b&&(m=b[0])},this._setElementContent=function(a,b){"string"==typeof a?o_global.helper.isIE8()&&a.indexOf("<style")>-1?b.innerHTML='<div style="display:none;">&nbsp;</div>'+a:b.innerHTML=a:b.parentNode.replaceChild(a,b),b===g&&(i=o_global.helper.getElementsByClassname(g,"p_layer__content")[0]),o_global.helper.executeInlineScripts(b),d._parseLegacyDataAttributes(),d._findBodyAndHeadline()},this.setContent=function(a){d._setElementContent(a,i)},this.setWrapperContent=function(a){d._setElementContent(a,g)},this.setContentFromURL=function(a,b){d._addLoaderToContent(),o_util.ajax.get(a,function(a){200!==a.status?(d.setContent('<div class="p_message p_message--error p_layer--error"><b>Entschuldigung!</b> Aufgrund von technischen Problemen kann der Inhalt leider nicht geladen werden. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.</div>'),"function"==typeof b&&b('<div class="p_message p_message--error p_layer--error"><b>Entschuldigung!</b> Aufgrund von technischen Problemen kann der Inhalt leider nicht geladen werden. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.</div>',a.status)):(d.setContent(a.responseText),"function"==typeof b&&b(a.responseText,a.status))})},this._addLoaderToContent=function(){var a;a=document.createElement("div"),a.className="p_loader200",a.innerHTML="Wird geladen...",i.insertBefore(a,i.hasChildNodes()?i.childNodes[0]:null)},this.createTrackingContext=function(){"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.createContext&&$OTTO.TS.createContext(f.id,document.location.pathname+"layer")},this.closeTrackingContext=function(){"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.closeContext&&$OTTO.TS.closeContext()},this._parseLegacyDataAttributes=function(){var a=i.querySelectorAll("[data-title], [data-callback], .shoppagesLayer")[0];if(void 0===a)return!0;o_global.helper.getElementsByClassname(i,"p_layer__body").length<=0&&o_global.helper.addClass(a,"p_layer__body");var b=a.getAttribute("data-title");if(b&&o_global.helper.getElementsByClassname(i,"p_layer__headline").length<=0){var c=document.createElement("div");c.className="p_layer__headline",c.innerHTML=b,i.insertBefore(c,a)}var d=o_global.helper.getElementsByClassname(a,"js_layerTitle")[0];d&&d.parentNode.removeChild(d);var e=a.getAttribute("data-callback");e&&o_global.helper.convertStringToFunction(e,window)()},this.open=function(){if(d._pushHistory("layer"),d._hideLayerOnSmallScreens(),null!==c.width&&d.setWidth(c.width),(null!==c.widthL||null!==c.widthXL)&&(d.setBreakpointWidth(c.widthL,c.widthXL,c.width),o_global.device.breakpoint.registerChangeListener(function(){d.setBreakpointWidth(c.widthL,c.widthXL,c.width)})),c.modal&&!c.lockCurtain?(o_global.helper.addEvent(h,"click",d.close),o_global.helper.addEvent(j,"click",d.close)):o_global.helper.addEvent(k,"click",d.close),o_global.helper.addEvent(window,"hashchange",function(){window.location.hash===s[0]?d.close(!0):window.location.hash===s[p]&&d.revertLayerContent(!0)}),c.content?d.setContent(c.content):c.url?d.setContentFromURL(c.url,d._postOpenCallback):(d.setContent(""),d._addLoaderToContent()),c.modal&&(o_global.helper.addClass(h,"p_curtain--hidden"),document.body.appendChild(h)),d._setLayerPosition(),document.body.appendChild(f),o=!0,"removed"!==c.headerDisplayMode&&(f.appendChild(j),j.appendChild(k)),f.appendChild(g),g.appendChild(i),c.menuContent&&d.setMenuContent(c.menuContent),o_global.pali.layer.setActiveLayer(d),o_global.device.breakpoint.isNoMQ()){var a=window.innerHeight?window.innerHeight:$(window).height(),b=window.innerWidth?window.innerWidth:$(window).width();$(f).css("top",Math.max(0,(a-$(f).outerHeight())/2+$(window).scrollTop())+"px"),$(f).css("left",Math.max(0,(b-$(f).outerWidth())/2+$(window).scrollLeft())+"px")}window.getComputedStyle&&window.getComputedStyle(f).opacity,d._slideInLayerOnSmallScreens(),o_global.helper.removeClass(f,"p_layer--hidden"),c.modal&&o_global.helper.removeClass(h,"p_curtain--hidden"),c.url||d._postOpenCallback();try{o_global.pali.scrollTopButton.hideButton()}catch(e){}},this._setLayerPosition=function(){var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,b=o_global.device.breakpoint.isBreakpointActive(["s","m"])?0:28;f.style.top=a+b+"px"},this._hideLayerOnSmallScreens=function(){o_global.breakpoint.isBreakpointActive(["s","m"])&&o_util.misc.setVendorStyle(f,"transform","translateY("+document.body.offsetHeight+"px)")},this._slideInLayerOnSmallScreens=function(){o_global.breakpoint.isBreakpointActive(["s","m"])&&o_util.misc.setVendorStyle(f,"transform","translateY(0)")},this._postOpenCallback=function(){c.trackingEvent&&c.trackingKey&&$(window).trigger(c.trackingEvent,[c.trackingKey]),c.createTrackingContext&&d.createTrackingContext(),c.openCallback&&d.executeCallback()},this.executeCallback=function(){c.openCallback()},this._removeLayerAndCurtain=function(){document.body.removeChild(f),c.modal&&document.body.removeChild(h)},this.close=function(a){function b(){o_util.event.remove(f,e,b),d._removeLayerAndCurtain()}var e=o_global.helper.whichTransitionEvent();if(o){"undefined"!=typeof e?o_util.event.add(f,e,b):d._removeLayerAndCurtain(),d._hideLayerOnSmallScreens(),o_global.helper.addClass(f,"p_layer--hidden"),o_global.helper.addClass(h,"p_curtain--hidden"),o=!1,o_global.pali.layer.setActiveLayer();for(var g=r.length-1;g>=0;g--)r[g].createTrackingContext&&d.closeTrackingContext();"boolean"!=typeof a&&(a=!1),d._clearHistory(a),c.closeCallback&&c.closeCallback(),c=o_global.helper.clone(r[0]),p=0,q=[],r=r.slice(0,1),s=[]}},this.setMenuContent=function(a){if(0===o_global.helper.getElementsByClassname(g,"p_layer__menu").length){var b=document.createElement("div");o_global.helper.addClass(b,"p_layer__menu"),b.innerHTML=a,g.insertBefore(b,i)}},this.removeMenu=function(){e.innerHTML="",g.removeChild(e)},this._createEmptyWrapper=function(){var a=document.createElement("div");o_global.helper.addClass(a,"p_layer__wrapper"),a.setAttribute("id","p_layer__wrapper_"+p),g=a,f.appendChild(g);var b=document.createElement("div");o_global.helper.addClass(b,"p_layer__content"),i=b,g.appendChild(i)},this.switchLayerContent=function(a){p++;var e=o_global.helper.extend(b,a,!0,!0);r.push(e),o_global.helper.addClass(g,"p_layer__wrapper-toggled hide"),g.setAttribute("id","p_layer__wrapper_"+(p-1)),q.push("p_layer__wrapper_"+(p-1)),d._createEmptyWrapper(),o_global.helper.addClass(f,"p_layer--switchedContent"),e.content?d.setContent(e.content):e.url&&(e.createTrackingContext?d.setContentFromURL(e.url,d.createTrackingContext):d.setContentFromURL(e.url)),e.hideBackButton||d.setMenuContent(n),"function"==typeof e.closeCallback&&(c.closeCallback=o_global.helper.cloneFunction(e.closeCallback)),!e.url&&e.createTrackingContext&&d.createTrackingContext(),d._pushHistory("layer"+p),d.resetViewport()},this.revertLayerContent=function(a){p--,f.removeChild(g),g=document.getElementById(q.pop()),i=o_global.helper.getElementsByClassname(g,"p_layer__content")[0],o_global.helper.toggleClass(g,"hide"),o_global.helper.toggleClass(g,"p_layer__wrapper-toggled"),r[p+1].createTrackingContext&&d.closeTrackingContext(),"function"==typeof r[p].closeCallback&&(c.closeCallback=o_global.helper.cloneFunction(r[p].closeCallback)),r.pop(),d._historyBack(a),d.resetViewport()},this.resetViewport=function(){var a=o_global.device.breakpoint.isBreakpointActive(["s","m"])?0:28;o_util.animation.scrollTo(f.offsetTop-a,500)},this._resetViewport=function(){d.resetViewport()},this._pushHistory=function(a){j.id=a,s.push(window.location.hash),"function"!=typeof history.pushState?a&&window.location.hash.replace("#","")!==a&&(window.location.hash=a&&"#"!==a?a:"_"):(history.pushState({},"",window.location.href.split("#")[0]+"#"+a),t=history.length)},this._historyBack=function(a){var b=s.pop();j.id=b.replace("#",""),a||("function"!=typeof history.pushState?window.location.hash=b&&"#"!==b?b:"_":t===history.length&&history.back())},this._clearHistory=function(a){(a===!1||void 0===a)&&("function"!=typeof history.pushState?window.location.hash=s[0]&&"#"!==s[0]?s[0]:"_":window.location.hash!==s[0]&&t===history.length&&history.go(-1*s.length)),s=[]}}var b={width:null,widthL:null,widthXL:null,height:null,heightS:null,heightM:null,heightLXL:null,openCallback:!1,closeCallback:!1,createTrackingContext:!0,url:null,content:"",trackingKey:null,trackingEvent:null,layerClass:"p_layer",modal:!0,menuContent:null,lockCurtain:!1,hideBackButton:!1,headerDisplayMode:"visible"};return a}(),o_global.pali.layer=function(){function a(a){var b=o_global.helper.getEventTarget(a),c=o_global.helper.isValidMouseButton(a,1);if(b.classList.contains("js_openInPaliLayer")||(b=o_util.dom.hasClassInParents(b,"js_openInPaliLayer")),b&&c){if(o_global.helper.hasClassInParents(b,"p_layer"))f.switchLayerContent(e(b));else{var d=new o_global.pali.layerBuilder(e(b));d.open()}o_global.helper.stopEvent(a)}}function b(){o_global.eventLoader.onReady(40,function(){o_global.helper.delegate(document,"click",".js_openInPaliLayer",a),o_global.helper.delegate(document,"click",".js_PaliLayerBack",function(a){f.revertLayerContent(),o_global.helper.stopEvent(a)}),o_global.helper.delegate(document,"click",".js_PaliLayerClose",function(a){f.close(),o_global.helper.stopEvent(a)})})}function c(a){a?(void 0!==f&&f.close(),f=a):f=void 0}function d(){return f}function e(a){var b=[];for(var c in g)if(g.hasOwnProperty(c)){var d=a.getAttribute(g[c]);if(d){var e=null;switch(d){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;default:e=d}c.indexOf("Callback")>-1&&(e=o_global.helper.convertStringToFunction(d,window)),b[c]=e}}return b}var f,g={url:"href",width:"data-layer-width",widthL:"data-layer-width-l",widthXL:"data-layer-width-xl",height:"data-layer-height",heightS:"data-layer-height-s",heightM:"data-layer-height-m",heightLXL:"data-layer-height-l-xl",createTrackingContext:"data-layer-createtrackingcontext",trackingKey:"data-trackingkey",trackingEvent:"data-trackingevent",layerClass:"data-layer-class",menuContent:"data-layer-menu-content",modal:"data-layer-modal",content:"data-layer-content",lockCurtain:"data-layer-lockcurtain",hideBackButton:"data-layer-hidebackbutton",headerDisplayMode:"data-layer-headerdisplaymode",openCallback:"data-layer-opencallback",closeCallback:"data-layer-closecallback"};return{init:b,setActiveLayer:c,getActiveLayer:d}}()):(document.body.classList.add("layer-default"),o_global.pali.layerBuilder=function(){var a={width:null,widthL:null,widthXL:null,height:null,heightS:null,heightM:null,heightLXL:null,openCallback:!1,closeCallback:!1,createTrackingContext:!0,url:null,content:"",trackingKey:null,trackingEvent:null,layerClass:"p_layer",modal:!0,menuContent:null,lockCurtain:!1,hideBackButton:!1,headerDisplayMode:"visible"},b=function(b){var c={},d=this,e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("a"),l=null,m=null,n='<button href="#" class="js_PaliLayerBack p_btn100--3rd p_layer__button"><i>&lt;&nbsp;</i>Zurück</button>',o=!1,p=!1,q=!1,r=0,s=0,t="gridAndInfoContainer",u=[],v=[],w=[],x=0;c=o_global.helper.extend(a,b,!0,!0),v[0]=o_global.helper.clone(c),v[0].closeCallback=o_global.helper.cloneFunction(c.closeCallback),h.className="p_curtain",f.className=c.layerClass,g.className="p_layer__wrapper",o_global.helper.addClass(f,"p_layer--hidden"),i.className="p_layer__content",j.className="p_layer__header",k.className="p_layer__close",k.innerHTML="X",f.id="p_layer","removed"===c.headerDisplayMode?o_global.helper.addClass(f,"p_layer--headerRemoved"):"removedOnSmallScreens"===c.headerDisplayMode&&o_global.helper.addClass(f,"p_layer--headerRemovedOnSmallScreens"),this.getContainerElement=function(){return f},this.getCurtainElement=function(){return h},this.setHeight=function(a){null!==a?(f.style.height=a,o_global.helper.addClass(f,"p_layer--forcedHeight")):(f.style.height="",o_global.helper.removeClass(f,"p_layer--forcedHeight"))},this.setBreakpointHeight=function(a,b,c,e){switch(o_global.device.breakpoint.getCurrentBreakpoint()){case"s":d.setHeight(a||e);break;case"m":d.setHeight(b||e);break;case"l":case"xl":d.setHeight(c||e);break;default:d.setHeight(e)}},this.setBreakpointWidth=function(a,b,c){switch(o_global.device.breakpoint.getCurrentBreakpoint()){case"l":d.setWidth(a||c);break;case"xl":d.setWidth(b||c);break;default:d.setWidth(c)}},this._setBodyOffset=function(){var a=0,b=0;l&&(b=parseInt(o_global.helper.getStyle(l,"margin-top"),10),
a=Math.max(l.clientHeight,l.offsetHeight)+b,m&&(m.style.top=b+a+"px"))},this._findBodyAndHeadline=function(){var a=o_global.helper.getElementsByClassname(i,"p_layer__headline"),b=o_global.helper.getElementsByClassname(i,"p_layer__body");a&&(l=a[0]),b&&(m=b[0])},this._endModality=function(){document.body.removeChild(f),o_global.helper.removeClass(document.documentElement,"p_lock"),o_global.device.breakpoint.isNoMQ()||(document.documentElement.style.paddingRight=d._getHTMLRightPadding()-o_global.helper.getScrollbarWidth()+"px")},this._getHTMLRightPadding=function(){var a=parseInt(document.documentElement.style.paddingRight,10);return isNaN(a)&&(a=0),a},this.setWidth=function(a){var b=1100,c=32;b=Math.max(parseInt(document.documentElement.clientWidth,10)-2*c,768),o_global.device.breakpoint.isNoMQ()?f.style.cssText+=";width: "+a+" !important;":f.style.width=a,f.style.maxWidth=b+"px",o_global.helper.addClass(f,"p_layer--forcedWidth")},this._setElementContent=function(a,b){"string"==typeof a?o_global.helper.isIE8()&&a.indexOf("<style")>-1?b.innerHTML='<div style="display:none;">&nbsp;</div>'+a:b.innerHTML=a:b.parentNode.replaceChild(a,b),b===g&&(i=o_global.helper.getElementsByClassname(g,"p_layer__content")[0]),o_global.helper.executeInlineScripts(b),d._parseLegacyDataAttributes(),d._findBodyAndHeadline(),window.setTimeout(function(){d._setBodyOffset()},0),o_global.device.breakpoint.isNoMQ()||(o_global.helper.addEvent(f,"touchmove",d._stopTouchMoveEventPropagation),o_global.helper.addEvent(i,"touchstart",function(){var a=i.scrollTop;0>=a&&(i.scrollTop=1),a+i.offsetHeight>=i.scrollHeight&&(i.scrollTop=i.scrollHeight-i.offsetHeight-1)}))},this.setContent=function(a){d._setElementContent(a,i)},this.setWrapperContent=function(a){d._setElementContent(a,g)},this.setContentFromURL=function(a,b){var c;o_global.helper.addClass(f,"p_layer--loading"),c=document.createElement("div"),c.className="p_loader200",c.innerHTML="Wird geladen...",i.insertBefore(c,i.hasChildNodes()?i.childNodes[0]:null),o_util.ajax.get(a,function(a){o_global.helper.removeClass(f,"p_layer--loading"),200!==a.status?(d.setContent('<div class="p_message p_message--error p_layer--error"><b>Entschuldigung!</b> Aufgrund von technischen Problemen kann der Inhalt leider nicht geladen werden. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.</div>'),"function"==typeof b&&b('<div class="p_message p_message--error p_layer--error"><b>Entschuldigung!</b> Aufgrund von technischen Problemen kann der Inhalt leider nicht geladen werden. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.</div>',a.status)):(d.setContent(a.responseText),"function"==typeof b&&b(a.responseText,a.status))})},this.createTrackingContext=function(){"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.createContext&&$OTTO.TS.createContext(f.id,document.location.pathname+"layer")},this.closeTrackingContext=function(){"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.closeContext&&$OTTO.TS.closeContext()},this._parseLegacyDataAttributes=function(){var a=i.querySelectorAll("[data-title], [data-callback], .shoppagesLayer")[0];if(void 0===a)return!0;o_global.helper.getElementsByClassname(i,"p_layer__body").length<=0&&o_global.helper.addClass(a,"p_layer__body");var b=a.getAttribute("data-title");if(b&&o_global.helper.getElementsByClassname(i,"p_layer__headline").length<=0){var c=document.createElement("div");c.className="p_layer__headline",c.innerHTML=b,i.insertBefore(c,a)}var d=o_global.helper.getElementsByClassname(a,"js_layerTitle")[0];d&&d.parentNode.removeChild(d);var e=a.getAttribute("data-callback");e&&o_global.helper.convertStringToFunction(e,window)()},this.open=function(){if(q="s"===o_global.device.breakpoint.getCurrentBreakpoint()||"m"===o_global.device.breakpoint.getCurrentBreakpoint()||d._isIOS()?!1:!0,s=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,d._pushHistory("layer"),null!==c.width&&d.setWidth(c.width),null!==c.height&&d.setHeight(c.height),(null!==c.widthL||null!==c.widthXL)&&(d.setBreakpointWidth(c.widthL,c.widthXL,c.width),o_global.device.breakpoint.registerChangeListener(function(){d.setBreakpointWidth(c.widthL,c.widthXL,c.width)})),(null!==c.heightS||null!==c.heightM||null!==c.heightLXL)&&(d.setBreakpointHeight(c.heightS,c.heightM,c.heightLXL,c.height),o_global.device.breakpoint.registerChangeListener(function(){d.setBreakpointHeight(c.heightS,c.heightM,c.heightLXL,c.height)})),c.modal&&!c.lockCurtain?(o_global.helper.addEvent(h,"click",d.close),o_global.helper.addEvent(j,"click",d.close)):o_global.helper.addEvent(k,"click",d.close),o_global.helper.addEvent(window,"hashchange",function(){window.location.hash===w[0]?d.close(!0):window.location.hash===w[r]&&d.revertLayerContent(!0)}),o_global.device.breakpoint.isNoMQ()||o_global.helper.addEvent(document.documentElement,"touchmove",d._stopTouchMoveEvents),c.content?d.setContent(c.content):c.url?d.setContentFromURL(c.url,d._postOpenCallback):d.setContent(""),c.modal&&(document.body.appendChild(h),o_global.device.breakpoint.isNoMQ()||(document.documentElement.style.paddingRight=d._getHTMLRightPadding()+o_global.helper.getScrollbarWidth()+"px"),o_global.helper.addClass(document.documentElement,"p_lock")),document.body.appendChild(f),o=!0,"removed"!==c.headerDisplayMode&&(f.appendChild(j),j.appendChild(k)),f.appendChild(g),g.appendChild(i),c.menuContent&&d.setMenuContent(c.menuContent),o_global.pali.layer.setActiveLayer(d),window.getComputedStyle){window.getComputedStyle(f,null).width}if(setTimeout(function(){var a;o_global.helper.removeClass(f,"p_layer--hidden"),q&&(a=f.style.display,f.style.display="none",setTimeout(function(){f.style.display=a,d._setBodyOffset(),c.openCallback&&((!c.url||p)&&d.executeCallback(),p=!0)},20))},0),o_global.device.breakpoint.isNoMQ()){var a=window.innerHeight?window.innerHeight:$(window).height(),b=window.innerWidth?window.innerWidth:$(window).width();$(f).css("top",Math.max(0,(a-$(f).outerHeight())/2+$(window).scrollTop())+"px"),$(f).css("left",Math.max(0,(b-$(f).outerWidth())/2+$(window).scrollLeft())+"px")}c.url||d._postOpenCallback(),d._isIOS()&&d._enableTranslateYFix();try{o_global.pali.scrollTopButton.hideButton()}catch(e){}},this._stopTouchMoveEvents=function(a){o_global.helper.stopEvent(a)},this._stopTouchMoveEventPropagation=function(a){a.stopPropagation()},this._postOpenCallback=function(){c.trackingEvent&&c.trackingKey&&$(window).trigger(c.trackingEvent,[c.trackingKey]),c.createTrackingContext&&d.createTrackingContext(),c.openCallback&&((!q||p)&&d.executeCallback(),p=!0)},this.executeCallback=function(){c.openCallback()},this.close=function(a){if(o){var b=o_global.helper.whichTransitionEvent(),e=function(){d._endModality(),o_util.event.remove(f,b,e)};"undefined"!=typeof b?o_util.event.add(f,b,e):d._endModality(),setTimeout(function(){o_global.helper.addClass(f,"p_layer--hidden")},0),c.modal&&document.body.removeChild(h),o=!1,d._isIOS()&&d._disableTranslateYFix(),o_global.pali.layer.setActiveLayer();for(var g=v.length-1;g>=0;g--)v[g].createTrackingContext&&d.closeTrackingContext();o_global.device.breakpoint.isNoMQ()||o_util.event.remove(document.documentElement,"touchmove",d._stopTouchMoveEvents),"boolean"!=typeof a&&(a=!1),d._clearHistory(a),c.closeCallback&&c.closeCallback(),c=o_global.helper.clone(v[0]),r=0,u=[],v=v.slice(0,1),w=[]}},this.setMenuContent=function(a){if(0===o_global.helper.getElementsByClassname(g,"p_layer__menu").length){var b=document.createElement("div");o_global.helper.addClass(b,"p_layer__menu"),b.innerHTML=a,g.insertBefore(b,i)}},this.removeMenu=function(){e.innerHTML="",g.removeChild(e)},this._createEmptyWrapper=function(){var a=document.createElement("div");o_global.helper.addClass(a,"p_layer__wrapper"),a.setAttribute("id","p_layer__wrapper_"+r),g=a,f.appendChild(g);var b=document.createElement("div");o_global.helper.addClass(b,"p_layer__content"),i=b,g.appendChild(i)},this.switchLayerContent=function(b){r++;var e=o_global.helper.extend(a,b,!0,!0);v.push(e),o_global.helper.addClass(g,"p_layer__wrapper-toggled hide"),g.setAttribute("id","p_layer__wrapper_"+(r-1)),u.push("p_layer__wrapper_"+(r-1)),d._createEmptyWrapper(),o_global.helper.addClass(f,"p_layer--switchedContent"),e.content?d.setContent(e.content):e.url&&(e.createTrackingContext?d.setContentFromURL(e.url,d.createTrackingContext):d.setContentFromURL(e.url)),e.hideBackButton||d.setMenuContent(n),"function"==typeof e.closeCallback&&(c.closeCallback=o_global.helper.cloneFunction(e.closeCallback)),!e.url&&e.createTrackingContext&&d.createTrackingContext(),d._pushHistory("layer"+r)},this.revertLayerContent=function(a){r--,f.removeChild(g),g=document.getElementById(u.pop()),i=o_global.helper.getElementsByClassname(g,"p_layer__content")[0],o_global.helper.toggleClass(g,"hide"),o_global.helper.toggleClass(g,"p_layer__wrapper-toggled"),v[r+1].createTrackingContext&&d.closeTrackingContext(),"function"==typeof v[r].closeCallback&&(c.closeCallback=o_global.helper.cloneFunction(v[r].closeCallback)),v.pop(),d._historyBack(a)},this._pushHistory=function(a){j.id=a,w.push(window.location.hash),"function"!=typeof history.pushState?a&&window.location.hash.replace("#","")!=a&&(window.location.hash=a&&"#"!==a?a:"_"):(history.pushState({},"",window.location.href.split("#")[0]+"#"+a),x=history.length),d._fixScrolling()},this._historyBack=function(a){var b=w.pop();j.id=b.replace("#",""),a||("function"!=typeof history.pushState?window.location.hash=b&&"#"!==b?b:"_":x===history.length&&history.back(),d._fixScrolling())},this._clearHistory=function(a){(a===!1||void 0===a)&&("function"!=typeof history.pushState?window.location.hash=w[0]&&"#"!==w[0]?w[0]:"_":window.location.hash!==w[0]&&x===history.length&&history.go(-1*w.length)),w=[],d._fixScrolling()},this._fixScrolling=function(a){var b=function(){document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop=s:document.body.scrollTop=s};a?b():setTimeout(b,0)},this._isIOS=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)},this._enableTranslateYFix=function(){var a,b=o_global.helper.whichTransitionEvent(),c=o_global.helper.getElementsByClassname(document.body,t)[0];o_global.helper.addClass(document.body,"p_lock"),c&&o_global.helper.setVendorStyle(c,"Transform","translateY(-"+s+"px)"),a=function(){o_util.event.remove(f,b,a),o_global.helper.addClass(f,"p_layer--absolute")},"undefined"!=typeof b?o_util.event.add(f,b,a):o_global.helper.addClass(f,"p_layer--absolute")},this._disableTranslateYFix=function(){var a,b,c=o_global.helper.whichTransitionEvent(),e=o_global.helper.getElementsByClassname(document.body,t)[0];b=function(){o_global.helper.removeClass(document.body,"p_lock"),e&&o_global.helper.setVendorStyle(e,"Transform","initial"),o_global.helper.removeClass(f,"p_layer--absolute"),d._fixScrolling(!0)},a=function(){o_util.event.remove(f,c,a),b()},"undefined"!=typeof c?o_util.event.add(f,c,a):b()},this.resetViewport=function(){}};return b}(),o_global.pali.layer=function(){function a(){o_global.helper.addEvent(document,"click",function(a){a=a||window.event;var b,c=a.target||a.srcElement,d=o_global.helper.hasClassInParents(c,"js_openInPaliLayer");if(b="which"in a&&1===a.which?!0:"which"in a&&1!==a.which?!1:!0,d&&b)if(o_global.helper.stopEvent(a),o_global.helper.hasClassInParents(d,"p_layer"))f.switchLayerContent(e(d));else{var g=new o_global.pali.layerBuilder(e(d));g.open()}o_global.helper.hasClass(c,"js_PaliLayerBack")&&(f.revertLayerContent(),o_global.helper.stopEvent(a)),o_global.helper.hasClass(c,"js_PaliLayerClose")&&(f.close(),o_global.helper.stopEvent(a))})}function b(){o_global.eventLoader.onReady(40,a)}function c(a){a?(void 0!==f&&f.close(),f=a):f=void 0}function d(){return f}function e(a){var b=[];for(var c in g)if(g.hasOwnProperty(c)){var d=a.getAttribute(g[c]);if(d){var e=null;switch(d){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;default:e=d}c.indexOf("Callback")>-1&&(e=o_global.helper.convertStringToFunction(d,window)),b[c]=e}}return b}var f,g={url:"href",width:"data-layer-width",widthL:"data-layer-width-l",widthXL:"data-layer-width-xl",height:"data-layer-height",heightS:"data-layer-height-s",heightM:"data-layer-height-m",heightLXL:"data-layer-height-l-xl",createTrackingContext:"data-layer-createtrackingcontext",trackingKey:"data-trackingkey",trackingEvent:"data-trackingevent",layerClass:"data-layer-class",menuContent:"data-layer-menu-content",modal:"data-layer-modal",content:"data-layer-content",lockCurtain:"data-layer-lockcurtain",hideBackButton:"data-layer-hidebackbutton",headerDisplayMode:"data-layer-headerdisplaymode",openCallback:"data-layer-opencallback",closeCallback:"data-layer-closecallback"};return{init:b,setActiveLayer:c,getActiveLayer:d}}()),o_global.pali.layer.init();var o_global=o_global||{};o_global.pali=o_global.pali||{},o_global.popup=o_global.popup||function(){function a(a,b){var c=(screen.width-a)/2,d=(screen.height-b)/2;return",left="+c+",top="+d+",screenX="+c+",screenY="+d}function b(b,c,d,e){var f,g,h;c&&""!==c||(c="popup"),d||(d=800),e||(e=575),f=a(d,e),g="width="+d+",height="+e+",toolbar=no,location=no,directories=no,scrollbars=yes,status=no,menubar=no,resizable=no"+f,h=open(b,c,g),h&&h.focus(),0===b.indexOf("http")&&-1===b.indexOf(document.location.hostname)&&"undefined"!=typeof $OTTO&&$OTTO.TS&&$OTTO.TS.sendEventToTrackingServer({ot_Aussprung:b})}function c(){var a=$(this),c=a.attr("href")||a.data("popup-href")||"";return b(c,a.data("popup-name"),a.data("popup-width"),a.data("popup-height")),!1}function d(a){a.on("click",".js_openInPopup",c)}return $(function(){d($(this))}),{open:b}}(),o_global.pali.initCloseWindow=o_global.pali.initCloseWindow||function(){$(document).on("click",".js_closeWindow",function(){window.close()})},o_global.pali.initCloseWindow();var o_global=o_global||{};o_global.helper=o_global.helper||{},function(){function a(){o_global.helper.addEvent(document,"click",function(a){a=a||window.event;var b=a.target||a.srcElement;if(o_global.helper.hasClass(b,"js_textExpander100__link")){var c=o_global.helper.hasClassInParents(b,"p_textExpander100");if(c){o_global.helper.toggleClass(c,"p_expander--decrease");var d=!!o_global.helper.hasClass(c,"p_expander--decrease");$(this).trigger("p_textExpander100Change",[d])}}})}$(function(){a()})}(),o_global=o_global||{},o_global.pali.Tooltip=function(a){this.trigger=a,this.tooltip=void 0,this.tooltipX=0,this.tooltipY=0,this.baseClass="p_tooltip",this.mouseOffset=0,this.throttleTime=16.6,this.isActive=!0,this.tooltipIsVisible=!1,this.avoidCloseTooltip=!1,this.orientation=1,this.orientationVariations={1:"p_tooltipHorizontal",2:"p_tooltipHorizontal p_tooltipHorizontalTop",3:"p_tooltipHorizontal p_tooltipHorizontalRight",4:"p_tooltipHorizontal p_tooltipHorizontalTop p_tooltipHorizontalRight"},this.dataSettings={text:"data-tooltip",reference:"data-tooltip-ref",referenceToClone:"data-tooltip-ref-clone",additionalStyleClasses:"data-tooltip-class",position:"data-tooltip-pos",showForTouch:"data-tooltip-touch",hasCloseButton:"data-tooltip-close"},this.text="",this.additionalStyleClasses="",this.reference=void 0,this.referenceToClone=!1,this.position="",this.showForTouch=!0,this.hasCloseButton=!0,this._init()},o_global.pali.Tooltip.prototype.getShowForTouch=function(){return this.showForTouch},o_global.pali.Tooltip.prototype.hideTooltip=function(){this.tooltipIsVisible&&!this.avoidCloseTooltip&&(o_global.device.isTouchable&&("onpointerdown"in window?document.removeEventListener("pointerdown",o_global.pali.tooltipHandler.blurTooltip):document.body.removeEventListener("touchstart",o_global.pali.tooltipHandler.blurTooltip)),document.body.removeChild(this.tooltip),this.tooltipIsVisible=!1)},o_global.pali.Tooltip.prototype.moveTooltip=function(a){if(!a.pageX&&"unknown"==typeof a.clientX)return!1;var b=a.pageX||a.clientX+document.documentElement.scrollLeft,c=a.pageY||a.clientY+document.documentElement.scrollTop;this.calculateTooltipPosition(b,c,!0)},o_global.pali.Tooltip.prototype.showTooltip=function(){this.isActive&&(!o_global.device.isTouchable||this.showForTouch||o_global.device.hybrid.isDetected)&&(o_global.pali.tooltipHandler.changeActiveTooltip(this),this.tooltip?(document.body.appendChild(this.tooltip),this.calculateTooltipPosition()):(this._createTooltip(),document.body.appendChild(this.tooltip),this.calculateTooltipPosition()),this.tooltipIsVisible=!0,o_global.device.isTouchable&&("onpointerdown"in window?o_global.helper.addEvent(document,"pointerdown",o_global.pali.tooltipHandler.blurTooltip):o_global.helper.addEvent(document.body,"touchstart",o_global.pali.tooltipHandler.blurTooltip)))},o_global.pali.Tooltip.prototype.toggleTooltip=function(a){this.isActive&&(o_global.helper.stopPropagation(a),o_global.helper.preventDefault(a),this.tooltipIsVisible?(this.avoidCloseTooltip=!1,this.hideTooltip()):(this.avoidCloseTooltip=!0,this.showTooltip()))},o_global.pali.Tooltip.prototype.calculateTooltipPosition=function(a,b,c){var d,e,f,g,h,i=19,j={top:0,left:0},k=c?0:this.trigger.offsetWidth,l=c?0:this.trigger.offsetHeight,m=Math.floor(k/2),n=this.tooltip.offsetWidth,o=this.tooltip.offsetHeight,p=window.scrollX,q=window.scrollY,r=this.mouseOffset||12;"undefined"!=typeof this.trigger.getBoundingClientRect&&(j=this.trigger.getBoundingClientRect()),d=b||j.top+(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),e=a||j.left+(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),f=1,h=e+m-i,window.innerWidth+p<h+n&&e+m-n+i>p&&(f=3,h=e+m-n+i),g=d-o-r,q>g&&q+window.innerHeight>d+r+o&&(3===f?f=4:(f=2,(0!==this.tooltipY||0!==this.tooltipX)&&(l=0,r=0)),g=d+l+r),this.tooltip.style.left=this._getPixel(h+this.tooltipX),this.tooltip.style.top=this._getPixel(g+this.tooltipY),f!==this.orientation&&(this.removeTooltipStyleClass(this.tooltip,this.orientationVariations[this.orientation]),this.orientation=f,this.addTooltipStyleClass(this.tooltip,this.orientationVariations[this.orientation]))},o_global.pali.Tooltip.prototype.addTooltipStyleClass=function(a,b){o_global.helper.addClass(a,b)},o_global.pali.Tooltip.prototype.removeTooltipStyleClass=function(a,b){o_global.helper.removeClass(a,b)},o_global.pali.Tooltip.prototype.activateTooltip=function(){var a="js_hasPaliTooltip";this.isActive=!0,this.removeTooltipStyleClass(this.trigger,a),this.addTooltipStyleClass(this.trigger,a+"--done"),this.showTooltip()},o_global.pali.Tooltip.prototype.deactivateTooltip=function(){this.isActive=!1,this.hideTooltip()},o_global.pali.Tooltip.prototype._init=function(){this._parseDataAttributes(),this._initTooltipEvents(),this.trigger.tooltipInstance=this},o_global.pali.Tooltip.prototype._parseDataAttributes=function(){var a,b=null;for(var c in this.dataSettings)if(this.dataSettings.hasOwnProperty(c)&&(a=this.trigger.getAttribute(this.dataSettings[c]))){switch(b=null,a){case"false":b=!1;break;case"true":b=!0;break;default:b=a}this[c]=b}},o_global.pali.Tooltip.prototype._initTooltipEvents=function(){var a=this;o_global.device.isTouchable?(this.showForTouch&&("onpointerdown"in window?o_global.device.hybrid.isDetected?o_global.helper.addEvent(this.trigger,"pointerdown",o_global.helper.bind(this,function(){a.avoidCloseTooltip=!a.avoidCloseTooltip})):o_global.helper.addEvent(this.trigger,"pointerdown",o_global.helper.bind(this,this.toggleTooltip)):o_global.helper.addEvent(this.trigger,"touchstart",o_global.helper.bind(this,this.toggleTooltip))),o_global.device.hybrid.isDetected&&this._initTooltipMouseEvents()):this._initTooltipMouseEvents()},o_global.pali.Tooltip.prototype._initTooltipMouseEvents=function(){o_global.helper.addEvent(this.trigger,"mouseenter",o_global.helper.bind(this,this.showTooltip)),o_global.helper.addEvent(this.trigger,"mouseleave",o_global.helper.bind(this,this.hideTooltip)),"mouse"===this.position&&(this.mouseOffset=20,o_global.helper.addEvent(this.trigger,"mousemove",o_global.helper.bind(this,this._throttle(this.moveTooltip,this.throttleTime))))},o_global.pali.Tooltip.prototype._createTooltip=function(){var a;this.tooltip=document.createElement("div"),this.tooltip.content=document.createElement("div"),o_global.device.isTouchable&&this.hasCloseButton&&this._initCloseButton(),this.reference?(a=this.referenceToClone?document.getElementById(this.reference).cloneNode(!0):document.getElementById(this.reference),a.removeAttribute("id"),a.removeAttribute("style"),this.tooltip.content.appendChild(a)):this.tooltip.content.innerHTML=this.text?this.text:"",this.tooltip.appendChild(this.tooltip.content),this.addTooltipStyleClass(this.tooltip,this.baseClass),this.addTooltipStyleClass(this.tooltip,this.orientationVariations[this.orientation]),this.addTooltipStyleClass(this.tooltip.content,"p_tooltip__content"),this.additionalStyleClasses&&this.addTooltipStyleClass(this.tooltip.content,this.additionalStyleClasses),this.position.match(/^(-?\d+);(-?\d+)$/)&&(this.tooltipX=parseInt(RegExp.$1,10),this.tooltipY=parseInt(RegExp.$2,10)),o_global.device.isTouchable&&this.showForTouch&&("onpointerdown"in window?o_global.helper.addEvent(this.tooltip,"pointerdown",function(a){o_global.helper.stopPropagation(a)}):o_global.helper.addEvent(this.tooltip,"touchstart",function(a){o_global.helper.stopPropagation(a)}))},o_global.pali.Tooltip.prototype._initCloseButton=function(){this.tooltip.close=document.createElement("a"),this.tooltip.close.innerHTML="<i>x</i>",o_global.helper.addClass(this.tooltip.close,"p_symbolBtn50--4th"),o_global.helper.addClass(this.tooltip.close,"p_tooltip__close"),o_global.helper.addEvent(this.tooltip.close,"click",o_global.helper.bind(this,this.toggleTooltip)),this.tooltip.appendChild(this.tooltip.close)},o_global.pali.Tooltip.prototype._getPixel=function(a){return parseInt(a,10)+"px"},o_global.pali.Tooltip.prototype._throttle=function(a,b,c){var d,e,f=b||250;return function(){var b=c||this,g=new Date,h=arguments;d&&d+f>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(b,h)},f)):(d=g,a.apply(b,h))}},o_global.pali.tooltipHandler=function(){function a(a){var b,c=a.target||event.srcElement,d=null;b=o_global.helper.hasClassInParents(c,h),b&&(b.tooltipInstance?b.tooltipInstance.activateTooltip(a):(d=new o_global.pali.Tooltip(b),d.activateTooltip(a)),b.tooltipInstance.getShowForTouch()&&o_global.helper.preventDefault(a))}function b(a){g&&g.tooltipIsVisible&&(!("onpointerdown"in window)||"onpointerdown"in window&&a.target!==g.trigger)&&(g.avoidCloseTooltip=!1,g.hideTooltip())}function c(a){g&&g!==a&&(g.avoidCloseTooltip=!1,g.hideTooltip()),g=a}function d(a){for(var b=a.length-1;b>=0;b--)a[b].tooltipInstance?a[b].tooltipInstance.deactivateTooltip():a[b]&&o_global.helper.removeClass(a[b],"js_hasPaliTooltip")}function e(){for(var a=o_global.helper.getElementsByClassname(document,"js_hasPaliTooltip--done"),b=a.length-1;b>=0;b--)o_global.helper.addClass(a[b],"js_hasPaliTooltip"),o_global.helper.removeClass(a[b],"js_hasPaliTooltip--done")}function f(){o_global.helper.addEvent(document.body,"mouseover",a)}var g,h="js_hasPaliTooltip",i="onorientationchange"in window,j=i?"orientationchange":"resize";return o_global.eventLoader.onReady(80,function(){o_global.device.isTouchable?("onpointerdown"in window?o_global.helper.addEvent(document.body,"pointerdown",a):o_global.helper.addEvent(document.body,"touchstart",a),o_global.helper.addEvent(window,j,b),o_global.device.hybrid.executeOrRegisterCallback(f)):o_global.helper.addEvent(document.body,"mouseover",a)}),{blurTooltip:b,changeActiveTooltip:c,removeTooltip:d,resetTooltipClasses:e,updateHybrid:f}}(),window.o_apps=window.o_apps||function(){var a={appVersion:function(){var a=this.cookieWithName("appVersion"),b=a.split("=")[1];return b},appType:function(){var a=this.cookieWithName("appType"),b=a.split("=")[1];return b},cookieWithName:function(a){return this.splitCookies().filter(function(b){return 0===b.indexOf(a)})[0]},compareVersionsGreaterEqual:function(a,b){for(var c,d,e=a.split("."),f=b.split("."),g=Math.max(e.length,f.length),h=0,i=0;g>i&&!h;i++)c=parseInt(e[i],10)||0,d=parseInt(f[i],10)||0,d>c&&(h=1),c>d&&(h=-1);return 0>=h},executeXMLHttpPostRequest:function(a,b){var c=new XMLHttpRequest;c.open("POST",a,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(b)},registerEventHandlers:function(){var a=this;this.runningInApp()&&(this.compareVersionsGreaterEqual(this.appVersion(),"4")&&["basket.changed","wishlist.changed"].forEach(function(b){$(document).on(b,function(){if("android"===a.appType()&&window.o_apps_android&&window.o_apps_android.userStatusChanged)window.o_apps_android.userStatusChanged();else if("ios"===a.appType()){var b=String((new Date).getTime());a.executeXMLHttpPostRequest("/apps/web_native_bridge/user_status_changed?cachebust="+b,null)}})}),this.compareVersionsGreaterEqual(this.appVersion(),"4.1")&&["order.submitted"].forEach(function(b){$(document).on(b,function(b,c){if("android"===a.appType()&&window.o_apps_android&&window.o_apps_android.orderSubmitted)window.o_apps_android.orderSubmitted(c);else if("ios"===a.appType()){var d=String((new Date).getTime()),e="Order-Value="+encodeURIComponent(c);a.executeXMLHttpPostRequest("/apps/web_native_bridge/order_submitted?cachebust="+d,e)}})}))},runningInApp:function(){return 1===this.splitCookies().filter(function(a){return"app=true"===a}).length},splitCookies:function(){return document.cookie.split("; ")},autofillLoginCredentials:function(a,b,c){var d=c?c:document.querySelector.bind(document);d('input[name="username"]').value=a,d('input[name="password"]').value=b},grantPriceAlertPermission:function(a,b,c){if("android"===this.appType()&&window.o_apps_android&&window.o_apps_android.grantPriceAlertPermission)window.o_apps_android.grantPriceAlertPermission(a,b,c);else if("ios"===this.appType()){var d="frontendToken="+a+"&grantedCallback="+encodeURIComponent(b)+"&notGrantedCallback="+encodeURIComponent(c);window.o_apps.executeXMLHttpPostRequest("/apps/web_native_bridge/grant_price_alert_permission",d)}}};return a.registerEventHandlers(),a}(),window.o_cpgn=window.o_cpgn||{},function(){o_global.eventLoader.onLoad(121,function(){var a=document.querySelectorAll(".cpgn");a.length>0&&o_cpgn.initialisation().init(a)})}(),window.o_cpgn=window.o_cpgn||{},o_cpgn.detailView=function(){var a,b={};return b.qa={variationChangedCalled:!1,campaignSlotReadyCalled:[]},b.variationChanged=function(c,d){b.qa.variationChangedCalled=!0,a=o_cpgn.requests.getJSON("/campaign-presentation/lever/detailView?variationId="+c),a.then(function(a){if(a&&(a.cpgnScv&&o_global.helper.setCookie("cpgnScv",a.cpgnScv,{minutes:30}),a.trackingDataJson))try{var b=JSON.parse(a.trackingDataJson);"undefined"==typeof d?o_cpgn.trackingApi.sendMergeRequest(b):o_cpgn.trackingApi.sendEventMergeRequest(b,d)}catch(c){}})},b.campaignSlotReady=function(c,d,e){b.qa.campaignSlotReadyCalled.push(c),a.then(function(a){if(a){var b=a[c];if(b){var f=document.querySelector("[data-cpgn-slot="+c+"]");f.innerHTML=b;var g=f.querySelector(".cpgn_lever");o_cpgn.trackingHandler(g,d,e).init(),o_cpgn.lever(g,!0).init()}}})},b}(),window.o_cpgn=window.o_cpgn||{},o_cpgn.initialisation=function(){var a={};a.init=function(a){if(a.length>0){b(document.querySelectorAll(".cpgn_lever"));var f=a[0].getAttribute("data-generic-tracking");f&&c(f);var g=a[0].getAttribute("data-scv");g&&d(g);var h=o_cpgn.additionalLevers;h&&(o_global.breakpoint.isExtraLarge()||o_global.breakpoint.isLarge())&&e(h)}};var b=function(a){var b=$(a),c=[];o_cpgn.trackingHandler(b).init(),$.each(b,function(a,b){var d=$(b).data("leverId")+$(b).data("tracking").position,e=-1===$.inArray(d,c);o_cpgn.lever(b,e).init(),c.push(d)})},c=function(a){var b;try{b=JSON.parse(a),o_cpgn.trackingApi.sendMergeRequest(b)}catch(c){}},d=function(a){o_global.helper.setCookie("cpgnScv",a,{minutes:30})},e=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=document.getElementById(b);if(c){c.innerHTML=a[b];var d=c.querySelector(".cpgn_lever");o_cpgn.trackingHandler(d).init(),o_cpgn.lever(d,!0).init()}}};return a},window.o_cpgn=window.o_cpgn||{},o_cpgn.lever=function(a,b){var c={},d=$(a),e=d.data("tracking");return c.init=function(){b===!0&&d.trigger("cpgnView",e),d.on("click",function(a){d.trigger("cpgnClick",e)})},c},window.o_cpgn=window.o_cpgn||{},o_cpgn.requests=function(){var a=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json;charset=UTF-8"),d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=JSON.parse(this.responseText);b(a)}},d.send(),d=null})};return{getJSON:a}}(),window.o_cpgn=window.o_cpgn||{},o_cpgn.trackingApi=function(){var a={},b=function(){return!!(window.o_tracking&&window.o_tracking.bct&&window.o_tracking.bct.sendMergeToTrackingServer&&window.o_tracking.bct.sendEventMergeToTrackingServer&&window.o_tracking.bct.trackOnNextPageImpression)},c=function(){var a=document.cookie||"";return-1===a.indexOf("trackingDisabled=true")};return a.sendEventRequest=function(a){b()&&c()&&(o_tracking.bct.trackOnNextPageImpression(a),o_global.debug.status().activated===!0&&console.log("lever event tracking",a))},a.sendEventMergeRequest=function(a,d){b()&&c()&&(o_tracking.bct.sendEventMergeToTrackingServer(a,d),o_global.debug.status().activated===!0&&console.log("lever event merge tracking",a))},a.sendMergeRequest=function(a){b()&&c()&&(o_tracking.bct.sendMergeToTrackingServer(a),o_global.debug.status().activated===!0&&console.log("lever merge tracking",a))},a}(),window.o_cpgn=window.o_cpgn||{},o_cpgn.trackingHandler=function(a,b,c){var d=$(a),e={},f=o_cpgn.trackingApi;e.init=function(){d.on("cpgnView",function(a,b){h(b),a.stopPropagation(),a.preventDefault()}),d.on("cpgnClick",function(a,b){i(b),a.stopPropagation(),a.preventDefault()})};var g=function(a){var b={};return c?b.promo_Position=c:b.promo_Position=a.position,b.promo_Content=a.content,b.promo_Type=a.type,b.promo_FilledSlots=a.filledSlots,b.promo_Source=a.source,b.ot_LeverId=a.leverId,b},h=function(a){if(a){var c=g(a);c.promo_Activity="initial","undefined"==typeof b?f.sendMergeRequest(c):f.sendEventMergeRequest(c,b)}},i=function(a){if(a){var b=g(a);b.promo_Activity="click",f.sendEventRequest(b)}};return e};var o_global=o_global||{},o_tracking=o_tracking||{},o_nav=o_nav||{};o_nav.tracking=function(){var a=function(a){if(o_tracking.bct)try{o_tracking.bct.sendEventToTrackingServer(a)}catch(b){o_global.debug.status().activated&&console.log(b)}};return{sendEvent:a}}();var o_global=o_global||{},o_util=o_util||{},o_nav=o_nav||{};o_nav.localMoreButton=function(){var a=36,b="nav_local--enfold",c="p_expander--decrease",d=function(a){return a.classList.contains(c)},e=function(){return o_global.breakpoint.isSmall()||o_global.breakpoint.isMedium()},f=function(b,d,e){b.style.height=a*e.length+"px",d.classList.add(c),o_nav.tracking.sendEvent({san_NavigationFoldout:"local"})},g=function(a,b){a.style.height="",b.classList.remove(c)},h=function(){var a,c=document.querySelector(".nav_local");if(c)if(a=c.querySelectorAll(".nav_local__link"),e()&&a.length>3){var h=document.getElementById("nav_localMoreButton");o_util.event.add(h,"click",function(){d(h)?g(c,h):f(c,h,a)})}else c.classList.remove(b)};return{init:h}}(),o_nav.localMoreButton.init();var o_order=o_order||{};o_order.settings=o_order.settings||{},o_order.settings.serviceBuilder=function(){var a={},b=[];return a.isEnabled=function(a){return $.inArray(a,b)>-1},a.init=function(){var a=$("#order_js_settings").data("settings")||"";b=a.split(",")},a},o_order.settings.service=o_order.settings.serviceBuilder(),o_order.settings.service.init();var o_order=o_order||{};o_order.common=o_order.common||{},o_order.common.buttons=o_order.common.buttons||function(){function a(a,b){var c=$(a),d=c.next(".order_js_button_spinner"),e=$('<div class="p_loader100" />');d.length||(d=$('<div class="order_js_button_spinner">'),d.insertAfter(c),d.append(e)),c.is(":visible")&&!b?(d.width(c.outerWidth()),d.height(c.outerHeight()),d.css("float",c.css("float")),
d.css("vertical-align","middle"),c.hide(),d.css("display","table-cell"),d.css("margin","auto"),e.css("margin","auto")):(c.show(),d.hide())}var b={};return b.toggleLoading=function(b,c){$(b).each(function(){a($(this),c)})},b}();var lhotse=lhotse||{};lhotse.exactag=lhotse.exactag||{};var o_order=o_order||{};o_order.performancemarketing=o_order.performancemarketing||{},o_order.performancemarketing.sendData=o_order.performancemarketing.sendData||function(){function a(a){return e+a}function b(){(console||{}).log&&console.log(arguments)}function c(){(lhotse.exactag.track||function(){b("Failed to track data! Performance marketing tracking not defined!")})(arguments)}var d={},e="";return d.forBasket={},d.forBasket.sendData=function(d){var e=$(d).find(".order_js_performanceMarketingItemAdded").first();if(1===e.length)try{$.extend(lhotse.exactag.data,{pt:e.data("pt"),ab:[{vi:a(e.data("vi")),pi:a(e.data("pi")),ac:a(e.data("ac")),gp:a(e.data("gp"))}]}),c()}catch(f){b(f)}},d.forWishlist={},d.forWishlist.sendData=function(d){var e=$(d).find(".order_js_performanceMarketingVariationAdded").first();if(1===e.length)try{$.extend(lhotse.exactag.data,{pt:a(e.data("pt")),mp:a(e.data("mp")),mv:a(e.data("mv"))}),c()}catch(f){b(f)}},d}();var o_order=o_order||{},o_wo=o_wo||{};o_order.notification=o_order.notification||{},o_order.notification.p13nNotifier=function(){function a(){(console||{}).log&&console.log(arguments)}function b(){o_wo&&o_wo.api&&o_wo.api.enterShoppingProcess?o_wo.api.enterShoppingProcess(arguments):a(arguments)}function c(){o_wo&&o_wo.api&&o_wo.api.leaveShoppingProcess?o_wo.api.leaveShoppingProcess(arguments):a(arguments)}return{enterCheckoutProcess:b,leaveCheckoutProcess:c}}();var o_p13n=o_p13n||{},o_order=o_order||{},o_global=o_global||{},o_tracking=o_tracking||{};o_p13n.api=o_p13n.api||{},o_tracking.bct=o_tracking.bct||{},o_order.addToBasket={},o_order.addToBasket.serverBoundaryBuilder=function(){var a={},b="/order/addToBasket";return a.asJson=function(a){try{return $.parseJSON(a)||{}}catch(b){return{}}},a.retrieveContentViaAjax=function(a,b){$.ajax({url:a,type:"GET",complete:function(a){switch(a.status){case 200:b(a.responseText);break;default:b("<div>Entschuldigung, es ist ein Fehler aufgetreten.</div>")}}})},a.buildItemAddedSuccessUrl=function(a){return b+"/success/"+encodeURIComponent(a.itemId)+"/"+encodeURIComponent(a.requestedQuantity)+"/"+encodeURIComponent(a.addedQuantity)+"?1=1"+(a.limitReached?"&msg=limitReached":a.upToLimit?"&msg=upToLimit":"")},a.buildItemAddSoldOutUrl=function(){return b+"/soldout"},a.buildItemAddErrorUrl=function(a){return b+"/error/"+encodeURIComponent(a.variationId)+"?quantity="+encodeURIComponent(a.quantity)+"&customEngravingText="+encodeURIComponent(a.customEngravingText)+"&customSerialNumber="+encodeURIComponent(a.customSerialNumber)+"&customLength="+encodeURIComponent(a.customLength)+"&customWidth="+encodeURIComponent(a.customWidth)},a.addToBasket=function(c,d){var e,f,g;$.ajax({url:b,data:c,type:"POST",complete:function(b){switch(b.status){case 201:e=a.buildItemAddedSuccessUrl(a.asJson(b.responseText)),d(e);break;case 409:f=a.buildItemAddSoldOutUrl(),d(f);break;default:g=a.buildItemAddErrorUrl(c),d(g)}}})},a},o_order.addToBasket.viewBuilder=function(){var a={},b={};return a.openLayer=function(a){var c={closeCallback:a,createTrackingContext:!1,width:"650px",heightLXL:"670px"};b=new o_global.pali.layerBuilder(c),b.open()},a.setLayerContent=function(a){b.setWrapperContent(a)},a.closeLayer=function(){b.close()},a.basketUpdated=function(){$(document).trigger("basket.changed")},a.redirectTo=function(a){window.location.href=a},a},o_order.addToBasket.presenterBuilder=function(a,b,c,d){function e(){c.enterCheckoutProcess()}function f(){o_p13n.api.initializeWkblCinema($(".order_js_addToBasketLayer").first())}var g={};return g.trackDialogOpened=function(){var a="order_tracking_layer_addtobasket",b="/order/addToBasket/close";o_tracking.bct.createContext(a,b),f()},g.trackDialogClosed=function(){o_tracking.bct.closeContext()},g.getContentForLayer=function(a){b.retrieveContentViaAjax(a,g.renderLayerContent)},g.renderLayerContent=function(b){a.setLayerContent(b),a.basketUpdated(),g.registerRetryHandler(),g.trackDialogOpened(),e(),d.sendData(b)},g.addToBasket=function(c){a.openLayer(g.trackDialogClosed),b.addToBasket(c,g.getContentForLayer)},g.buildDataForRetry=function(a){var b={};return b.variationId=a.data("variationid").toString(),b.quantity=a.data("quantity").toString(),b.customEngravingText=a.data("customengravingtext"),b.customSerialNumber=a.data("customserialnumber"),b.customLength=a.data("customlength").toString(),b.customWidth=a.data("customwidth").toString(),b},g.registerRetryHandler=function(){var a,c=$(".order_js_retryAddToBasket");c.length&&(a=g.buildDataForRetry(c),c.click(function(){g.trackDialogClosed(),b.addToBasket(a,g.getContentForLayer)}))},g},function(){var a=o_order.addToBasket.viewBuilder(),b=o_order.addToBasket.serverBoundaryBuilder(),c=o_order.notification.p13nNotifier,d=o_order.performancemarketing.sendData.forBasket,e=o_order.addToBasket.presenterBuilder(a,b,c,d);o_order.api=o_order.api||{},o_order.api.addToBasket=e.addToBasket}();var o_order=o_order||{},o_tracking=o_tracking||{};o_tracking.bct=o_tracking.bct||{},o_order.addToWishlist=o_order.addToWishlist||{},o_order.addToWishlist.server=o_order.addToWishlist.server||function(){function a(a,c,d){$.ajax({type:"POST",url:b,data:a}).done(c).fail(d)}var b="/order/wishlist/addVariation";return{post:a}}(),o_order.addToWishlist.view=o_order.addToWishlist.view||function(){function a(){return $(e)}function b(){return a().length}function c(){a().attr("disabled","disabled")}function d(){$(document).trigger("wishlist.changed")}var e=".or_js_retry";return{getRetryButton:a,hasRetryButton:b,disableRetryButton:c,updateMiniWishlist:d}}(),o_order.addToWishlist.presenterBuilder=o_order.addToWishlist.presenterBuilder||function(a,b,c,d){function e(a){b.updateMiniWishlist(),o_tracking.bct.createContext(i,j),c.sendData(a)}function f(a){a.setWrapperContent('<div class="p_message p_message--error p_layer--error"><b>Entschuldigung!</b> Aufgrund von technischen Problemen kann der Inhalt leider nicht geladen werden. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.</div>')}function g(c,d,h){function i(c,d){b.getRetryButton().on("click",function(){b.disableRetryButton(),o_tracking.bct.closeContext(),a.post(d,function(a){g(a,c,d)},function(){f(c)})})}d.setWrapperContent(c),b.hasRetryButton()?i(d,h):e(c)}function h(b){var c=new d({heightLXL:k,width:"650px",createTrackingContext:!1,closeCallback:function(){o_tracking.bct.closeContext()}});return c.open(),a.post(b,function(a){g(a,c,b)},function(){f(c)}),!1}var i="order_tracking_layer_addtowishlist",j="/order/wishlist/addVariation/close",k="300px";return{post:h}},function(){o_order.addToWishlist.presenter=o_order.addToWishlist.presenterBuilder(o_order.addToWishlist.server,o_order.addToWishlist.view,o_order.performancemarketing.sendData.forWishlist,o_global.pali.layerBuilder),o_order.api=o_order.api||{},o_order.api.addToWishlist=o_order.addToWishlist.presenter.post}();var o_order=o_order||{};o_order.productsamples=o_order.productsamples||{},o_order.productsamples.serverBoundaryBuilder=o_order.productsamples.serverBoundaryBuilder||function(){var a={};return a.placeOrder=function(b,c,d,e){$.ajax(b.uri,{type:"POST",data:b.data,complete:function(b){switch(b.status){case 201:c(b.responseText);break;case 400:d(b.responseText,a.placeOrder);break;default:e()}}})},a},o_order.productsamples.viewBuilder=o_order.productsamples.viewBuilder||function(a,b,c){function d(a){a.product_VariationId=h.getVariationId(),a.order_MusterbestellungTyp=h.getSamplesType()}function e(a){return function(){var b="order_tracking_layer_productsamples",e="productSamples."+h.getVariationId(),f={order_StoffmusterbestellungSchritt:"sampleSelection"};d(f),h.initFormView(a),c.createContext(b,e),c.sendMergeToTrackingServer(f)}}function f(a,b,e){var f={order_StoffmusterbestellungSchritt:e};return d(f),function(){a.hide(),b.show(),c.sendEventToTrackingServer(f)}}var g,h={},i="#ProductSamplesForm",j=".order_js_productSampleCheckbox",k=".order_js_productSamples_next",l="js_hasPaliTooltip",m="order_js_hasPaliTooltip",n=10;return h.openProductSamplesLayer=function(b,d){if(!b)return"Uri nicht definiert";var f={width:"700px",heightLXL:"605px",url:b,createTrackingContext:!1,openCallback:e(d),closeCallback:c.closeContext};g=new a(f),g.open()},h.registerOpenDialogCallback=function(a){$(document).on("click",".order_js_requestProductSamples",function(b){return h.openProductSamplesLayer($(this).attr("href"),a),b.preventDefault(),!1})},h.getFormState=function(){var a=$(i);return{uri:a.attr("action"),data:a.serialize()}},h.setLayerContentSuccess=function(a){var b=h.getNumberOfCheckedSamples(),e={order_StoffmusterbestellungSchritt:"order",order_StoffmusterbestellungAnzahl:b};d(e),g.setContent(a),c.sendEventToTrackingServer(e)},h.setLayerContentFailure=function(a,b){g.setContent(a),h.initFormView(b)},h.updateButtonsAndTooltipState=function(){var a=h.getNumberOfCheckedSamples();a>=n?h.disableUnselected():h.enableUnselected(),0===a?h.disabledContinueButton():h.enableContinueButton()},h.initFormView=function(a){var b=$(i),c=$(k,b),d=$(".order_js_productSamples_back",b),e=$(".order_js_productSamples_submit",b),g=$("[data-view=samples]",b),l=$("[data-view=address]",b),m=f(g,l,"address"),n=f(l,g,"sampleSelection");c.on("click",m),d.on("click",n),h.updateButtonsAndTooltipState(),$(j).on("click",h.updateButtonsAndTooltipState),b.on("submit",function(b){return b.preventDefault(),o_order.common.buttons.toggleLoading(e),a(h.getFormState(),h.setLayerContentSuccess,h.setLayerContentFailure,h.showTechnicalError),!1})},h.showTechnicalError=function(){var a=$(i),b=$(".order_js_technicalError",a),c=$(".order_js_productSamples_submit",a);b.show(),o_order.common.buttons.toggleLoading(c,!0)},h.disableUnselected=function(){var a=$(j+":not(:checked)");a.closest("li").addClass(m),a.closest("li").addClass(l),a.prop("disabled","disabled")},h.enableUnselected=function(){var a=$(j),c=document.getElementsByClassName(m);b.removeTooltip(c),a.closest("li").removeClass(m),a.prop("disabled","")},h.disabledContinueButton=function(){$(k).prop("disabled","disabled")},h.enableContinueButton=function(){$(k).prop("disabled","")},h.getNumberOfCheckedSamples=function(){return $(j+":checked").length},h.getVariationId=function(){return $(i).attr("variationid")},h.getSamplesType=function(){return $(i).attr("samplestype")},h},o_order.productsamples.presenterBuilder=o_order.productsamples.presenterBuilder||function(a,b){var c={};return c.init=function(){a.registerOpenDialogCallback(b.placeOrder)},c},o_global.eventLoader.onLoad(200,function(){var a=o_global.pali.layerBuilder,b=o_global.pali.tooltipHandler,c=o_tracking.bct,d=o_order.productsamples.viewBuilder(a,b,c),e=o_order.productsamples.serverBoundaryBuilder(),f=o_order.productsamples.presenterBuilder(d,e);f.init(),o_order.productsamples.presenter=f});var o_order=o_order||{};o_order.mbwk=o_order.mbwk||{},o_order.mbwk.serverBoundaryBuilder=function(){var a={},b="/order/basket/mbwk";return a.retrieveBasketFields=function(a,c){$.get(b).success(function(b){a(b)}).error(c)},a},o_order.mbwk.presenterBuilder=function(a,b){var c={};return c.retrieveFieldsSuccess=function(a){b.setInputField(a),b.triggerSubmit()},c.retrieveFieldsFailure=function(){b.registerSubmitHandler(c.handleFormSubmit),b.stopSpinner()},c.handleFormSubmit=function(){b.startSpinner(),a.retrieveBasketFields(c.retrieveFieldsSuccess,c.retrieveFieldsFailure)},c.init=function(){b.registerSubmitHandler(c.handleFormSubmit)},c},o_order.mbwk.viewBuilder=function(){var a={},b=".order_js_mbwkForm form",c="input[name=shoppingcart]",d=".order_js_mbwkSubmit";return a.setInputField=function(a){$(b).find(c).replaceWith(a)},a.registerSubmitHandler=function(a){$(document).one("submit",b,function(b){b.preventDefault(),a()})},a.triggerSubmit=function(){$(b).trigger("submit")},a.startSpinner=function(){o_order.common.buttons.toggleLoading($(d))},a.stopSpinner=function(){o_order.common.buttons.toggleLoading($(d))},a},o_order.mbwk.init=function(){var a=o_order.mbwk.viewBuilder(),b=o_order.mbwk.serverBoundaryBuilder(),c=o_order.mbwk.presenterBuilder(b,a);c.init()},o_order.mbwk.init();var o_order=o_order||{};o_order.eastereggs=o_order.eastereggs||{},o_order.eastereggs.l33t=o_order.eastereggs.l33t||function(){function a(){$("head").append($("<link>").attr("href","//fonts.googleapis.com/css?family=PT+Mono").attr("rel","stylesheet")),$("body, *").css({"font-family":"PT Mono","text-rendering":"optimizeLegibility","-moz-font-feature-settings":"dlig=1"})}function b(a){return a=a.replace(/(\S)l/g,"$1L"),a=a.replace(/(\S)l/g,"$1L"),a=a.replace(/a/gi,"4"),a=a.replace(/Ä/g,"Æ"),a=a.replace(/ä/g,"æ"),a=a.replace(/e/gi,"3"),a=a.replace(/i/gi,"1"),a=a.replace(/o/gi,"0"),a=a.replace(/ö/gi,"Ø"),a=a.replace(/U/g,"u"),a=a.replace(/ü/gi,"Y"),a=a.replace(/s\b/gi,"z"),a=a.replace(/s/gi,"$"),a=a.replace(/f+/g,"ph"),a=a.replace(/F/g,"Ph"),a=a.replace(/r/g,"R")}function c(a){var d;for(d=a.firstChild;null!==d;d=d.nextSibling)3===d.nodeType?d.nodeValue=b(d.nodeValue):1===d.nodeType&&c(d)}a(),c(document.body)},function(){var a=[38,38,40,40,37,39,37,39,66,65],b=0,c=function(d){d.keyCode===a[b]?(b+=1,b===a.length&&(o_order.eastereggs.l33t(),$(document).unbind("keydown",c))):b=0};$(document).bind("keydown",c)}();var o_order=o_order||{};o_order.minis=o_order.minis||{},o_order.minis.serverBoundaryBuilder=o_order.minis.serverBoundaryBuilder||function(a){var b={};return b.load=function(b){$.ajax(a,{success:b})},b},o_order.helper=o_order.helper||{},o_order.helper.reloadPage=o_order.helper.reloadPage||function(){window.location.reload()},o_order.helper.assignPage=o_order.helper.assignPage||function(a){window.location.assign(a)},o_order.minis.viewBuilder=o_order.minis.viewBuilder||function(a,b){function c(a){a.off("click").on("click",function(){var a=window.location.pathname+window.location.search,b=$(this).data("href");return o_order.helper.assignPage(b),b.slice(0,b.indexOf("#"))===a?(o_order.helper.reloadPage(),!1):void 0})}function d(){k=$(".order_js_"+a+"_amount"),l=$(".order_js_"+a+"_link"),m=k.data("loadurl"),l.data("target-b64")&&l.data("href",Base64.decode(l.data("target-b64"))),c(l)}function e(){return!!k.length}function f(a){var c=l.data("href"),d=jQuery.deparam.fragment(c),e={};d&&d.t&&(e=JSON.parse(d.t)),e[b]=String(a),l.data("href",$.param.fragment(c,"#t="+JSON.stringify(e)))}function g(a){k.html(a),f(a)}function h(a){a?k.removeClass(n):k.addClass(n)}function i(){return m}function j(){return d(),{setAmount:g,toggleBadge:h,getUrl:i,isOnPage:e,update:d}}var k,l,m,n="or_minis__badge--empty";return j()},o_order.minis.presenter=o_order.minis.presenter||function(a,b){function c(){a.update(),a.isOnPage()&&o_order.minis.serverBoundaryBuilder(a.getUrl()).load(function(b){a.setAmount(b.amount),a.toggleBadge(b.amount>0)})}function d(){a.update(),$(document).on(b,c),window.setTimeout(c,10)}return{init:d}},o_order.minis.minibasket=o_order.minis.presenter(o_order.minis.viewBuilder("minibasket","order_MiniBasket"),"basket.changed"),o_global.eventLoader.onLoad(50,o_order.minis.minibasket.init),o_order.minis.miniwishlist=o_order.minis.presenter(o_order.minis.viewBuilder("miniwishlist","order_MiniWishlist"),"wishlist.changed"),o_global.eventLoader.onLoad(50,o_order.minis.miniwishlist.init),window.o_wo=window.o_wo||{},o_wo.api=function(){var a={};return a.enterShoppingProcess=function(){o_wo.shoppingProcess.enterShoppingProcess()},a.leaveShoppingProcess=function(){o_wo.shoppingProcess.leaveShoppingProcess()},a}(),window.o_wo=window.o_wo||{};var adition=adition||{};adition.srq=adition.srq||[],o_wo.avContent=function(a){function b(b,c){var d=a('<div id="'+c+'"></div>');return b.append(d),d}function c(a){return a.attr("data-menuitempath")}function d(a){return void 0!==a&&""!==a&&-1!==a.indexOf("/")||"storefront"==a||"logoutseite"==a||"suchergebnisseite"==a}function e(){return a("div#san_searchResult").length>0}function f(){var b=a("div#san_searchResult").attr("data-userquery");return encodeURIComponent(g(b))}function g(a){var b=a.replace(/[Ä]/g,"Ae");return b=b.replace(/[ä]/g,"ae"),b=b.replace(/[ö]/g,"oe"),b=b.replace(/[Ö]/g,"Oe"),b=b.replace(/[Ü]/g,"Ue"),b=b.replace(/[ü]/g,"ue"),b=b.replace(/[ ]/g,"-"),b=b.replace(/[\/]/g,"_"),b=b.replace(/[ß]/g,"ss"),b=0===b.indexOf("_")?b.substring(1):b,b=b.lastIndexOf("_")===b.length-1?b.substring(0,b.length-1):b,b.replace(/[^a-zA-Z0-9\.\,\_\-]/gi,"")}function h(c,h){var i=a(".av_anchor"),j=b(i,c);i.addClass("wo_avContent"),adition.srq.push(function(b){function i(a){return""===a.getBannerCode()||a.getWidth()+1072>o_wo.utils.getWindowInnerWidth()||window.o_wo.woAlreadyRendered}var l=h.inShoppingProcess?"true":"false",m=h.av_id;b.registerAdfarm("ad1.adfarm1.adition.com").setProfile("ishp",l),d(h.identifier)&&b.setProfile("menupath",g(h.identifier)),e()&&b.setProfile("sw",f()),b.configureRenderSlot(c).setContentunitId(m).setRenderer("iframe"),b.events.onPreRender(function(b,c,d){if(i(c))return void d.disable();window.o_wo.singleRequestRendered=!0;var e,f,g=c.getOptions();f=k.buildTitle(g),j.append(a(f)),e=document.createElement("div"),e.className="wo_avInnerWrapper",d.addInnerWrapper(e)}),b.load().completeRendering()}),k.loadSingleRequest()}function i(a){var b="wo_av_sidebar";document.getElementById(b)||h(b,a),adition.srq.push(function(a){a.renderSlot(b)})}function j(){var a=o_wo.utils.getCookies();return o_wo.utils.containsString(a,"seleniumBypassAdvertising=true")}var k={};k.buildTitle=function(a){var b;return b="undefined"!=typeof a&&"undefined"!=typeof a.internal&&"true"===a.internal?"Aktuell bei OTTO":"Anzeige",['<p class="wo_caption">',b,"</p>"].join("")},k.fetchAvInfoFromBackend=function(b){return a.ajax({url:"/p13n-wo-onsite/a_info",async:!0,data:{identifier:b}})},k.getAvData=function(){var b=a("#avContent"),d="";if(b.length>0)if(b.hasClass("js_av_searchResult"))d="suchergebnisseite";else if(b.hasClass("js_av_productList"))d=c(b);else if(b.hasClass("js_av_teaser"))d=c(b);else if(b.hasClass("user_logout"))d="logoutseite";else{if(!b.hasClass("storeFrontAV"))return{av_id:void 0};d="storefront"}else{if(!(a(".error-search-advice").length>0))return{av_id:void 0};d="suchergebnisseite"}var e=k.fetchAvInfoFromBackend(d);j()||e.done(function(b){var c=b;if(!a.isEmptyObject(c)&&b.av_id){var d=o_wo.shoppingProcess.isInShoppingProcess();a.extend(c,{inShoppingProcess:d}),i(c)}})},k.loadSingleRequest=function(){if(!document.getElementById("wo_singleRequestScript")){var a=document.createElement("script");a.id="wo_singleRequestScript",a.type="text/javascript",a.src="https://imagesrv.adition.com/js/srp.js",a.charset="utf-8",a.async=!0;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};var l=function(a){return a.replace(/^\s+|\s+$/gm,"")},m=function(){var b=a(".av_anchor");return b.length>0&&0===l(b.text()).length&&o_wo.utils.isCurrentWindowWiderThanOrEqualTo1192px()};return k.reloadAvContentOnResize=function(){m()&&k.getAvData()},k.fillAvContent=function(){if(!o_wo.utils.hasCookie("app")){m()&&k.getAvData();var a=o_wo.resizingWindowView();a.bind("newDimensions",k.reloadAvContentOnResize)}},k}(jQuery),window.o_wo=window.o_wo||{},function(){o_global.eventLoader.onLoad(30,function(){o_wo.avContent.fillAvContent()})}(),window.o_wo=window.o_wo||{},function(){o_wo.resizingWindowView=function(){var a={},b=[],c=function(){return function(){o_wo.utils.isCurrentWindowWiderThanOrEqualTo1192px()&&b.forEach(function(a){a()})}};return a.bind=function(a,c){"newDimensions"===a&&b.push(c)},o_wo.utils.registerResize(c()),a}}(jQuery),window.o_wo=window.o_wo||{},o_wo.shoppingProcess=function(){var a={};return a.key="inShoppingProcess",a.durationInMinutes=30,a.enterShoppingProcess=function(){var b=o_wo.utils.getVisitorId();if(b){var c=JSON.stringify({visitorId:b,timeStamp:o_wo.utils.getCurrentTimeStamp()});try{localStorage.setItem(a.key,c)}catch(d){o_wo.utils.warn("enterShoppingProcess:",d)}}},a.leaveShoppingProcess=function(){try{localStorage.removeItem(a.key)}catch(b){o_wo.utils.warn("leaveShoppingProcess:",b)}},a.isInShoppingProcess=function(){try{var b=o_wo.utils.getVisitorId(),c=localStorage.getItem(a.key);if(b&&c){var d=JSON.parse(c),e=new Date(d.timeStamp);if(e.setMinutes(e.getMinutes()+a.durationInMinutes),b===d.visitorId&&e.getTime()>o_wo.utils.getCurrentTimeStamp())return!0}}catch(f){o_wo.utils.warn("isInShoppingProcess:",f)}return!1},a}(),window.o_wo=window.o_wo||{},o_wo.utils=function(){var a={};return a.containsString=function(a,b){var c=a||"",d=c.indexOf(b);return-1!==d},a.hasCookie=function(b){return"undefined"!=typeof a.getCookie(b)},a.getCookie=function(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2==c.length?c.pop().split(";").shift():void 0},a.getCookies=function(){return document.cookie},a.getVisitorId=function(){var b=a.getCookies(),c=b.match(/visitorId=[^;]*/);return c?c[0].split("=")[1]:void 0},a.getCurrentTimeStamp=function(){return(new Date).getTime()},a.getWindowInnerWidth=function(a){var b=a||window;return b.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},a.isCurrentWindowWiderThanOrEqualTo1192px=function(b){return a.getWindowInnerWidth(b)>=1192},a.registerResize=function(a){window.addEventListener?window.addEventListener("resize",a,!1):window.attachEvent("onresize",a)},a.registerVisibilityChange=function(a){document.addEventListener&&document.addEventListener("visibilitychange",function(){a("visible"===document.visibilityState)},!1)},a.warn=function(){window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)},a}(),window.o_p13n=window.o_p13n||{},o_p13n.anonymity=function(a){var b={reloadWindow:function(){window.location.reload(!0)},sendAnonymityEnablingAjaxRequest:function(){a.ajax({type:"POST",url:a('input[name="anonymityUrl"]').val(),dataType:"html",success:function(){b.reloadWindow()}})},sendAnonymityCancelingAjaxRequest:function(){a.ajax({type:"DELETE",url:a('input[name="anonymityUrl"]').val(),dataType:"html"})},init:function(){var c=a(document);c.on("click",".p13n_anonymity .p13n_enableAnonymityButton",function(){b.sendAnonymityEnablingAjaxRequest()}),c.on("click",".p13n_cancelAnonymityButton",function(a){a.preventDefault(),b.sendAnonymityCancelingAjaxRequest()})}};return b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.api=function(a){var b={};return b.loadDetailViewRecommendations=function(a,b,c,d,e,f,g){e=e||!1,o_p13n.detailViewCinemaLoader.load({productId:a,variationId:b,topTarget:c,bottomTarget:d,variationChanged:e,fixedXL:g})},b.loadRecommendationsForDetailView=function(a){a.variationChanged=a.variationChanged||!1,o_p13n.detailViewCinemaLoader.load(a)},b.copySimilarArticlesCinema=function(a,b,c,d){o_p13n.detailViewCinemaLoader.copySimilarArticlesCinema(a,b,c,d)},b.loadProductListCinema=function(a,b,c){return o_p13n.productListCinemaLoader.load(a,b,c)},b.initializeWkblCinema=function(b){o_p13n.initialisation().initWkblCinema(a(b))},b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.beraterTeaser=function(a){return function(b,c){var d={},e=1,f=a(b),g=f.find(".e_js_expandableCinemaWidget"),h=f.find(".e_js_beraterTeaserHeadline"),i=o_p13n.resizingWindowView(),j=function(a){var b=6,c=o_p13n.viewport.variant();if(c!==o_p13n.viewport.variants.medium&&c!==o_p13n.viewport.variants.small)return b;switch(a){case 0:return 2;default:return b}},k=o_p13n.expandableCinemaWidget(g,i,h,j,e);return d.init=function(){o_p13n.shopRecommendationWidget(b).init(),k.init(),o_p13n.tracking.eventBinding(g,k,c).init()},d}}(jQuery),window.o_p13n=window.o_p13n||{},function(){function a(){return jQuery(".p13n")}o_global.eventLoader.onReady(0,function(){window.lhotse&&lhotse.exactag&&lhotse.exactag.register&&lhotse.exactag.register("p13nSendRetargetingData",o_p13n.tracking.retargeting.sendRetargetingData),o_p13n.anonymity.init(),o_p13n.tracking.toggler.init()}),o_global.eventLoader.onLoad(30,function(){var b=a();if(0!==b.size()){var c=o_p13n.initialisation();b.each(function(a,b){c.initEntryOrLandingPage(jQuery(b))})}}),o_global.eventLoader.onLoad(90,function(){o_p13n.shoppingHistory.init()})}(),window.o_p13n=window.o_p13n||{},o_p13n.detailViewCinema=function(a){return function(b,c,d){var e={},f=2,g=a(b),h=g.find(".e_js_expandableCinemaWidget"),i=g.find(".e_js_detailViewCinemaHeadline"),j=function(a){var b=o_p13n.viewport.variant();if(b===o_p13n.viewport.variants.large||b===o_p13n.viewport.variants.xl)switch(a){case 0:return 4;case 1:return 12;case 2:return 100}else switch(a){case 0:return 2;case 1:return 6;case 2:return 12}},k=o_p13n.productRecommendationWidget(g),l=o_p13n.resizingWindowView(),m=o_p13n.expandableCinemaWidget(h,l,i,j,f,d);return e.init=function(){k.init(),m.init(),o_p13n.tracking.eventBinding(h,m,c.detailViewEventHandler).init(),FastClick.attach(b)},e}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.expandableSlideshowCinema=function(a){return function(b,c){var d,e={},f=3,g=function(a,b){a.className+=" "+b},h=function(a,b){var c=new RegExp("s*"+b,"g");a.className=a.className.replace(c,"")},i=function(){return o_p13n.utils.containsString(e.button.className,"e_expandedButton")},j=function(a){h(a,"e_hidden")},k=function(a){g(a,"e_hidden")},l=function(a,b,c){h(a,b),g(a,c)},m=function(){l(e.button,"e_collapsedButton","e_expandedButton"),j(e.cinema),k(e.thumb),j(e.expandedButtonText),k(e.collapsedButtonText),l(b,"e_collapsed","e_expanded"),c.trigger("stateChanged");var d=a(c).find(".e_slidingCinemaWidget").get(0);a(d).trigger("dragDealerReflow")},n=function(){l(e.button,"e_expandedButton","e_collapsedButton"),k(e.cinema),j(e.thumb),k(e.expandedButtonText),j(e.collapsedButtonText),l(b,"e_expanded","e_collapsed")},o=[],p=[],q=[],r=[];e.bind=function(a,b){"initialExpanded"===a?o.push(b):"initialCollapsed"===a?p.push(b):"opened"===a?q.push(b):"closed"===a&&r.push(b)};var s=function(c,e){e.forEach(function(a){a({trackingId:d,cinemaState:{visibleItemsCount:f}})}),a(b).trigger("e_alternativesCinemaChanged")},t=function(){i()?(o.forEach(function(a){a({trackingId:d,cinemaState:{visibleItemsCount:f}})}),a(b).trigger("e_alternativesCinemaChanged")):p.forEach(function(a){a({trackingId:d})})};return e.init=function(){e.button=b.querySelectorAll(".e_js_expanderButton")[0],e.cinema=b.querySelectorAll(".e_js_container")[0],e.thumb=b.querySelectorAll(".e_js_thumb")[0],e.expandedButtonText=b.querySelectorAll(".e_js_expandedButtonText")[0],e.collapsedButtonText=b.querySelectorAll(".e_js_collapsedButtonText")[0],e.button.onclick=e.toggle,d=b.querySelectorAll(".e_js_productCinema")[0].getAttribute("data-tracking-id"),t()},e.toggle=function(){i()?(n(),s("closed",r)):(m(),s("opened",q))},e}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.imageLazyLoading=function(a,b){var c={};return c.lazyLoad=function(c){a(c).find(".e_lazyPlaceholder").each(function(a,c){b.lazyLoadImg(c,function(){o_p13n.utils.isCurrentBrowserIE()&&(this.removeAttribute("width"),this.removeAttribute("height"))})})},c}(jQuery,Justlazy),window.o_p13n=window.o_p13n||{},o_p13n.imageLazyLoadingOnVisibilityChange=function(a){return function(b,c){var d={},e=a(b),f=function(){e.find(".e_js_lazyload").each(function(b,c){var d=a(c);d.is(":visible")&&(o_p13n.imageLazyLoading.lazyLoad(d),d.removeClass("e_js_lazyload"))})};return d.init=function(){c.bind("newDimensions",f),f()},d}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.intervalTimer=function(a,b){var c,d={},e=!1,f=function(){c=setTimeout(function(){f(),b()},1e3*a)},g=function(){clearTimeout(c)};d.start=function(){g(),e=!0,f()},d.stop=function(){e=!1,g()},d.reset=function(){d.stop(),d.start()};var h=function(a){a?e&&f():g()},i=function(){o_p13n.utils.registerVisibilityChange(h)};return i(),d},window.o_p13n=window.o_p13n||{},window.o_global=window.o_global||{},o_p13n.viewport=function(a){var b={};b.variants={small:"small",medium:"medium",large:"large",xl:"xl"};var c=function(){return o_global.breakpoint&&o_global.breakpoint.isSmall()},d=function(){return o_global.breakpoint&&o_global.breakpoint.isMedium()},e=function(){return o_global.breakpoint&&o_global.breakpoint.isLarge()};return b.variant=function(){return o_global.breakpoint&&o_global.breakpoint.isNoMQ()?b.variants.xl:c()?b.variants.small:d()?b.variants.medium:e()?b.variants.large:b.variants.xl},b.viewportHeight=function(b){var c=b||window;return a(c).height()},b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.initialisation=function(){var a={},b=function(a,b,c){var d=c.find(".e_js_productCinema");d.length&&d.each(function(c,d){var e=o_p13n.tracking.genericTrackingAdapter(a);o_p13n.productCinema(d,e.trackingHandler,b).init()})};return a.initProductListCinema=function(a){var c=a.find(".p13n").data("page-structure"),d=o_p13n.pathedDocument(c);b(d,"productlist",a)},a.initWkblCinema=function(a){var c=a.find(".p13n").data("page-structure"),d=o_p13n.pathedDocument(c);b(d,"wkbl",a)},a.initDetailViewCinemas=function(a,b,c,d,e,f){var g=a.find(".p13n_contentarea"),h=g.data("variation"),i=a.find(".e_js_detailViewCinema");if(i.length){var j=o_p13n.tracking.detailViewTrackingAdapter(c,b,h);j.setBounceGateType(f),j.setMergeContext(e),i.each(function(a,b){o_p13n.detailViewCinema(b,j,d).init()}),j.sendInitialDetailViewTrackingRequest()}},a.initEntryOrLandingPage=function(a){var c=function(){return a.find(".e_js_expandableSlideshowCinemaWidget")},d=a.find(".e_narrowContext").length>0,e=c().length>0,f=function(){var b=a.data("landingpage-id");b&&o_p13n.tracking.send("merge",{ot_LpId:b})},g=function(b){var c=a.find(".e_js_topEinzelArtikelTeaser");c.each(function(a,c){var d=o_p13n.tracking.genericTrackingAdapter(b),e=o_p13n.topEinzelArtikelTeaser(c,d.trackingHandler);e.init()})},h=function(b){var c=a.find(".e_js_shoppagesTeaser");c.each(function(a,c){var d=o_p13n.tracking.genericTrackingAdapter(b).trackingHandler,e=o_p13n.basicCinemaWidget(c,".e_externalContent"),f=!0;o_p13n.tracking.eventBinding(c,e,d,f).init()})},i=function(b){var c=a.find(".e_staticPromotionTeaser");c.each(function(a,c){var d=o_p13n.tracking.genericTrackingAdapter(b).trackingHandler,e=o_p13n.basicCinemaWidget(c,".e_externalContent .p_link"),f=!0;o_p13n.tracking.eventBinding(c,e,d,f).init()})},j=function(){var b=a.find(".e_js_textBlock");b.each(function(a,b){var c=o_p13n.linkTrackingView(b),d=o_p13n.tracking.textblock(c);d.init()})},k=function(b){var c=a.find(".e_js_topBrandCinema");o_p13n.viewport.variant()===o_p13n.viewport.variants.xl||o_p13n.viewport.variant()===o_p13n.viewport.variants.large?c.each(function(a,c){var e=o_p13n.tracking.genericTrackingAdapter(b),f=o_p13n.topBrandCinema(c,e.trackingHandler,d?"entrypage":"storefront");f.init()}):c.css("display","none")},l=function(b){var c=a.find(".e_slideshowTeaser");c.length&&c.each(function(a,c){var d=o_p13n.slideshowTeaser(c,b);d.init()})},m=function(a){var b=c();if(b.length)for(var d=0;d<b.length;d+=1){var e=b.find(".e_js_productCinema"),f=o_p13n.tracking.genericTrackingAdapter(a),g=o_p13n.expandableSlideshowCinema(b[d],e);g.bind("initialExpanded",f.expanderButtonHandlerInitialExpanded),g.bind("initialCollapsed",f.expanderButtonHandlerInitialCollapsed),g.bind("opened",f.expanderButtonHandlerOpened),g.bind("closed",f.expanderButtonHandlerClosed),g.init()}},n=function(b){var c,d=a.find(".e_js_shopTeaser");d.length&&(c=o_p13n.tracking.genericTrackingAdapter(b).trackingHandler,d.each(function(a,b){o_p13n.shopTeaser(b,c).init()}))},o=function(b){var c,d=a.find(".e_js_beraterTeaser");d.length&&(c=o_p13n.tracking.genericTrackingAdapter(b).trackingHandler,d.each(function(a,b){o_p13n.beraterTeaser(b,c).init()}))},p=function(){var b=o_p13n.pageStructureManipulator(a.data("page-structure"));return b.updateStructure(a.find(".e_staticPromotionTeaser"),".js_p13n_teasertracking","content"),b.updateStructure(a.find(".e_js_shoppagesTeaser"),".js_p13n_teasertracking","content"),b.getPathedDocument()},q=p(),r=d?"entrypage":"storefront";e&&(r="deliverystatement"),f(),
g(q),h(q),i(q),k(q),j(),l(q),n(q),o(q),b(q,r,a),m(q)},a},window.o_p13n=window.o_p13n||{},o_p13n.detailViewCinemaLoader=function(a){var b={};b.qa={};var c=function(b,c){return a(b).find("[data-displayposition="+c+"]")},d=function(a,b){a.find(".p13n_contentarea").html(b)},e=function(a,b,c){d(a,b),c.html(a)},f=function(b,d,f,g){var h=a(b),i=c(h,"top"),j=c(h,"middle"),k=c(h,"bottom")||[];if(null!==i&&i.length>0){var l=h.clone();e(l,i,d)}j&&j.length>0&&(k=j.add(k)),null!==k&&k.length>0&&e(h,k,f);var m=h.data("page-structure"),n=d.add(f);o_p13n.initialisation().initDetailViewCinemas(n,g,m)},g=function(a,b){return a?b+"?fixedXL=true":b},h=function(a){var b=a.querySelector(".e_js_detailViewCinemaHeadline");return b&&(b.innerHTML="",b.classList.remove("p_headline100"),b.classList.remove("e_detailViewCinemaHeadline")),a};return b.extractSimilarArticlesPageStructure=function(a){if(!a||!a.cinemas)return a;for(var b in a.cinemas){var c=a.cinemas[b];if(c.cinemaType&&"PE_AeA"===c.cinemaType){a.cinemas=[c];break}}return a},b.copySimilarArticlesCinema=function(c,d,e,f){var g=document.querySelectorAll("#e_detailViewCinematop")[0];if(g){var i=o_p13n.utils.findParentWithClass("p13n",g);if(!i)return!1;var j=document.querySelectorAll("#"+c)[0],k=b.extractSimilarArticlesPageStructure(JSON.parse(i.getAttribute("data-page-structure")));return j.innerHTML=i.outerHTML,j=h(j),o_p13n.initialisation().initDetailViewCinemas(a(j),!0,k,d,e,f),!0}return!1},b.load=function(b){if(o_p13n.detailViewCinemaLoader.qa.detailViewLoaderCall=b,b.variationId){var c=a(b.topTarget),d=a(b.bottomTarget),e="/p13n/detailviewrecommendations/#productId/#variationId",h=e.replace(/#productId/,b.productId).replace(/#variationId/,b.variationId);h=g(b.fixedXL,h),a.ajax({url:h,accepts:"text/html",cache:!1,type:"GET"}).then(function(a){f(a,c,d,b.variationChanged)})}},b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.productListCinemaLoader=function(a){var b={},c=function(){var b=a.Deferred();return setTimeout(b.resolve,100),b.promise()},d=function(b,c){var d="/p13n/productlist/#productId/#variationId",e=d.replace(/#productId/,b).replace(/#variationId/,c),f=a.Deferred();return a.ajax({url:e,accepts:"text/html",cache:!1,type:"GET"}).fail(function(a){f.reject(a.status)}).done(function(a,b,c){200===c.status?f.resolve(a):f.reject(c.status)}),f.promise()},e=function(a){return function(b){return a.html(b),c().then(function(){return o_p13n.initialisation().initProductListCinema(a)})}};return b.load=function(b,c,f){if(b&&c){var g=a(f).first();return d(b,c).then(e(g))}},b}(jQuery),window.o_p13n=window.o_p13n||{},function(a){o_p13n.pageStructureManipulator=function(b){var c={},d=o_p13n.pathedDocument(b);return c.updateStructure=function(b,c,e){var f=a(b).find(".e_externalContent");f.each(function(b,f){var g=a(f),h=g.data("tracking-id"),i=g.find(c);if(i.length>0){var j=o_p13n.utils.decode64(i.data("promo-content"));d.updateNode(h,e,j)}})},c.getPathedDocument=function(){return d},c}}(jQuery),window.o_p13n=window.o_p13n||{},function(){o_p13n.pathedDocument=function(a,b){b=b||"";var c={},d=/(.*)\[(\d+)\]/;return c.findBy=function(b){return o_p13n.pathedDocument(a,b)},c.updateNode=function(a,b,d){var e=c.findBy(a).value();e[b]=d},c.value=function(){if(""===b)return a;var c=b.split("/"),e=a;return c.forEach(function(a){var b=a.match(d);if(b){var c=b[1],f=parseInt(b[2],10);e=e[c][f]}else e=e[a]}),e},c.name=function(){return b.substring(b.lastIndexOf("/")+1,b.length)},c.parent=function(){if(""!==b){var c=b.substring(0,b.lastIndexOf("/"));return o_p13n.pathedDocument(a).findBy(c)}},c}}(),window.o_p13n=window.o_p13n||{},o_p13n.shopTeaser=function(){return function(a,b){var c={};return c.init=function(){var c=o_p13n.basicCinemaWidget(a,".e_basicCinemaWidgetItem"),d=o_p13n.resizingWindowView();o_p13n.tracking.eventBinding(a,c,b).init(),o_p13n.imageLazyLoadingOnVisibilityChange(a,d).init(),o_p13n.shopRecommendationWidget(a).init()},c}}(),window.o_p13n=window.o_p13n||{},o_p13n.shoppingHistory=function(a){var b={};return b.modelController="/p13n/shoppinghistory",b.templateUrl="/p13n/shoppinghistory/template",b.retrieveModel=function(){var c=b.modelController;return a.ajax({dataType:"json",url:c,async:!0,cache:!1})},b.retrieveModelFromLocalStorage=function(){try{if(window.localStorage){var a=localStorage.getItem("p13n-viewhistory-data");if(a)return JSON.parse(a)}}catch(b){}return{}},b.persistModelToLocalStorage=function(a){try{window.localStorage&&localStorage.setItem("p13n-viewhistory-data",JSON.stringify(a))}catch(b){}},b.loadAngularJSApp=function(a){o_p13n.utils.loadModule("shoppinghistory/private_shoppinghistory_min.js",function(){b.ngApp.bootstrapApp(a)})},b.loadTemplate=function(){var c=b.templateUrl;return a.ajax({async:!0,cache:!0,type:"GET",url:c})},b.isValid=function(b){var c,d=[];return a.each(b.shoppingHistory||[],function(b,c){a.each(c.articles,function(a,b){b.recommendations=[]}),d=d.concat(c.articles)}),c=a.isArray(d)&&d.length?a.extend(!0,{},b,{articles:d}):!1},b.appendTemplateToBody=function(b){a("body").append(b)},b.init=function(){var c=o_p13n.viewport.variant();c!==o_p13n.viewport.variants.large&&c!==o_p13n.viewport.variants.xl||!a(".js_p13nShoppingHistory").length||b.retrieveModel().then(function(a,c,d){var e;if(304===d.status){var f=b.retrieveModelFromLocalStorage();e=b.isValid(f)}else e=b.isValid(a),b.persistModelToLocalStorage(a);e&&b.loadTemplate().then(function(a){o_p13n.utils.containsString(a,"p13nHistoryWidget_container_inactive")||(b.appendTemplateToBody(a),b.loadAngularJSApp(e))})})},b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.slideshowTeaser=function(a,b){return function(c,d){var e=function(){return 1},f={},g=a(c),h=g.find(".e_js_slidingCinema"),i=o_p13n.slidingCinemaWidget(c,e,b,!0);return f.init=function(){i.init();var a=o_p13n.tracking.eventBinding(h,i,o_p13n.tracking.genericTrackingAdapter(d).trackingHandler);a.init();var b=function(){i.isOnLastSlide()&&(i.unbind("stateChange",b),a.unbindStateChangeTracking())};i.bind("stateChange",b)},f}}(jQuery,Dragdealer),window.o_p13n=window.o_p13n||{},o_p13n.topBrandCinema=function(a,b){return function(c,d,e){var f=function(){var a={entrypage:{small:1,medium:2,large:4,xl:5},storefront:{small:2,medium:3,large:5,xl:7}},b=o_p13n.viewport.variant();return a[e][b]},g={},h=a(c).find(".e_slidingCinemaWidget").get(0),i=o_p13n.slidingCinemaWidget(h,f,b,!1);return g.init=function(){o_p13n.tracking.eventBinding(a(c),i,d).init(),i.init()},g}}(jQuery,Dragdealer),window.o_p13n=window.o_p13n||{},o_p13n.topEinzelArtikelTeaser=function(a){return function(b,c){var d={},e=a(b),f=function(){return{visibleItemsCount:function(){return e.find("ul li.e_teaItem").size()},bind:function(){},unbind:function(){}}};return d.init=function(){o_p13n.tracking.eventBinding(e,f(),c).init()},d}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.tracking=function(a){var b,c={},d=function(){var a,b=o_p13n.utils.getCookies(),c=!o_p13n.utils.containsString(b,"trackingDisabled=true");return a=void 0===o_p13n.p13n_trackingData||void 0===o_p13n.p13n_trackingData.enabled||o_p13n.p13n_trackingData.enabled===!0?!0:!1,a&&c},e=function(){return!!(window.o_tracking&&window.o_tracking.bct&&window.o_tracking.bct.sendMergeToTrackingServer&&window.o_tracking.bct.sendEventToTrackingServer&&window.o_tracking.bct.trackOnNextPageImpression)},f=function(b){var c={};return a.each(b,function(b,d){a.isArray(d)?c[b]=d.length>1?d:d[0]:c[b]=d}),c},g=function(){var b=a.Deferred();return b.resolve(),b.promise()},h=function(b){var c=window.o_p13n.p13n_trackingData;return c&&c.features&&a.each(c.features,function(a,c){b["sd_Feature_"+a]=c+""}),b},i=function(a){return window.o_p13n.p13n_trackingData&&(a.sd_ContentArea=window.o_p13n.p13n_trackingData.contentareaId),a},j=function(c,d){var j=f(d);return!e()||a.isEmptyObject(j)?g():(j=h(j),j=i(j),"merge"===c?o_tracking.bct.sendMergeToTrackingServer(j):b&&"event"===c?b.sendEventToTrackingServer(j):o_tracking.bct.sendEventToTrackingServer(j))},k=function(a,b){return d()?j(a,b):g()};c.glue=function(a){return a.join(",")},c.send=function(a,b){return k(a,b)},c.sendForced=function(a,b){return j(a,b)},c.trackOnNextPageImpression=function(a){var b=h(a);return b=i(b),o_tracking.bct.trackOnNextPageImpression(b)},c.createEventMergeContext=function(){b=o_tracking.bct.createEventMergeContext()},c.closeEventMergeContext=function(){b=void 0},c.useEventMergeContext=function(a){b=a};var l=function(a){return a.ctrlKey||a.metaKey},m=function(a){var b=a.attr("target");return void 0!==b&&"_blank"===b?!0:a.hasClass("js_dialogOpener")||a.hasClass("js_openInPopup")||a.hasClass("js_openInLayer")||a.hasClass("js_openInPaliLayer")};return c.enableDeferredNavigationAndWaitForTrackingCompleted=function(b,c,e){var f=a(c),g=f.attr("href");!d()||l(b)||m(f)||(b.preventDefault(),e.always(function(){o_p13n.utils.redirectTo(g)}))},c}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},function(){o_p13n.tracking.detailViewTrackingAdapter=function(a,b,c){function d(a,b,c,d,e){var f=o_p13n.tracking.payloadFactory.pipedWithCount;void 0===a||null===a||d===a?"opened"===e.widgetState?(b.promo_Activity=m(b.promo_Activity,f("visible",c-e.itemsAdded)),b.promo_Activity=m(b.promo_Activity,f("opened"+e.expansion,e.itemsAdded))):b.promo_Activity=m(b.promo_Activity,f(e.widgetState,c)):b.promo_Activity=m(b.promo_Activity,f("visible",c))}function e(a){return n(k.value().cinemas,a)}function f(a,b){var c=a.value(),d=a.parent().value(),e=d.promotions.indexOf(c)+1;return o(c,d,e,b)}function g(a,b){var c=k.value().cinemas.indexOf(a);return l.cinemas[c]=b,c}var h,i,j={},k=o_p13n.pathedDocument(a),l={cinemas:[]},m=function(a,b){return a?a+"|"+b:b},n=function(a,b){return a.reduce(function(a,e,f){var g=l.cinemas[f],i=g.visibleItemsCount,j=e.promotions.slice(0,i),k=o_p13n.tracking.payloadFactory.piped,n=o_p13n.tracking.payloadFactory.pipedWithCount;return a.promo_Type=m(a.promo_Type,n(e.cinemaType,i)),a.promo_FilledSlots=m(a.promo_FilledSlots,n(i,i).toString()),a.promo_Content=m(a.promo_Content,k(j.map(function(a){return a.content}))),a.promo_Position=m(a.promo_Position,k(j.map(function(a,b){return b+1}))),d(b,a,i,f,g),a.promo_Source=m(a.promo_Source,k(j.map(function(a){return a.source}))),a.product_VariationId=c,e.catPath&&(a["wk.sd_CatPath"]=e.catPath),h&&(a.product_BounceGateType=h),a},{})},o=function(a,b,c,d){var e={},f=b.prefix||"";return e[f+"promo_Position"]=c,e[f+"promo_Activity"]="click",e[f+"promo_Content"]=a.content,e[f+"promo_Type"]=b.cinemaType,e[f+"promo_FilledSlots"]=d.toString(),e[f+"promo_Source"]=a.source,e.ot_AccPath=b.otAccPath,h&&(e[f+"product_BounceGateType"]=h),e};return j.detailViewEventHandler=function(a){var b=a.trackingId,c=a.cinemaState,d=k.findBy(b);if("cinema"===d.value().type){var h=g(d.value(),c);if("initial"===c.widgetState)return;return o_p13n.tracking.send("event",e(h))}return"promotion"===d.value().type?o_p13n.tracking.trackOnNextPageImpression(f(d,c.visibleItemsCount)):void 0},j.startEventMerging=o_p13n.tracking.createEventMergeContext,j.stopEventMerging=o_p13n.tracking.closeEventMergeContext,j.setMergeContext=function(a){i=a},j.setBounceGateType=function(a){h=a},j.sendInitialDetailViewTrackingRequest=function(){var a;a=b?"event":"merge",i&&o_p13n.tracking.useEventMergeContext(i),o_p13n.tracking.send(a,e())},j}}(),window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.eventBinding=function(a){return function(b,c,d,e,f){var g,h={},i="data-tracking-id",j=a(b),k=j.attr(i),l=function(){j.on("click",g,function(b){var e=a(b.target).closest("[data-tracking-id]"),g=e.attr(i);d({trackingId:g,cinemaState:{visibleItemsCount:c.visibleItemsCount()},hideVariationId:f})})},m=function(){c.bind("stateChange",function(a){d(a)})},n=function(){d({trackingId:k,cinemaState:{visibleItemsCount:c.visibleItemsCount(),widgetState:"initial",firstVisiblePromotionIndex:0}})};return h.unbindStateChangeTracking=function(){c.unbind("stateChange",d)},h.init=function(){g=e===!0?"[href]":"["+i+"][href]",l(),m(),f!==!0&&n()},h}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.genericTrackingAdapter=function(a){var b={},c=function(a,b,c){var d=a.value(),e=[],f=[],g=b.cinemaState.firstVisiblePromotionIndex||0,h=b.cinemaState.visibleItemsCount,i=d.promotions.slice(g,g+h);return i.forEach(function(a,b){f.push(c),e.push(g+b+1)}),o_p13n.tracking.payloadFactory.viewPayloadForPromotion(e,f,d,i)};return b.trackingHandler=function(b){var d=b.trackingId,e=a.findBy(d),f=e.value().type;if("cinema"===f){var g="false"===e.value().pageImpression?"event":"merge";return o_p13n.tracking.send(g,c(e,b,b.cinemaState.widgetState))}if("promotion"===f)return o_p13n.tracking.trackOnNextPageImpression(o_p13n.tracking.payloadFactory.clickPayloadForPromotion(e,b.hideVariationId));if("scrollButton"===f||"automatic"===f)return o_p13n.tracking.send("event",c(e.parent().parent(),b,e.value().scrollDirection));throw new Error("unknown type for tracking")},b.expanderButtonHandlerOpened=function(b){var d=a.findBy(b.trackingId);return o_p13n.tracking.send("event",c(d,b,"opened"))},b.expanderButtonHandlerClosed=function(b){var c=a.findBy(b.trackingId).value(),d=o_p13n.tracking.payloadFactory.viewPayloadForExpandableSlideshowCinema(c,"closed",!0);return o_p13n.tracking.send("event",d)},b.expanderButtonHandlerInitialExpanded=function(b){var d=a.findBy(b.trackingId),e=d.value().variationId,f=c(d,b,"initial");return o_p13n.tracking.send("merge",o_p13n.tracking.payloadFactory.wrapVariationIdAroundPayload(e,f))},b.expanderButtonHandlerInitialCollapsed=function(b){var c=a.findBy(b.trackingId).value(),d=c.variationId,e=o_p13n.tracking.payloadFactory.viewPayloadForExpandableSlideshowCinema(c,"initial",!1);return o_p13n.tracking.send("merge",o_p13n.tracking.payloadFactory.wrapVariationIdAroundPayload(d,e))},b},window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.payloadFactory=function(a){var b={},c={VIEW:"sd_TeslaView",CLICK:"sd_TeslaClick"},d=function(a,b,c,d){var e=d||"",f=a.personalizationReason;return"undefined"!=typeof f?("t_cp"===f&&(b[e+"sd_TeslaShopsComp"]=b[e+"sd_TeslaShopsComp"]+1,b[e+c]=!0),"t_lt"===f&&(b[e+"sd_TeslaShopsLt"]=b[e+"sd_TeslaShopsLt"]+1,b[e+c]=!0),!0):!1},e=function(a){return a.length>0&&"undefined"!=typeof a[0].personalizationReason?!0:!1};return b.piped=function(b){return a.isArray(b)?b.join("|"):b},b.pipedWithCount=function(a,c){for(var d=[],e=0;c>e;e+=1)d.push(a);return b.piped(d)},b.viewPayloadForExpandableSlideshowCinema=function(a,b,c){var d={};return d.promo_Type="PE_DazuEmp"===a.cinemaType?"PE_DazuEmp":"PE_Alternativen",d.promo_FilledSlots=a.promotions.length.toString(),d.promo_Content="PE_DazuEmp"===a.cinemaType?"Empfehlungen":"Alternativen",d.promo_Position="NA",d.promo_Activity=b,d.promo_Source="NA",c===!0&&(d.product_VariationId=a.variationId),d},b.viewPayloadForPromotion=function(a,f,g,h){var i=[],j=[],k=[],l=[],m=g.promotions,n={},o=!1,p={sd_TeslaShopsComp:0,sd_TeslaShopsLt:0,sd_TeslaView:!1};return e(m)&&m.forEach(function(a){d(a,p,c.VIEW)&&(o=!0)}),h.forEach(function(a){i.push(g.cinemaType),j.push(g.promotions.length.toString()),k.push(a.content),l.push(a.source)}),o&&(n=p),n.promo_Position=b.piped(a),n.promo_Activity=b.piped(f),n.promo_Content=b.piped(k),n.promo_Type=b.piped(i),n.promo_FilledSlots=b.piped(j),n.promo_Source=b.piped(l),g.variationId&&(n.product_VariationId=g.variationId),n},b.clickPayloadForPromotion=function(a,b){var f=a.parent().value(),g=a.value(),h={},i=f.prefix||"",j=!1,k={};return k[i+"sd_TeslaShopsComp"]=0,k[i+"sd_TeslaShopsLt"]=0,k[i+"sd_TeslaClick"]=!1,e(f.promotions)&&f.promotions.forEach(function(a){d(a,k,c.CLICK,i)&&(j=!0)}),j&&(h=k),h[i+"promo_Position"]=f.promotions.indexOf(g)+1,h[i+"promo_Activity"]="click",h[i+"promo_Content"]=g.content,h[i+"promo_Type"]=f.cinemaType,h[i+"promo_FilledSlots"]=f.promotions.length.toString(),h[i+"promo_Source"]=g.source,b!==!0&&f.variationId&&(h[i+"product_VariationId"]=f.variationId),h.ot_AccPath=f.otAccPath,h},b.wrapVariationIdAroundPayload=function(a,b){var c={},d={};return d[a]=b,c.ot_VariationIds=d,c},b}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.retargeting=function(a){var b=6,c=function(){var c=a(".e_js_productCinema").first(),d={variationIds:[],articleNumbers:[]},e=[];return c.length&&(e=c.find(".e_js_slidingCinema:first .e_js_productRecommendation").slice(0,b),a.each(e,function(b,c){var e=a(c);d.variationIds.push(e.attr("data-variationid")),d.articleNumbers.push(e.attr("data-articlenumber"))})),d},d=function(a){return a.attr("data-pt")},e=function(){var b,e=a("#p13n-exactag"),f={};return e.length&&(f=c(),b={pt:d(e),vi:f.variationIds.join(","),pi:f.articleNumbers.join(",")}),b},f=function(){var b=e();void 0!==b&&window.lhotse&&lhotse.exactag&&lhotse.exactag.data&&a.extend(lhotse.exactag.data,b)};return{collectVariationsinFirstCinema:c,collectRetargetingData:e,sendRetargetingData:f}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.textblock=function(a){var b={},c=function(a){return o_p13n.tracking.send("event",{p13n_TextblockContentKlick:a.targetUrl+","+a.position})};return b.init=function(){a.bind("clicked",c)},b},window.o_p13n=window.o_p13n||{},o_p13n.tracking=o_p13n.tracking||{},o_p13n.tracking.toggler=function(a){function b(a){return o_p13n.tracking.sendForced("event",{ot_OptOut:a})}function c(){a.ajax({type:"POST",url:"/p13n/trackingToggle",dataType:"html",success:function(){b("set").always(function(){e.reloadWindow()})}})}function d(){a.ajax({type:"DELETE",url:"/p13n/trackingToggle",dataType:"html",success:function(){b("reset").always(function(){e.reloadWindow()})}})}var e={};return e.reloadWindow=function(){window.location.reload(!0)},e.init=function(){var b=a(document);b.on("click",".p13n_trackingToggle .p13n_cancelTrackingButton",function(a){a.preventDefault(),c()}),b.on("click",".p13n_trackingToggle .p13n_enableTrackingButton",function(a){a.preventDefault(),d()})},e}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.utils=function(a){function b(a,b){b.detail&&(a.detail=b.detail)}var c={};c.containsString=function(a,b){var c=a||"",d=c.indexOf(b);return-1!==d};var d=window.Base64||{decode:function(a){return window.atob(a)}};c.decode64=function(a){try{return d.decode(a)}catch(b){return a}},c.getCookies=function(){return document.cookie},c.isCurrentBrowserIE=function(a){var b=a||navigator.userAgent;return-1!==b.indexOf("MSIE")||-1!==b.indexOf("Trident")},c.isCurrentBrowserIE8OrOlder=function(a){var b=a||window.document;return b.all&&!b.addEventListener},c.isCurrentBrowserFF3_6=function(a){var b=a||navigator.userAgent;return-1!==b.indexOf("Firefox/3.6")},c.isTouchableDevice=function(){return o_global.device.isTouchable},c.getVisitorId=function(){var a=c.getCookies(),b=a.match(/visitorId=[^;]*/);return b?b[0].split("=")[1]:void 0},c.loadModule=function(a,b){var c="/static/p13n/js/"+o_global.dirhashes.js.p13n+"/"+a;o_global.jsLoader.load([c],b)},c.getCurrentWindowLocation=function(){return window.location.pathname},c.redirectTo=function(a){window.location.assign(a)},c.scrollUp=function(){window.scrollTo(0,0)},c.getCurrentTimeStamp=function(){return(new Date).getTime()},c.getAnchorPathname=function(a){if(void 0!==a){var b="/",c=a.pathname||"";return c.charAt(0)!==b?b+c:c}};var e=function(){return a("html, body")};return c.scrollSmoothlyTo=function(b,c){e().animate({scrollTop:a(b).offset().top},c)},c.scrollUpTo=function(a,b){a.offset().top<window.scrollY&&c.scrollSmoothlyTo(a,b)},c.animateElementHeight=function(b,c,d){var e=a(b);e.animate({height:c},d,function(){e.css("height","auto")})},c.fulfilledPromise=function(){var b=a.Deferred();return b.resolve(),b.promise()},c.warn=function(){window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)},c.registerResize=function(a){window.addEventListener?window.addEventListener("resize",a,!1):window.attachEvent("onresize",a)},c.registerVisibilityChange=function(a){document.addEventListener&&document.addEventListener("visibilitychange",function(){a("visible"===document.visibilityState)},!1)},c.findAllVisibleElements=function(b,c){function d(b){var c=a(b);return c.is(":visible")?!0:"none"!==c.css("display")}var e=a(b);return e.find(c).filter(function(a,b){return d(b)})},c.setTimeout=function(a,b){setTimeout(a,b)},c.createCustomEvent=function(a,d,e){var f,g=e||window.document;if(c.isCurrentBrowserIE8OrOlder())return f=g.createEventObject(),f.type=a,b(f,d),f;try{f=new CustomEvent(a,d)}catch(h){f=g.createEvent("Event"),f.initEvent(a,!0,!1),b(f,d)}return f},c.triggerCustomEvent=function(a,b){if(c.isCurrentBrowserIE8OrOlder()){var d="on"+b.type;return void a[d](b)}a.dispatchEvent(b)},c.findParentWithClass=function(a,b){var d=b.parentNode;if(d&&d.classList)return d.classList.contains(a)?d:c.findParentWithClass(a,d)},c}(jQuery),window.o_p13n=window.o_p13n||{},function(a){o_p13n.linkTrackingView=function(b){var c={},d=a(b);return c.bind=function(b,c){"clicked"===b&&d.find("a").each(function(b,d){a(d).on("click",function(d){var e=this,f=a(e),g=f.attr("href");o_p13n.tracking.enableDeferredNavigationAndWaitForTrackingCompleted(d,e,c({targetUrl:g,position:b+1}))})})},c}}(jQuery),window.o_p13n=window.o_p13n||{},function(){o_p13n.resizingWindowView=function(){var a={},b=o_p13n.viewport.variant(),c=[],d=function(){return function(){var a=o_p13n.viewport.variant();b!==a&&(b=a,c.forEach(function(a){a(b)}))}};return a.bind=function(a,b){"newDimensions"===a&&c.push(b)},o_p13n.utils.registerResize(d()),a}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.basicCinemaWidget=function(a){return function(b,c){var d={},e=a(b);return d.visibleItemsCount=function(){return o_p13n.utils.findAllVisibleElements(e,c).length},d.bind=function(){},d.unbind=function(){},d}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.dragDealerWrapper=function(a){return function(b,c,d,e,f,g){var h,i,j={},k=0,l=a(d),m=a(e),n=a(f),o=n.find(".e_js_draggableContainer"),p=n.find(".e_js_draggableItem"),q=p.size(),r=[],s=0,t=function(){l.attr("data-promotions-per-slide",c),m.attr("data-promotions-per-slide",c),o.css("width",100*q/c+"%"),p.css("width",100/q+"%")},u=function(){l.prop("disabled",j.isOnLastSlide()),m.prop("disabled",j.isOnFirstSlide())},v=function(){return q-(c-1)},w=function(a,b){r.forEach(function(c){c({direction:a,firstVisiblePromotionIndex:k,extraInformation:b})})},x=function(a){var b=a+1;h.setStep(b,0,i),k=h.getStep()[0]-1,u()};j.nextStep=function(a){if(q-c>k){var b=k+c;x(b+c>q?q-c:b),w("next",a)}},j.previousStep=function(a){if(k>0){var b=k-c;x(0>b?0:b),w("prev",a)}};var y=function(){l.on("click touchstart",function(a){a.preventDefault(),j.nextStep()}),m.on("click touchstart",function(a){a.preventDefault(),j.previousStep()})},z=function(){var a=h.getStep()[0]-1;if(a!==k){var b=k>a?"prev":"next";k=a,w(b),u()}},A=function(a){var b=a>0?-1:1,c=s+b,d=a>0?"prev":"next";x(c),w(d)},B=function(){var b=window.Modernizr,c={steps:v(),loose:!0,disabled:i,css3:b.csstransforms,handleClass:"e_js_draggableContainer",dragStartCallback:function(){s=h.getStep()[0]-1},dragStopCallback:function(a,b,c){var d=c[0]*h.bounds.availWidth,e=Math.abs(d),f=h.getStepWidth();40>e||(f>e?A(d):z())}};return a.extend({},c,g)};return j.init=function(){return i=o_p13n.utils.isCurrentBrowserFF3_6(),t(),h=new b(n.get(0),B()),c>=q&&h.disable(),u(),y(),h},j.bind=function(a,b){"change"===a&&r.push(b)},j.resetNumberOfItemsPerSlide=function(a){c=a,k=0,t(),h.options.steps=v(),h.init(),i||(c>=q?h.disable():h.enable()),u()},j.totalNumberOfItems=function(){return q},j.getCurrentStep=function(){return k},j.isOnLastSlide=function(){return k>=q-c},j.isOnFirstSlide=function(){return 0===k},j.nextVisibleItemsCount=function(){return 2*c+k+1},j.visibleItemsCount=function(){return j.isOnFirstSlide()&&c>q?q:c},j.bindReflowEventListener=function(a){a.on("dragDealerReflow",function(){h.reflow()})},j}}(jQuery),window.o_p13n=window.o_p13n||{},function(a){o_p13n.expandableCinemaWidget=function(b,c,d,e,f,g){function h(){o.removeClass("p_expander--decrease")}var i,j,k={},l=a(b),m=l.find(".e_js_expanderContainer"),n=l.find("hr.p_line100"),o=l.find(".e_js_expanderButton"),p=l.find(".e_js_expandableCinemaEntry"),q=l.data("tracking-id"),r=g||0,s=500,t=function(){o.addClass("p_expander--decrease")},u=function(a){return p.slice(0,a)},v=function(){return 0===r},w=function(){void 0===i&&(i=l.height())},x=function(a){w();var b=l.height();a();var c=l.height();l.height(b),o_p13n.utils.animateElementHeight(l,c,s)},y=function(){var b=a.Deferred();return o_p13n.utils.scrollUpTo(d,s),o_p13n.utils.setTimeout(b.resolve,s-50),b.promise()},z=function(){l.css("height","auto")},A=function(){return r===f||j>=p.length},B=function(a){a?(m.hide(),n.show()):(m.show(),n.hide(),A()?t():h())},C=function(){return e(r)},D=function(){var a=u(C());a.show(),j=a.length},E=function(){p.hide(),D()},F=function(){E(),z();var a=e(0)>=p.length;B(a)};k.isExpanderButtonVisible=function(){return!A()},k.isNotExpanded=function(){return v()},k.visibleItemsCount=function(){return j};var G=[];k.bind=function(a,b){"stateChange"===a&&G.push(b)},k.numberOfExpansions=function(){return r};var H=function(){G.forEach(function(a){a({trackingId:q,cinemaState:{visibleItemsCount:j,widgetState:k.isNotExpanded()?"closed":"opened",expansion:r,itemsAdded:j-(k.isNotExpanded()?p.length:e(r-1))}})})},I=function(){return A()?(r=0,y().then(function(){F()})):(x(function(){r+=1,D(),B(!1)}),o_p13n.utils.fulfilledPromise())},J=function(){return I().then(H)},K=function(){o_p13n.imageLazyLoading.lazyLoad(p.slice(0,k.visibleItemsCount()))};return k.expandOrCollapse=J,k.init=function(){c.bind("newDimensions",F),c.bind("newDimensions",K),F(),K(),k.bind("stateChange",K),o.click(J)},k}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.productCinema=function(a,b){return function(c,d,e){var f=function(){var a={wkbl:{small:1,medium:2,large:3,xl:3},entrypage:{small:1,medium:2,large:3,xl:4},storefront:{small:1,medium:2,large:4,xl:5},productlist:{small:1,medium:2,large:3,xl:4},deliverystatement:{small:1,medium:2,large:2,xl:3}},b=o_p13n.viewport.variant();return a[e][b]},g={},h=a(c).find(".e_slidingCinemaWidget").get(0),i=o_p13n.slidingCinemaWidget(h,f,b,!1);return g.init=function(){var b=a(c).attr("data-contenttype"),e="WishlistCinema"===b||"DeliveryStatementCinema"===b||"DeliveryStatementCinemaComplementary"===b;o_p13n.tracking.eventBinding(a(c),i,d,!1,e).init(),i.init(),o_p13n.productRecommendationWidget(c).init()},g}}(jQuery,Dragdealer),window.o_p13n=window.o_p13n||{},o_p13n.productRecommendationWidget=function(a){return function(b){var c={},d=a(b),e=d.find(".e_productRecommendationWidget"),f=o_p13n.resizingWindowView(),g=d.find(".e_js_title"),h=function(){g.each(function(a,b){$clamp(b,{clamp:2})})},i=function(a){return o_p13n.utils.getAnchorPathname(a[0])===o_p13n.utils.getCurrentWindowLocation()},j=function(){e.each(function(b,c){var d=a(c);d.on("click",function(){i(d)&&o_p13n.utils.scrollUp()})})};return c.init=function(){h(),j(),f.bind("newDimensions",h),d.bind("stateChanged",h)},c}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.shopRecommendationWidget=function(a){return function(b){var c={},d=a(b).find(".e_shopTeaserHeadline"),e=function(){d.each(function(b,c){c.innerHTML=a(c).data("original-headline"),$clamp(c,{clamp:"2"})})};return c.init=function(){var a=o_p13n.resizingWindowView();a.bind("newDimensions",e),e()},c}}(jQuery),window.o_p13n=window.o_p13n||{},o_p13n.slidingCinemaWidget=function(a){var b=8;return function(c,d,e,f){var g,h={},i=a(c),j=i.find(".e_js_slidingCinema"),k=i.find(".e_js_promotion"),l=i.find(".e_js_next"),m=i.find(".e_js_prev"),n="right",o=o_p13n.dragDealerWrapper(e,d(),l,m,j,{speed:.2,slide:f}),p=[];h.totalNumberOfItems=function(){return o.totalNumberOfItems()};var q=function(b,c){var d,e;b?e=j.attr("data-tracking-id")+"/actions/scrollAutomatic":"right"===c?(d=l[0],e=a(d).data("tracking-id")):(d=m[0],e=a(d).data("tracking-id")),p.forEach(function(a){a({trackingId:e,direction:c,automatic:b,cinemaState:{visibleItemsCount:h.visibleItemsCount(),widgetState:"initial",firstVisiblePromotionIndex:h.getCurrentStep()}})})},r=function(a){var b="prev"===a.direction?"left":"right";f&&g.reset();var c="automatic"===a.extraInformation;q(c,b)},s=function(){o.resetNumberOfItemsPerSlide(d())},t=function(){j.on("mouseenter",g.stop).on("mouseleave",g.start)},u=function(){o.nextStep("automatic")},v=function(){o.previousStep("automatic")},w=function(){o.isOnLastSlide()?n="left":o.isOnFirstSlide()&&(n="right"),"right"===n?u():v()},x=function(){g=o_p13n.intervalTimer(b,w),g.start(),o_p13n.utils.isTouchableDevice()||t()},y=function(){i.css("visibility","visible")};h.bind=function(a,b){"stateChange"===a&&p.push(b)},h.unbind=function(a,b){"stateChange"===a&&p.splice(p.indexOf(b),1)},h.isOnLastSlide=function(){return o.isOnLastSlide()},h.visibleItemsCount=function(){return o.visibleItemsCount()},h.itemsToLazyLoad=function(){return o.nextVisibleItemsCount()},h.getCurrentStep=function(){return o.getCurrentStep()};var z=function(){o_p13n.imageLazyLoading.lazyLoad(k.slice(0,h.itemsToLazyLoad()))};return h.init=function(){o.bind("change",r),o.init();var b=o_p13n.resizingWindowView();b.bind("newDimensions",s),z(),o.bind("change",z),b.bind("newDimensions",z),o.bindReflowEventListener(a(c)),f&&x(),y(i)},h}}(jQuery);var product=window.product||{};product.scriptLoaderWrapper=function(){function a(a,b,c){var d,e,f;return o_global.debug.status().activated&&c?"/product/resources/product/"+c:(e=o_global.dirhashes.js[a||"product"],f=b.replace("{hash}",e),d="/static/product/"+f)}var b=function(b,c,d,e){d=d||function(){};try{var f=a(c,b,e);$.ajax({url:f,dataType:"script",cache:!0,success:function(){d()}})}catch(g){}};return{createUrl:a,load:b,testfunctions:{createUrl:a}}}();var product=window.product||{};product.staticAssetsLoader=function(){var a,b=function(){if(!a){var b=$(".javascriptUriTemplate");b&&b.length&&(a=b.attr("data-uritemplate"))}return a},c=function(a,c,d){var e=b(),f=e.replace(/\{type\}/g,a);return f=f.replace(/\{ident\}/g,c||"js"),f=f.replace(/\{extension\}/g,d||"js")},d=function(a,b){b=b||function(){};try{var d=c("css",a,"css");$("head").append('<link rel="stylesheet" href="'+d+'" type="text/css" />'),b()}catch(e){}},e=function(a,b){b=b||function(){};try{var d=c("js",a,"js");$.ajax({url:d,dataType:"script",cache:!0,success:function(){b()}})}catch(e){}};return{resolveStaticAssetUrl:c,loadCSS:d,loadJS:e}}(),o_global.eventLoader.onLoad(0,function(){"true"===$(".detailviewWrapper").attr("data-ft5labActive")&&(product.staticAssetsLoader.loadCSS("cleanads"),setTimeout(function(){$(".js_recommendations_top").append('<input type="button" value="Bewertungen anzeigen" class="bewertungen_anzeigen"></input>'),$(".bewertungen_anzeigen").click(function(){$("#customer-reviews").css("display","block")})},3e3))});var product=window.product||{};product.dimensionConfigProvider=function(){var a,b="selectBox",c={color:{S:{type:"color"},M:{type:"color"},L:{type:"color"},XL:{type:"color"}},guarantee:{S:{type:"radioList"},M:{type:"radioList"},L:{type:"radioList"},XL:{type:"radioList"}},size:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},plaidSize:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},pillowSize:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},cupSize:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},girth:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},width:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},cover:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},height:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},length:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},plaidType:{S:{type:"selectBox"
},M:{type:"selectBox"},L:{type:"dimension"},XL:{type:"dimension"}},weight:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},wheelSize:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},frameHeight:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},usage:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},sleeveLength:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},mounting:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},version:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},weightCapacity:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},unknown:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},adjustmentFunction:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},form:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},"function":{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},temper:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},knit:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},material:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},quantity:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},quality:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}},heatClass:{S:{type:"selectBox"},M:{type:"selectBox"},L:{type:"selectBox"},XL:{type:"selectBox"}}},d=function(a,b){return c[a]?c[a][b].type:"dimension"},e=function(){if(!a)try{a=JSON.parse($("#dimensionTypeConfigJSON").html())}catch(b){a={}}return a},f=function(){a=void 0},g=function(c,d,e){if(!a)try{a=JSON.parse($("#dimensionTypeConfigJSON").html())}catch(f){a={}}var g=a[c];return g&&g.maxItemsForStandard[d]?g.maxItemsForStandard[d]>=e?g.standard:g.fallback:b};return{getType:d,getTypeForDimensionValuesCount:g,getConfig:e,testFunctions:{resetConfig:f}}}(),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var a=window.matchMedia,b=a("only all").matches,c=!1,d=0,e=[],f=function(b){clearTimeout(d),d=setTimeout(function(){for(var b=0,c=e.length;c>b;b++){var d=e[b].mql,f=e[b].listeners||[],g=a(d.media).matches;if(g!==d.matches){d.matches=g;for(var h=0,i=f.length;i>h;h++)f[h].call(window,d)}}},30)};window.matchMedia=function(d){var g=a(d),h=[],i=0;return g.addListener=function(a){b&&(c||(c=!0,window.addEventListener("resize",f,!0)),0===i&&(i=e.push({mql:g,listeners:h})),h.push(a))},g.removeListener=function(a){for(var b=0,c=h.length;c>b;b++)h[b]===a&&h.splice(b,1)},g}}();var product=window.product||{};product.AsyncTemplates=function(){var a="/product/resources/templates/",b={},c=function(c){var d=$.get(a+c);return d.pipe(function(a){return a}),b[c]=d,d},d=function(a){return b[a]||c(a)},e=function(a,b){var c=d(a);return c.pipe(function(a){return Mustache.render(a,b)})},f=function(a,b,c,d){var f=$.Deferred(),g=e(a,b),h=$('<div class="'+a+c+'">');return d.append(h),$.when(g).then(function(a){h.html(a).children().first().unwrap(),f.resolve()}),f.promise()},g=function(){b={}};return{get:d,render:e,renderInContainerInOrder:f,tearDown:g}}();var product=window.product||{};product.breakpoint=function(){var a={small:window.matchMedia("max-width: 27.99em"),medium:window.matchMedia("(min-width: 28em)"),large:window.matchMedia("(min-width: 48em)"),extraLarge:window.matchMedia("(min-width: 62em)")},b=function(){return $("html.no-mq").length>0},c=function(){return a},d=function(){return!a.medium.matches&&!b()},e=function(){return a.medium.matches&&!b()},f=function(){return a.large.matches&&!b()},g=function(){return a.extraLarge.matches||b()},h=function(){var a="unknown";return g()?a="XL":f()?a="L":e()?a="M":d()&&(a="S"),a},i=function(a){var b,c=h();for(b=0;b<a.length;b++)if(a[b]===c)return!0;return!1},j=function(b){var c=function(a){b.breakPointChanged()};a.small.addListener(c),a.medium.addListener(c),a.large.addListener(c),a.extraLarge.addListener(c)};return{getBreakpoints:c,getCurrentBreakPoint:h,isBreakPointActive:i,registerChangeListener:j}}(),o_global.debug&&o_global.debug.status().activated&&product.breakpoint.registerChangeListener({breakPointChanged:function(){window.console&&window.console.log&&console.log("Entered Breakpoint: "+product.breakpoint.getCurrentBreakPoint())}});var product=window.product||{};product.dimensionsInfoLayer=function(){function a(a){var b=new $.Deferred;return $.ajax({type:"GET",url:a,cache:!0,timeout:3e3,success:function(a,c,d){200===d.status?b.resolve({success:!0,content:a}):b.resolve({success:!1})},error:function(a,c,d){AS.RUM.sendCustomRequest("product",{messageType:"ajaxError",url:this.url,timeout:this.timeout,errorType:c,httpStatus:a.status,httpMessage:d}),b.resolve({success:!1})}}),b.promise()}function b(b){var c=[];return $.each(b.values,function(b,d){d.infoUrl&&c.push(a(d.infoUrl))}),c}function c(a,b,c){var d,e={values:[]};if(e.dimensionName=b.displayName,c)for(d=0;d<c.length;d++){var f={};f.success=c[d].success,f.displayName=b.values[d].value,f.content=c[d].content,0!==d&&(f.showLine=!0),e.values.push(f)}else e.nocontent=!0;product.AsyncTemplates.render("dimensionInfoLayer",e).then(function(b){a.setContent(b)})}function d(a){var d=product.utils.createRwdLayer({modal:!0,width:"800px",height:"600px",createTrackingContext:!1});c(d,a),$.when.apply($,b(a)).then(function(){c(d,a,arguments)})}function e(a,b,c,e){var f;e&&c.track({product_InformationType:b.type+"_info",product_InformationActivity:"view"},{eventType:"merge"}),f=a.find(".prdPat_button_"+b.type),f.on("click",function(){c.track({product_InformationType:b.type+"_info",product_InformationActivity:"open"},{eventType:"event"}),d(b)})}return{addDimensionInfoButtonListenerSpecialForces:e}}();var product=window.product||{};product.patterns=product.patterns||{},product.patterns.VariationNameChanger=function(){function a(a,b){a.text(b)}return{changeVariationName:a}};var product=window.product||{};product.settingService=function(){function a(){if(!e)try{e=JSON.parse($("#productSettings").html())}catch(a){}return e}function b(b){var c=a(),d="false";return c&&c[b]&&(d=c[b]),d}function c(a){return"true"===b(a)}function d(a,b){e||(e={}),e[a]=b}var e;return{getSettingValue:b,isSettingEnabled:c,setSettingForTesting:d}}();var product=window.product||{};product.images=function(){var a={images:[],pipelineKey:function(a,b){return(a+"-"+b.selector).replace(/\./g,"")},contains:function(b,c){return-1!==$.inArray(a.pipelineKey(b,c),a.images)},add:function(b,c){a.images.push(a.pipelineKey(b,c))},remove:function(b,c){a.images.splice($.inArray(a.pipelineKey(b,c),a.images),1)},replace:function(b,c,d){a.images.splice($.inArray(a.pipelineKey(b,c),a.images),1,a.pipelineKey(d,c))},isFirstItem:function(b,c){return 0===$.inArray(a.pipelineKey(b,c),a.images)}},b=function(a,b){return b&&a&&""!==a?a.replace("${format}$",b):a},c=function(c,d,e,f){var g,h=b(c,f),i=e.attr("src"),j=function(b,c,d){var f=function(){a.isFirstItem(b,e)?(a.remove(b,e),e.hasClass("beforeLoading")||e.hasClass("initalImage")?d(b,c):e.one("load",function(){d(b,c)}),e.attr("src")!==b&&e.attr("src",b),e.attr("alt",c),e.removeClass("beforeLoading initalImage")):setTimeout(f,10)};f()},k=$.Deferred(),l={success:function(a,b){k.resolve(a,b)},error:function(a,b){k.reject(a,b)}},m=function(){var b=e.data("fallbackimg"),c=e.data("fallbacktext");a.replace(h,e,b),j(b,c,l.error)};return h&&""!==h?(i!==h&&!a.contains(h,e)||e.hasClass("beforeLoading")||e.hasClass("initalImage"))&&(a.add(h,e),g=$(document.createElement("img")),g.on("error",function(){m()}),g.on("load",function(){j(h,d,l.success)}),g.attr("src",h)):m(),k.promise()};return{switchImage:c,getUrlByUriTemplateAndFormat:b}}();var product=window.product||{};product.utils=function(){function a(a,b,c,d){var e,f=0,g=a.length;for(f;g>f;f++)if(e=d?a[f][d]:a[f],e[b]===c)return e}function b(){return!$.support.leadingWhitespace}function c(a){var b=$("<div>").append(a.clone()).html(),c=/type=(\")?([^\"\s>]+)(\")?/,d=null===b.match(c)?b.replace(">",' type="hidden">'):b.replace(c,'type="hidden"');a.replaceWith($(d))}function d(a){var b=String(a).replace(/Ä/g,"AE").replace(/Ö/g,"OE").replace(/Ü/g,"UE").replace(/ß/g,"SS");return b}function e(a){var b=String(a).toLowerCase().replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ /g,"_");return b}function f(a,b){var c;b=b||{},c=!(b&&b.noSlugify),$.each(a,function(b,d){c&&-1===r.indexOf(b)?a[b]=e(d):a[b]=String(d)})}function g(a,b){var c=$.extend({},a);$OTTO.TS.sendToTrackingServer(c,b)}function h(a,b){f(a,b);try{product.utils.sendTrackingData(a,b.eventType)}catch(c){}}function i(a,b,c){f(a,b);try{var d=$.extend({},a);c.sendEventToTrackingServer(d)}catch(e){}}function j(a,b){var c,d;return c=document.getElementById(a),c?(d=c.text||"",Mustache.render(d,b)):""}function k(a){return o_global.dialogBuilder(a)}function l(a){var b=o_global.pali.layer.getActiveLayer();return b?b.switchLayerContent({content:a.content}):(b=new o_global.pali.layerBuilder(a),b.open()),b}function m(a){var b=a.offset().top;window.scrollTo(window.scrollX,b)}function n(a){"function"==typeof jQuery&&a instanceof jQuery&&(a=a[0]);var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(a,b){var c=Math.pow(10,String(a).length-String(a).indexOf(".")-1),d=Math.pow(10,String(b).length-String(b).indexOf(".")-1);return a*c*(b*d)/(c*d)}function p(){return document.referrer}function q(){var a=product.utils.getReferrer();return""!==a&&-1===a.indexOf("otto.de")}var r=["product_VariationId","ot_PageCluster"];return{getObjectInArrayByKeyValue:a,hideInputFieldInIE8:c,isIE8OrLower:b,track:h,sendTrackingData:g,trackWithMergeContext:i,slugify:d,renderMustacheTemplate:j,createCopaliLayer:k,createRwdLayer:l,scrollToWebElement:m,isCompletelyInViewport:n,multiplyFloatsAvoidingRoundingErrors:o,getReferrer:p,isExternalCall:q}}(),product.trackingTestApi&&product.trackingTestApi.init(),product.layerCreationTestApi&&product.layerCreationTestApi.init();var product=window.product||{};product.utils=product.utils||{},product.utils.availability=function(){var a={AVAILABLE:{status:"available",orderable:!0},SOLDOUT:{status:"outOfStock",orderable:!1},DELAYED:{status:"notYetAvailable",orderable:!0}},b=function(b){var c,d;return b?(d=b.value,a[d]||(d="SOLDOUT"),c=a[d]):c=a.SOLDOUT,c};return{getStatusAndOrderable:b}}();var product=window.product||{},productPattern=window.productPattern||{};product.detailviewContainer={},product.products={},product.DetailviewContainer=function(a,b,c,d){function e(){delete product.detailviewContainer[a]}function f(a){return $("#detailviewWrapper").data(a)}function g(){return product.products[N]}function h(a){var b=o_global.helper.isIE8(),c=navigator.userAgent.indexOf("MSIE 9")>-1,d=$.deparam.fragment();if(o_global.debug.status().activated||b||c||d.jsErrorReload){var e,h="unknown";!a.stack||b||c||(h=a.stack.substring(a.stack.indexOf("http")),h=h.substring(0,h.indexOf("\n")),h=h.substring(h.lastIndexOf("/")+1),h=h.replace(/\)/g,"")),e={messageType:"jsError",errorType:a.name,errorMessage:a.message,productId:g().id,file:h},AS.RUM.sendCustomRequest("product",e),delete d.jsErrorReload,window.location.replace("#"+$.param(d)),f("config-show-alert-on-js-error")===!0&&alert(JSON.stringify(e))}else o_global.debug.activate(),document.location=document.location+"&jsErrorReload=true",document.location.reload()}function i(a,b,c,d,e){try{a.variationChanged(Q,b,c,d,e)}catch(f){h(f)}}function j(a,b,c,d,e){switch(a.loadingPriority){case"INSTANT":i(a,b,c,d,e);break;case"ONREADY":o_global.eventLoader.onReady(0,function(){i(a,b,c,d,e)});break;case"ONLOAD":o_global.eventLoader.onLoad(0,function(){i(a,b,c,d,e)})}}function k(a,b,c,d,e){if(a.loadingPriority=a.loadingPriority||"ONREADY",f("poc-js-exception-handling")!==!0)switch(a.loadingPriority){case"INSTANT":a.variationChanged(Q,b,c,d,e);break;case"ONREADY":o_global.eventLoader.onReady(0,function(){a.variationChanged(Q,b,c,d,e)});break;case"ONLOAD":o_global.eventLoader.onLoad(0,function(){a.variationChanged(Q,b,c,d,e)})}else j(a,b,c,d,e)}function l(a){c.push(a),N&&a.productLoaded&&a.productLoaded(Q),O&&a.variationChanged&&k(a)}function m(a){var b=/#ft5_slash#/g;return JSON.parse(a.replace(b,"/"))}function n(b){var c,d=$.Deferred();if(product.products[b])d.resolve();else if("detailview"===a)try{product.products[b]=m($("#productDataJson").html()),product.productModelCompletelyLoaded=!0,d.resolve()}catch(e){d.reject()}else c=$.ajax({url:"/p/views/detailviewInlineJSON/"+b,timeout:3e4}),c.done(function(a){product.products[b]=m(a),product.productModelCompletelyLoaded=!0,d.resolve()}),c.fail(function(a,b,c){AS.RUM.sendCustomRequest("product",{messageType:"ajaxError",url:this.url,timeout:this.timeout,errorType:b,httpStatus:a?a.status:"N/A",httpMessage:c}),d.reject()});return d.promise()}function o(){$.each(c,function(a,b){if(b.productLoaded)if(f("poc-js-exception-handling")!==!0)b.productLoaded(Q);else try{b.productLoaded(Q)}catch(c){h(c)}})}function p(a){var c,d,e=a;return g().variations[e]||(e=b.data("variationid"),g().variations[e]||(c=b.attr("data-articlenumber"),d=$.grep(g().sortedVariationIds,function(a){return g().variations[a].articleNumber===c||!c}),d.length&&(e=d[0]))),e}function q(a,b,c){a||"undefined"!=typeof o_tracking&&(c.variationChangeContext={variationId:b,trackingMergeContext:o_tracking.bct.createEventMergeContext()})}function r(a){return"undefined"!=typeof a?a.variationChangeContext:null}function s(){return document.createEvent?document.createEvent("Event"):document.createEventObject()}function t(a,b,d,e){e||(e=s()),O=p(b),P=P||O,q(S,O,e),d=void 0===d?-1:d,$.each(c,function(b,c){c.variationChanged&&c!==a?k(c,d,S,e):c===a&&console.log("Module "+c.type+" skipped!")}),S=!1}function u(a){a||(a=s()),O=p(a.variation.id),P=P||O,q(a.initialVariationChange,O,a),$.each(c,function(b,c){c.variationAndValidationStateChanged&&c.variationAndValidationStateChanged(a,Q)})}function v(a){$.each(c,function(b,c){c.customDimensionsChangedV2&&c.customDimensionsChangedV2(a,Q)})}function w(){var a;return a=p($.deparam.fragment().variationId),g().initialVariationDimensions=$.extend(!0,[],g().variations[a].dimensions.dimension),a}function x(a){var b=g().variations,c=null;return $.each(b,function(b,d){return d.articleNumber===a?(c=d,!1):void 0}),c}function y(a,c,d){N=a||b.data("productid");var e,f=$(".js_errorMessage",b),g=$(".js_productPresentaionArea",b);e=n(N),e.done(function(){var a=w();o(),c&&(a=c),d&&(a=x(d).id),f.hide(),g.show(),t({},a,void 0,s())}),e.fail(function(a,b,c){AS.RUM.sendCustomRequest("product",{messageType:"ajaxError",url:this.url,timeout:this.timeout,errorType:b,httpStatus:a?a.status:"N/A",httpMessage:c}),g.hide(),f.show()})}function z(){return N}function A(){return g().variations[O]}function B(a){return g().variations[a]}function C(){return g().distinctDimensions}function D(){return g().initialVariationDimensions}function E(){return g().variationTree}function F(a){return g().campaigns[a]}function G(a){a.type&&$.each(c,function(b,c){if(c.moduleRendered)if(f("poc-js-exception-handling")!==!0)c.moduleRendered(a);else try{c.moduleRendered(a)}catch(d){h(d)}})}function H(a,b,c){a.product_VariationId=c.variationId,d&&(a.ot_PageCluster=d),product.utils.trackWithMergeContext(a,b,c.trackingMergeContext)}function I(a,b,c){b=b||{},r(c)?H(a,b,r(c),c):(d&&"merge"!==b.eventType&&(a.ot_PageCluster=d),"merge"===b.eventType&&P&&(a.product_VariationId=P),product.utils.track(a,b))}function J(a){var b;for(b=0;b<c.length;b++)if(c[b].type===a)return c[b]}function K(a,b){var c,d=[];for(c=0;c<b.length;c++)d.push(a[c][b[c].type].value);return d}function L(){if(!R){var a=g();R=productPattern.dimension.displayDimensionsBuilder.createDisplayDimensions(a.distinctDimensions,a.variationTree,K(a.initialVariationDimensions,a.distinctDimensions),!0)}return R}function M(a,b){T[a]=b}if(product.detailviewContainer[a])throw'Container with name: "'+a+'" already exists.';var N,O,P,Q,R,S=!0,T={};return Q={remove:e,addModule:l,load:y,getProduct:g,getProductId:z,getSelectedVariation:A,getVariation:B,getVariationByArticleNumber:x,getDistinctDimensions:C,getInitialVariationDimensions:D,getVariationTree:E,getCampaign:F,changeVariation:t,changeVariationAndValidationState:u,changeCustomDimensionsV2:v,moduleRendered:G,$rootNode:b,rootNodeElement:b[0],containerName:a,track:I,getModule:J,getSetting:f,getDisplayDimensions:L,addService:M,services:T,test:{modules:c,getModule:J,loadEncodedProduct:n}},product.detailviewContainer[a]=Q,Q};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.ProductImagesModel=function(a){function b(a){return a.substring(a.lastIndexOf("/")+1,a.indexOf("?"))}function c(a,b){return a.replace("${format}$",b)}function d(){return J.length>0}function e(){return J.length>1}function f(){return J}function g(){var a=J[O];return a?a:!1}function h(){return P}function i(){return Q}function j(){return O}function k(a){var b;for(b=0;b<R.length;b++)if(R[b].type===a)return R[b];return null}function l(){return R}function m(a){R.push(a)}function n(a,b,c){var d=a,e=function(a){return a>K?K:a};return b>c?(b=e(b),d+="?wid="+b):(c=e(c),d+="?hei="+c),d+"&qlt="+L}function o(a){return a.replace(/\?[\w\W]*$/,"")}function p(a){return n(o(a.uriTemplate),a.width,a.height)}function q(a,b,c){var d=a;return d+=b>c?"?wid="+N:"?hei="+N,d+"&qlt="+M}function r(a){return q(o(a.uriTemplate),a.width,a.height)}function s(a){a.image=[],a.image.push({size:"small",href:c(a.uriTemplate,T.small)}),a.image.push({size:"medium",href:c(a.uriTemplate,T.medium)}),a.image.push({size:"thumbnail",href:c(a.uriTemplate,T.thumbnail)}),a.image.push({size:"zoom",href:p(a)}),a.image.push({size:"mobileZoom",href:r(a)})}function t(a){var c;J=[],a.images&&a.images.uriTemplate&&(s(a.images),c=b(a.images.uriTemplate),a.images.exists=!0,a.images.id=c,J.push(a.images)),a.alternativeImageList&&a.alternativeImageList.images&&a.alternativeImageList.images.length>0&&$.each(a.alternativeImageList.images,function(a,d){s(d),c=b(d.uriTemplate),d.exists=!0,d.id=c,J.push(d)})}function u(a,b,c,d){return function(){a[d.method].apply(b,c)}}function v(a,b,c,d){var e,f,g,h=[I],i={};for(b&&(i.changeMethodForTracking=b),c&&(i.variationChangedEvent=c),d&&h.push(d),h.push(i),e=0;e<R.length;e++)if(f=R[e],a.isBreakPointDependent&&f.requiredBreakPoints){if(g=f.requiredBreakPoints,product.breakpoint.isBreakPointActive(g)&&f[a.method])switch(f.loadingPriority=f.loadingPriority||"ONREADY",f.loadingPriority){case"INSTANT":u(f,this,h,a)();break;case"ONREADY":o_global.eventLoader.onReady(e,u(f,this,h,a));break;case"ONLOAD":o_global.eventLoader.onLoad(e,u(f,this,h,a))}}else f[a.method]&&f[a.method].apply(this,h)}function w(b){a&&H.track({product_DifferentImageActivity:"open",product_DifferentImageChange:j()+1+"|"+f().length,product_DifferentImageMethod:b})}function x(b){a&&H.track({product_DifferentImageActivity:"view",product_DifferentImageChange:j()+1+"|"+f().length},{eventType:"merge"},b)}function y(a,b){if(a>J.length)throw"change image to index: "+a+" is not possible. ImageCount is "+J.length;O=a,w(b),v(S.ImageChanged,b)}function z(a,b,c,d){var e=H.getSelectedVariation();t(e),O=0,x(d),v(S.ImageListChanged,c,d)}function A(a){H=a,v(S.ProductLoaded),product.breakpoint.registerChangeListener(I)}function B(){return H.$rootNode}function C(){return H.getSelectedVariation()}function D(){return H}function E(){v(S.BreakPointChanged)}function F(a){H.moduleRendered(a)}function G(a){var b=null,c=null;v(S.ModuleRendered,b,c,a)}var H,I,J=[],K=1500,L=70,M=50,N=1200,O=0,P=0,Q=0,R=[],S={ImageChanged:{method:"imageChanged",isBreakPointDependent:!0},ImageListChanged:{method:"imageListChanged",isBreakPointDependent:!0},ProductLoaded:{method:"productLoaded",isBreakPointDependent:!1},BreakPointChanged:{method:"breakPointChanged",isBreakPointDependent:!1},ModuleRendered:{method:"moduleRendered",isBreakPointDependent:!1}},T={small:"$formatc$",thumbnail:"$001PICT25$",medium:"$001PICT30$"};return I={type:"ProductImagesModel",loadingPriority:"INSTANT",variationChanged:z,productLoaded:A,breakPointChanged:E,changeImage:y,getImages:f,getCurrentImage:g,hasImages:d,hasMoreThanOneImage:e,getCurrentImageIndex:j,getCurrentlyDisplayedImageHeight:h,getCurrentSwipeContainerHeight:i,getListener:l,getListenerByName:k,registerAsListener:m,getContainerRootNode:B,getSelectedVariation:C,getDetailViewContainer:D,registeredModuleRendered:F,moduleRendered:G}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.Availability=function(){var a,b="prd_availabilityAndLimitation",c="KNAPP",d=!0,e=function(a){var b=!a.orderable&&d;return d=!1,b},f=function(a,b){var d=a.availability;return{status:b.status,detail:d.detail,text:a.availability.displayName,isLimited:c===d.limitation&&"AVAILABLE"===d.value}},g=function(a,c){var d,g,h,i=a.getSelectedVariation(),j=a.getSelectedVariation().availability,k=$(".availability",a.$rootNode);d=product.utils.availability.getStatusAndOrderable(j),j&&(e(d)||c)?(h=f(i,d),g=product.utils.renderMustacheTemplate(b,h),k.html(g)):k.html("")},h=function(a,b){g(b,a.validVariation)};return a={type:"Availability",variationAndValidationStateChanged:h,forTestingOnly_setAvailability:g,forTestingOnly_generateAvailabilityModel:f}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.CustomDimensions=function(a){function b(a,b){x[a]=b,w.changeCustomDimensionsV2(x)}function c(a,b){var c={id:b,currentCustomDimensionText:x[b],currentCustomDimensionTextRepeat:x[b+"Repeat"],mandatory:!0,displayName:a.displayName};return void 0!==a.mandatory&&(c.mandatory=a.mandatory),c[b]=!0,c}function d(a){var b,c,d=a.value,e=parseInt(a.getAttribute("data-min"),10),f=parseInt(a.getAttribute("data-max"),10),g=parseInt(a.getAttribute("data-step"),10),h={isNumber:!1,rangeOk:!1,stepOk:!1,alignedValue:d};return/^\d+$/.test(d)&&(h.isNumber=!0,d=parseInt(d,10),h.rangeOk=d>=e&&f>=d,g=g>0?g:1,b=(d-e)%g,0!==b&&d!==f?(c=d-b,2*Math.abs(b)>=g&&(c+=b>0?g:-g),c>f&&(c=f),h.alignedValue=c):h.stepOk=!0),h}function e(a,b){return a.substring(0,b.getAttribute("maxlength"))}function f(a){var b=a.match(/[\w\s\.\-]/gi);return b?b.join(""):""}function g(a){var b=a.value,c=b.toUpperCase();return c=product.utils.slugify(c),c=f(c),c=e(c,a),{modified:b!==c,value:c}}function h(a){var b=a.match(/[\d]/gi);return b?b.join(""):""}function i(a){var b=a.value,c=h(b);return{modified:b!==c,value:c.length?parseInt(c,10):""}}function j(a,b){var c=b(a);return c.modified&&(a.value=c.value),c}function k(a,c){var d=j(a,c);return b(a.id,d.value),d.modified}function l(a){var b=document.getElementById(a+"Message");null!==b&&(b.style.display="none"),o_global.helper.removeClass(document.getElementById(a),"p_form__input--error"),o_global.helper.removeClass(document.getElementById(a+"Label"),"p_form__label--error")}function m(){var a=!0;return $(".js_customDimensionInput").each(function(){var c=d(this),e=this.id;if(!c.isNumber||!c.rangeOk||!c.stepOk){var f={rangeError:!c.isNumber||!c.rangeOk,stepError:c.isNumber&&c.rangeOk&&!c.stepOk,id:e+"Message"};product.AsyncTemplates.render("customDimensions",f).then(function(a){var d,g;d=document.getElementById(e+"Message"),null!==d?d.outerHTML=a:$("#"+e+"Wrapper").prepend(a),g=document.getElementById(e),o_global.helper.addClass(g,"p_form__input--error"),o_global.helper.addClass(document.getElementById(e+"Label"),"p_form__label--error"),f.stepError&&$("#"+e+"Message").on("click","a",function(){return g.value=c.alignedValue,b(e,c.alignedValue),l(e),!1})}),a=!1}}),a}function n(a,b){return{id:b,rangeInput:!0,min:a.min,max:a.max,maxLength:a.max.toString().length,showStepHint:a.step>1,step:a.step,displayName:a.displayName,unit:a.unit,value:x[b]}}function o(a,b){var d,e,f,g,h=$(".js_customDimensions",b.$rootNode),i="customLength|customWidth",j=[],k=[],l={customDimensions:!0};for(d=0;d<a.length;d++){g=a[d];for(e in g)g.hasOwnProperty(e)&&(f=g[e],k.push("#"+e),i.indexOf(e)>=0?j.push(n(f,e,h)):(j.push(c(f,e,h,b)),k.push("#"+e+"Repeat")))}l.properties=j,product.AsyncTemplates.render("customDimensions",l).then(function(a){h.html(a),$(k.join(",")).trigger("keyup")})}function p(a){var b,c,d,e={};for(b=0;b<a.length;b++){d=a[b];for(c in d)d.hasOwnProperty(c)&&(e[c]=x[c]||"",("customEngravingText"===c||"customSerialNumber"===c)&&(e[c+"Repeat"]=x[c+"Repeat"]||e[c]))}x=e}function q(a){var b=a.getSelectedVariation();b.customDimensions&&b.customDimensions.dimension&&b.customDimensions.dimension.length&&(p(b.customDimensions.dimension),o(b.customDimensions.dimension,a))}function r(a,b){var c=$(".js_customDimensionTextWrapper",w.$rootNode),d=$("label",c),e=$("input",c),f=$(".p_message",c);e.toggleClass("p_form__input--error",a),d.toggleClass("p_form__label--error",a),$(".js_mandatory",f).toggleClass("prd_hidden",!(a&&b)),$(".js_notEqual",f).toggleClass("prd_hidden",!(a&&!b)),f.toggleClass("prd_hidden",!a)}function s(){$(w.$rootNode).on("paste",y,function(){var a=$(this);setTimeout(function(){a.trigger("keyup")},50)}).on("keyup",y,function(){k(this,g)&&r(!1)}),$(w.$rootNode).on("paste",".js_customDimensionInput",function(){var a=$(this);setTimeout(function(){a.trigger("keyup")},50)}).on("keyup",".js_customDimensionInput",function(){k(this,i)||l(this.id)})}function t(a){w=a,s()}function u(){var a=!0,b=!1;return $(y,w.$rootNode).each(function(c,d){var e=$(d),f=e.data("repeatid"),g=$("#"+f,w.$rootNode);g.length&&(e.attr("required")&&(b=""===e.val(),a=!b&&a),a=e.val()===g.val()&&a)}),r(!a,b),a}function v(){var a=m();return a=u()&&a,a||o_global.helper.scrollTo($(".js_customDimensions",w.$rootNode).offset().top-24,500),a}var w,x=a||{},y=".js_customDimensionText";return{variationChanged:q,productLoaded:t,setCustomDimensionValueToModel:b,validateCustomDimensions:v}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.Gurantee=function(){function a(a){$(document).on("click",".js_guarantee .js_trigger_layer",function(b){b.preventDefault();var c=$(this);$.ajax({url:c.data("shoppages-template"),timeout:2e3,success:function(b){if(1===$(b).length){var d,e,f=c.data("variationid"),g=a.getVariation(f),h={},i=0;for(i;i<g.dimensions.dimension.length;i++)e=g.dimensions.dimension[i].guarantee,e&&(h.Garantiezeit=e.value,h.GarantiezeitMonate=e.guaranteeDurationMonths,h.GarantiezeitJahre=e.guaranteeDurationYears);h.Garantieaufschlag=g.displayPrice.priceDifferenceToFirstVariation,d=Mustache.render(b,h),product.utils.createRwdLayer({modal:!0,content:d,createTrackingContext:!0})}}})})}return{productLoaded:a}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.MainImage=function(a){var b,c=function(){var b;if("string"==typeof a)b=a;else switch(product.breakpoint.getCurrentBreakPoint()){case"S":b=a.S;break;case"M":b=a.M;break;case"L":b=a.L;break;case"XL":b=a.XL;break;default:b=a.S}return b},d=c(),e=function(a,b,c){product.images.switchImage(b,c,a,d,!1)},f=function(a){var c=a.getSelectedVariation();b=$(".mainProductImage",a.getContainerRootNode()),a.hasImages()&&e(b,a.getCurrentImage().uriTemplate,c.name)},g=function(a){f(a)},h=function(a){f(a)},i=function(){return b},j=function(a){d!==c()&&(d=c(),e(b,a.getCurrentImage().uriTemplate,a.getSelectedVariation().name))},k={type:"MainImage",imageChanged:g,imageListChanged:h,requiredBreakPoints:["S","M","L","XL"],breakPointChanged:j,get$image:i};return k};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.OssPartner=function(){var a=function(a){var b,c={};b=$(".js_ossLink",a.$rootNode),b.length>0&&(c.noSlugify=!0,c.eventType="merge",a.track({product_Oss:"verkauf_und_versand",product_OssActivity:"view"},c),b.on("click",function(){var b={};b.noSlugify=!0,b.eventType="event",a.track({product_Oss:"verkauf_und_versand",product_OssActivity:"open"},b)}))},b={productLoaded:a};return b};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.ProductName=function(){function a(a){var b=a.getSelectedVariation();$(".js_variationName",a.$rootNode).text(b.name)}return{variationChanged:a}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.Quantity=function(a){var b,c,d,e=function(a){var b=$(".js_quantityAlert",d.$rootNode);b.toggleClass("prd_hidden",a)},f=function(a){var b=new RegExp(/^[0-9]+$/);return 0===a.search(b)&&!(1>a||a>50)},g=function(){return b.val()},h=function(){var a=f(g());e(a),c.quantityChanged(a)},i=function(a){b.val(a).trigger("keyup")},j=function(c){d=c,b=$("#quantity",d.$rootNode),b.on("keyup",h),a&&i(a)},k=function(a){c=a};return{productLoaded:j,get:g,set:i,isValid:f,setQuantityChangeObserver:k}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.SizeTable=function(){function a(a){e||product.utils.track(a,{eventType:"merge",noSlugify:!0})}function b(a){product.utils.track(a,{eventType:"event",noSlugify:!0})}function c(a,b){return{product_AdviceType:"size_guide",product_AdviceName:$(".js_sizeTable").data("table-type"),product_AdviceActivity:b,product_VariationId:a}}function d(d){var f=d.getSelectedVariation(),g=$(".js_sizeTable",d.$rootNode);g.length&&"none"!==g.css("display")&&(a(c(f.id,"view")),g.on("click",function(){b(c(f.id,"open"))})),e=!0}var e=!1;return{variationChanged:d}};var product=window.product||{};product.specialForcesDimensionSelectionGuarantee=function(){var a=function(a,b){var c,d;for(d=0;d<b.length;d++)if(b[d].type===a){c=b[d];break}return c},b=function(a,b){a.append(' <button type="button" class="js_prdPat_trigger_layer p_symbolBtn25--3rd" data-variationId="'+b+'" data-shoppages-template="/shoppages/langzeitgarantieaufschlag"><i>i</i></button>')},c=function(a,b){a.text(a.text()+" (+ € "+b+")")},d=function(a,b,c){var d,e,f=a.data("variationid"),g=c[f],h={},i=0;for(i;i<g.dimensions.dimension.length;i++)e=g.dimensions.dimension[i].guarantee,e&&(h.Garantiezeit=e.value,h.GarantiezeitMonate=e.guaranteeDurationMonths,h.GarantiezeitJahre=e.guaranteeDurationYears);h.Garantieaufschlag=g.displayPrice.priceDifferenceToFirstVariation,d=Mustache.render(b,h),product.utils.createRwdLayer({modal:!0,content:d,createTrackingContext:!0})},e=function(a,b){$(".js_prdPat_guarantee .js_prdPat_trigger_layer",a).off("click"),$(".js_prdPat_guarantee .js_prdPat_trigger_layer",a).on("click",function(a){a.preventDefault();var c=$(this);$.ajax({url:c.data("shoppages-template"),timeout:2e3,success:function(a){1===$(a).length&&d(c,a,b)}})})},f=function(d,f,g){var h,i,j,k,l=a("guarantee",f);if(l)for(k=0;k<l.values.length;k++)if(h=l.values[k].variationId,h&&(i=g[h],j=i.displayPrice.priceDifferenceToFirstVariation)){var m=$('.js_prdPat_guarantee input[value="'+l.values[k].value+'"]').next();c(m,j),b(m,h)}e(d,g)};return{renderGuaranteeInfoIntoDimensions:f}}();var product=window.product||{};product.specialForcesDimensionSelectionInfoIcon=function(){var a=["cover","mounting","quality","heatClass","temper","weightCapacity"],b=function(a,b){var c,d;for(d=0;d<b.length;d++)if(b[d].type===a){c=b[d];break}return c},c=function(a,b){return a.find(".js_prdPat_"+b+" span")},d=function(a,b){return 1===c(a,b).length},e=function(e,f,g,h,i){var j,k,l;for(k=0;k<a.length;k++)l=a[k],d(f,l)&&(j=b(l,g),c(f,l).append(' <button type="button" class="js_prdPat_dimension_info_button prdPat_button_'+l+' prdPat_dimensionInfoButton p_symbolBtn25--3rd"><i>i</i></button>'),
product.dimensionsInfoLayer.addDimensionInfoButtonListenerSpecialForces(f,j,{track:h},i))};return{addInfoIcons:e}}();var product=window.product||{};product.detailviewModule=product.detailviewModule||{};var productPattern=window.productPattern||{};productPattern.dimension=productPattern.dimension||{},product.detailviewModule.SpecialForcesDimensionSelection=function(a){var b,c,d,e,f,g,h=a||{},i=function(){h.enableCoverColorCombo=h.enableCoverColorCombo||!1},j=function(a,b){var c,d=[],e=a.dimensions.dimension;for(c=0;c<e.length;c++)d.push(e[c][b[c].type].value);return d},k=function(a){var b,c={};for(b in a.variations)a.variations.hasOwnProperty(b)&&(c[b]=j(a.variations[b],a.distinctDimensions));return c},l=function(a,b,c){var g={};!e&&b>=0&&(e=c[b].type),g.noSlugify=!0,g.eventType="merge",d.track({product_Dimension:e},g,a),f.length&&d.track({product_Fault:f.join(",")}),e=null},m=function(){var a=product.breakpoint.getCurrentBreakPoint();c.breakPointChanged(a)},n=function(a){product.specialForcesDimensionSelectionInfoIcon.addInfoIcons(product.settingService,g,d.getDisplayDimensions(),d.track,a),product.specialForcesDimensionSelectionGuarantee.renderGuaranteeInfoIntoDimensions(d.$rootNode,d.getDisplayDimensions(),d.getProduct().variations)},o=function(a,b){var e=product.breakpoint.getCurrentBreakPoint();c.changeVariation(b,d.getSelectedVariation().id,e)},p=function(a,b,c,d){var e,f=[];for(e=0;a>=e;e++){var g=d[e].type,h=b.dimensions.dimension[e][g].value,i=c.dimensions.dimension[e][g].value;h!==i&&f.push(g)}return f.join("_")},q=function(){return document.createEvent?document.createEvent("Event"):document.createEventObject()},r=function(a,c,g,h,i){var j,k,m,n;f=g,i&&(j=d.getSelectedVariation(),k=d.getVariation(a),e=p(c,j,k,d.getDistinctDimensions()),d.changeVariation(b,a,c,null)),n=!f.length&&product.utils.availability.getStatusAndOrderable(d.getSelectedVariation().availability).orderable,m=q(),m.validVariation=n,m.variation=d.getSelectedVariation(),m.initialVariationChange=h,d.changeVariationAndValidationState(m),h||l(m,c,d.getDistinctDimensions())},s=function(a,b){var c,d=[];for(c=0;c<b.length;c++)d.push(a[c][b[c].type].value);return d},t=function(a){var b,e,f=a.getProduct(),i=[];d=a,b=d.getDisplayDimensions(),g=$(".dimensions",d.$rootNode),h.enableCoverColorCombo&&i.push(productPattern.dimension.coverColorComboRenderPlugin),e={variationTree:f.variationTree,displayDimensions:b,$rootNode:g,initialVariationDimensionValues:s(f.initialVariationDimensions,b),dimensionConfigMap:product.dimensionConfigProvider.getConfig(),variationToDimensionValuesMap:k(f),renderPlugins:i,callbacks:{variationChangedCallback:r,redrawnCallback:n}},c=new productPattern.dimension.DimensionsSelection(e)};return b={type:"SpecialForcesDimensionSelection",variationChanged:o,productLoaded:t,breakPointChanged:m,testFunctions:{calculateDimensionTrackingValue:p}},i(),product.breakpoint.registerChangeListener(b),b};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.EnergyEfficiency=function(){function a(a){return a.replace(/\+/g,"p").toLowerCase()}function b(a){return window.btoa?window.btoa(a):window.Base64.encode(a)}function c(a){return a.energyEfficiencyClass&&a.energyEfficiencyClass.images&&a.energyEfficiencyClass.images.length>0}function d(d){var e,f,g={};return d.energyEfficiencyClass&&d.energyEfficiencyClass.category&&(e=d.energyEfficiencyClass.category,f=d.energyEfficiencyClass.colorHexcode,g.energyLabel={labelLetter:e.substring(0,1),labelPlusses:e.substring(1,e.length),cssClass:a(e),hexCode:f?"#"+f:void 0,variationId:d.id,hasImages:c(d)}),d.dataSheet&&d.dataSheet.dataUrl&&(g.dataSheet={pdfUrl:d.dataSheet.dataUrl,base64EncodedUrl:b(d.dataSheet.dataUrl)}),g}function e(a,b){k.track(a,{eventType:"merge"},b)}function f(a){for(var b=[],c=0;c<a.images.length;c++){var d={},e=a.images[c].dataUrlTemplate.split("?")[0],f=e.substr(e.lastIndexOf("/")+1,e.length);d.url=e,d.id=f,d.energyEfficencyClass=a.category,b.push(d)}return b}function g(a,b){o_util.event.add(a[0].querySelector(".js_prd_energyEfficiencyLabel"),"click",function(){var a=f(b.energyEfficiencyClass);product.AsyncTemplates.render("module_energyEfficiencyImageLayer",{imageList:a}).then(function(a){product.utils.createRwdLayer({modal:!0,width:"510px",height:"585px",content:a,createTrackingContext:!1}),k.track({product_InformationType:"energieeffizienzetikett",product_InformationActivity:"open"},{eventType:"event"})})})}function h(a){o_util.event.delegate(a[0].querySelector(".js_prd_energyEfficiencyDataSheet"),"click",".js_prd_energyEfficiencyDataSheetLink",function(){k.track({product_InformationType:"produktdatenblatt",product_InformationActivity:"open"},{eventType:"event"})})}function i(a,b,c,f){var i=a.getSelectedVariation(),j=d(i),m=a.$rootNode[0].querySelector(".js_prd_energyEfficiency");k=a,j.energyLabel||j.dataSheet?(m.innerHTML=product.utils.renderMustacheTemplate("prd_energyEfficiency",j),l=!0,j.energyLabel&&(j.energyLabel.hasImages?(e({product_InformationType:"energieeffizienzetikett",product_InformationActivity:"view"},f),g(a.$rootNode,i)):e({product_InformationType:"energieeffizienzetikett",product_InformationActivity:"show"},f)),j.dataSheet&&(e({product_InformationType:"produktdatenblatt",product_InformationActivity:"view"},f),h(a.$rootNode))):l&&(m.innerHTML="",l=!1)}var j,k,l=!1;return j={variationChanged:i,type:"energyEfficiency",testFunctions:{fillModel:d,createImageDataForLayer:f,hasEnergyEfficiencyImages:c}}};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.Ordering=function(a){var b,c,d,e,f,g,h=this,i=!0,j={};this.type="Basket",this._toggleQuantityAlert=function(a){var b=$(".js_quantityAlert",f.$rootNode);b.toggleClass("prd_hidden",a)},this._isQuantityValid=function(a){var b=new RegExp(/^[0-9]+$/);return 0===a.search(b)&&!(1>a||a>50)},this._isVariationCompletelyChoosen=function(){return b&&i},this._updateAddToBasketBtn=function(){h._isVariationCompletelyChoosen()?a.$addToBasketBtn.removeAttr("disabled"):a.$addToBasketBtn.attr("disabled","disabled")},this._quantityKeyUpHandler=function(){i=h._isQuantityValid(g.val()),h._toggleQuantityAlert(i),h._updateAddToBasketBtn()},this._setQuantity=function(a){g.val(a).trigger("keyup")},this._areCustomDimensionsValid=function(){return!c||c()},this._setVariationIsValidAndUpdate=function(a){b=a,h._updateAddToBasketBtn()},this.setCustomDimensionTextIsValidHandlerAndUpdate=function(a){c=a},this.submit=function(b){var c=f.getSelectedVariation(),e={variationId:c.id,articleNumber:c.articleNumber,quantity:g.val(),enteredArticleNumberAndPromotion:d};$.extend(e,j),h._areCustomDimensionsValid()&&h._isVariationCompletelyChoosen()&&a.submitHandler&&a.submitHandler(e,b)},this._addSubmitHandlerToBasket=function(){e.off("submit.basket"),e.on("submit.basket",function(a){a.preventDefault(),h.submit()})},this._updateWishlistLink=function(a,b){var c=a.$rootNode[0].querySelector(".wl_js_add2Wishlist").querySelector("input[name=variationId]");b?c.setAttribute("value",a.getSelectedVariation().id):c.setAttribute("value","")},this.variationAndValidationStateChanged=function(a,b){f=b,$("#js_variationId",b.$rootNode).attr("value",b.getSelectedVariation().id),h._addSubmitHandlerToBasket(),h._setVariationIsValidAndUpdate(a.validVariation),$(".js_prd_ordering",b.$rootNode).hasClass("prd_ordering--onlyQuantity")===!1&&(a.variationChangeContext?product.campaigns.slotRendered("shopAdvgTop",a.variationChangeContext.trackingMergeContext.eventMergeId):product.campaigns.slotRendered("shopAdvgTop"),h._updateWishlistLink(b,a.validVariation))},this.customDimensionsChangedV2=function(a){j=a},this.getAddToBasketButton=function(){return a.$addToBasketBtn},this._extractArticleNumberFromHash=function(){var a=$.deparam.fragment();d=a.artNr,delete a.artNr,d&&window.location.replace("#"+$.param(a))},this.productLoaded=function(b){f=b,e=$(".product_basket",f.$rootNode),g=$("#quantity",f.$rootNode),a.$addToBasketBtn||(a.$addToBasketBtn=$(".js_product_addToBasket",f.$rootNode)),g.on("keyup",function(){h._quantityKeyUpHandler()}),a.quantity&&h._setQuantity(a.quantity)},this._extractArticleNumberFromHash()};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.Price=function(){function a(a,b){var c=$(".js_actionCampaignOrDdt",h.$rootNode),d=$(".js_reducedImage",h.$rootNode);product.settingService.isSettingEnabled("FEATURE_1579_NEW_DEAL_LOGIC")||(b?c.addClass("ddt"):c.removeClass("ddt")),a?d.removeClass("prd_hidden"):d.addClass("prd_hidden"),"S"!==product.breakpoint.getCurrentBreakPoint()&&"M"!==product.breakpoint.getCurrentBreakPoint()||!b||d.addClass("prd_hidden")}function b(a,b,c){var d=$(".js_installmentsCalculatorLayerLink");d.length&&(d.css("display","inline-block"),d.off(),d.on("click",function(){h.services.installmentsCalculator.openLayer(a,h,c)}),h.track({product_InstallmentCalculator:"view",product_VariationId:h.getSelectedVariation().id},{eventType:"merge"},b))}function c(c,d){var e,f;if(c.displayPrice&&(f=$.extend({},c.displayPrice,{noSpecificProductSelected:!d.validVariation,isSale:c.sale,normPrice:c.normPrice,retailer:c.retailer,showInstallments:null===c.retailer||"0"===c.retailer.id,is_FEATURE_1579_NEW_DEAL_LOGIC_enabled:product.settingService.isSettingEnabled("FEATURE_1579_NEW_DEAL_LOGIC")}),c.normPrice&&(f.normPrice.formatedValue=c.displayPrice.normPrice),d.initialVariationChange||(f.eventMergeId=d.variationChangeContext.trackingMergeContext.eventMergeId),e=product.utils.renderMustacheTemplate("prd_priceTemplate",f),$("#price",h.$rootNode).html(e),a(c.sale,c.isDealDateToday),h.moduleRendered(g),h.services.installmentsCalculator)){var i={isInstallmentsConfigB:"true"===h.$rootNode.attr("data-config-installments-config-b"),isZahlpauseOhneAufpreis:"true"===h.$rootNode.attr("data-config-displayzahlpauseohneaufpreis")};b(c.displayPrice.priceAmount,d,i)}}function d(a){h=a}function e(a){var b=h.getSelectedVariation();c(b,a)}function f(){var b=h.getSelectedVariation();a(b.sale,b.isDealDateToday)}var g,h;return g={type:"price",variationAndValidationStateChanged:e,breakPointChanged:f,productLoaded:d},product.breakpoint.registerChangeListener(g),g};var product=window.product||{};product.detailviewModule=product.detailviewModule||{},product.detailviewModule.PriceV2=function(){function a(a,b){var c=$(".js_actionCampaignOrDdt",h.$rootNode),d=$(".js_reducedImage",h.$rootNode);product.settingService.isSettingEnabled("FEATURE_1579_NEW_DEAL_LOGIC")||(b?c.addClass("ddt"):c.removeClass("ddt")),a?d.removeClass("prd_hidden"):d.addClass("prd_hidden"),"S"!==product.breakpoint.getCurrentBreakPoint()&&"M"!==product.breakpoint.getCurrentBreakPoint()||!b||d.addClass("prd_hidden")}function b(a,b,c){var d=$(".js_installmentsCalculatorLayerLink");d.length&&(d.css("display","inline-block"),d.off(),d.on("click",function(){h.services.installmentsCalculator.openLayer(a,h,c)}),h.track({product_InstallmentCalculator:"view",product_VariationId:h.getSelectedVariation().id},{eventType:"merge"},b))}function c(c,d){var e,f;if(c.displayPrice&&(f=$.extend({},c.displayPrice,{noSpecificProductSelected:!d.validVariation,isSale:c.sale,normPrice:c.normPrice,retailer:c.retailer,showInstallments:null===c.retailer||"0"===c.retailer.id,is_FEATURE_1579_NEW_DEAL_LOGIC_enabled:product.settingService.isSettingEnabled("FEATURE_1579_NEW_DEAL_LOGIC")}),c.normPrice&&(f.normPrice.formatedValue=c.displayPrice.normPrice),d.initialVariationChange||(f.eventMergeId=d.variationChangeContext.trackingMergeContext.eventMergeId),e=product.utils.renderMustacheTemplate("prd_priceTemplate",f),$("#price",h.$rootNode).html(e),a(c.sale,c.isDealDateToday),h.moduleRendered(g),h.services.installmentsCalculator)){var i={isInstallmentsConfigB:"true"===h.$rootNode.attr("data-config-installments-config-b"),isZahlpauseOhneAufpreis:"true"===h.$rootNode.attr("data-config-displayzahlpauseohneaufpreis")};b(c.displayPrice.priceAmount,d,i)}}function d(a){h=a}function e(a){var b=h.getSelectedVariation();c(b,a)}function f(){var b=h.getSelectedVariation();a(b.sale,b.isDealDateToday)}var g,h;return g={type:"price",variationAndValidationStateChanged:e,breakPointChanged:f,productLoaded:d},product.breakpoint.registerChangeListener(g),g};var product=window.product||{};product.miniDetailview=product.miniDetailview||{},product.miniDetailview=$.extend(product.miniDetailview,function(){function a(a,b){var c,d,e=$(".miniDetailview"),f=e.find(".buttons .js_product_addToBasket"),i=[new product.detailviewModule.ProductName,new product.detailviewModule.Price,new product.detailviewModule.Availability,new product.detailviewModule.OssPartner],j="directOrder";return i.push(new product.detailviewModule.EnergyEfficiency),c=new product.detailviewModule.CustomDimensions(a),h=new product.detailviewModule.Ordering({submitHandler:b,$addToBasketBtn:f,quantity:a.quantity}),h.setCustomDimensionTextIsValidHandlerAndUpdate(c.validateCustomDimensions),i.push(h),i.push(c),i.push(new product.detailviewModule.SpecialForcesDimensionSelection),d=new product.detailviewModule.ProductImagesModel(!1),i.push(d),d.registerAsListener(new product.detailviewModule.MainImage("$001PICT30$")),product.detailviewContainer[j]&&product.detailviewContainer[j].remove(),e.data("variationid",""),g=new product.DetailviewContainer(j,e,i),g.load(null,null,a.articleNumber),g}function b(a,b,c){return function(d,e){a.success=c,d&&($.extend(a,d),b&&"function"==typeof b&&(e&&e.attr("disabled","disabled"),b(a)))}}function c(a,b,c){return a?$.ajax("/product/products/views/mini/",{timeout:2e3,data:{articleNumber:a.articleNumber}}).then(function(d){return{html:d,variationDetails:a,callback:b,cancel:c}}):$.Deferred().reject()}function d(a,b,c){var d=".js_submit",e=".js_cancel";$(".buttons",b).show(),b.on("click",d,function(a){h.submit($(a.currentTarget))}),b.on("click",e,function(){c(),a.cancel&&"function"==typeof a.cancel&&a.cancel()})}function e(c){var e=$(c.html);return function(f){var g=function(){e.fadeOut().remove()};f.html(""),e.appendTo(f),a(c.variationDetails,b(c.variationDetails,c.callback,g)),d(c,e,g),product.directOrderCompletelyInitialized=!0}}function f(a,b,d){return c(a,b,d).then(e)}var g,h;return{directOrder:{getDeferredMiniDetailview:f}}}()),product.miniDetailview=product.miniDetailview||{},product.miniDetailview.directOrder=product.miniDetailview.directOrder||{},product.miniDetailview.directOrder.getDeferredMiniDetailview=product.miniDetailview.directOrder.getDeferredMiniDetailview||function(a,b,c){return product.miniDetailview.directOrder.getDeferredMiniDetailview(a,b,c)};var product=window.product||{};product.miniDetailview=product.miniDetailview||{},product.miniDetailview=$.extend(product.miniDetailview,function(){function a(a,b){var c,d,e,h=$(".miniDetailviewLayer .prd_submitButtonWrapper .js_submit"),i=$(".miniDetailview");c=[new product.detailviewModule.ProductName,new product.detailviewModule.Price,new product.detailviewModule.Availability,new product.detailviewModule.Gurantee,new product.detailviewModule.OssPartner],c.push(new product.detailviewModule.EnergyEfficiency),d=new product.detailviewModule.CustomDimensions(a.variationDetails.customDimensions||a.variationDetails),g=new product.detailviewModule.Ordering({submitHandler:b,$addToBasketBtn:h,quantity:a.variationDetails.quantity}),g.setCustomDimensionTextIsValidHandlerAndUpdate(d.validateCustomDimensions),c.push(g),c.push(d),c.push(new product.detailviewModule.SpecialForcesDimensionSelection),e=new product.detailviewModule.ProductImagesModel(!1),c.push(e),e.registerAsListener(new product.detailviewModule.MainImage("$001PICT30$")),i.data("variationid",a.variationDetails.variationId),f=new product.DetailviewContainer("miniDetailview",i,c,"Mini-DV"),f.load()}function b(a,b,c){return function(d,e){if(a.success=c,d&&($.extend(a.variationDetails,d),b&&"function"==typeof b)){if(e){var f=$("<div style='margin:12px'>");e.replaceWith(f),f.lazySpinner("start",0)}b(a)}}}function c(c,d,e){product.miniDetailViewCompletelyInitialized=!1;var g=function(){e.close()};return $.ajax("/product/products/views/mini/",{timeout:2e3,data:{variationId:c.variationDetails.variationId}}).done(function(h){var i={shouldDisplayIcon:"S"!==product.breakpoint.getCurrentBreakPoint()};e.setContent(h,"mini"),e.setMenuContent(product.utils.renderMustacheTemplate("prd_miniDetailviewButtons",i)),$(".js_cancel").on("click",function(){e.close()}),$(".js_submit").on("click",function(a){var b=f.getModule("Basket");b&&b.submit($(a.currentTarget))}),a(c,b(c,d,g)),e.createTrackingContext(),product.miniDetailViewCompletelyInitialized=!0}).fail(function(a,b,c){AS.RUM.sendCustomRequest("product",{messageType:"ajaxError",url:this.url,timeout:this.timeout,errorType:b,httpStatus:a.status,httpMessage:c}),e.setContent("<div>Leider ist ein technischer Fehler aufgetreten</div>","mini")})}function d(a,b){var d=product.utils.createRwdLayer({layerClass:"p_layer miniDetailviewLayer",headerDisplayMode:"removedOnSmallScreens",createTrackingContext:!1,closeCallback:function(){return f&&f.remove(),product.miniDetailViewCompletelyInitialized&&d.closeTrackingContext(),!0}});c(a,b,d)}function e(a,b){if(!a)throw"No variantInformations given";a&&!a.variationDetails&&(a.variationDetails=$.extend(!0,{},a)),d(a,b)}var f,g;return{layer:{show:e}}}());var product=window.product||{};product.miniDetailviewLayer=product.miniDetailviewLayer||{},product.miniDetailviewLayer.show=function(a,b){product.miniDetailview.layer.show(a,b)};var product=window.product||{};product.api=product.api||{},product.api=function(){var a=function(a,b){return product.miniDetailview.layer.show(a,b)},b=function(a,b,c){return product.miniDetailview.directOrder.getDeferredMiniDetailview(a,b,c)};return{openMiniDetailViewLayer:a,createRenderDirectOrderDetailViewFunction:b}}();var product=window.product||{};product.InstallmentsCalculator=function(){function a(a,b){return product.utils.multiplyFloatsAvoidingRoundingErrors(a,b)}function b(b){return Math.round(a(b,100))/100}function c(a){q=a?product.InstallmentsCalculatorConfigProvider.getConfigB():product.InstallmentsCalculatorConfigProvider.getConfigA(),r=q[0]}function d(a){var b;for(b=0;b<=q.length;b++){var c=q[b];if(c.duration===a)return void(r=c)}throw"Paymentcondition doesnt exist for duration = "+a}function e(a){50>a?K=!1:a>=50&&249.99>=a?d(12):a>=250&&399.99>=a?d(24):a>=400&&499.89>=a?d(36):a>=499.9&&d(48)}function f(){var a=product.InstallmentsCalculatorConfigProvider.getConfigShipping(product.detailviewContainer.detailview.getSelectedVariation().shippingDetail.speditionCharge);L=a.shipmentPrice,M=a.shipment24hPrice}function g(){return"block"!==F[0].style.display?(F[0].style.display="block",F[1].style.display="block",G.innerHTML="Berechnung ausblenden","open"):(F[0].style.display="none",F[1].style.display="none",G.innerHTML="Berechnung einblenden","close")}function h(){t=o_util.dom.getElementsByClassname(document,"js_durationTerm")[0],u=o_util.dom.getElementsByClassname(document,"js_durationInMonths")[0],v=o_util.dom.getElementsByClassname(document,"js_productPrice")[0],w=o_util.dom.getElementsByClassname(document,"js_monthlySurchagePercent")[0],x=o_util.dom.getElementsByClassname(document,"js_surcharge")[0],y=o_util.dom.getElementsByClassname(document,"js_ShipmentPrice")[0],z=o_util.dom.getElementsByClassname(document,"js_Shipment24hPrice")[0],A=o_util.dom.getElementsByClassname(document,"totalPrice")[0],B=o_util.dom.getElementsByClassname(document,"js_RatesAmount")[0],C=o_util.dom.getElementsByClassname(document,"js_firstPaymentRate")[0],D=o_util.dom.getElementsByClassname(document,"js_furtherPaymentRate")[0],E=o_util.dom.getElementsByClassname(document,"js_annualPercentageRate")[0],F=o_util.dom.getElementsByClassname(document,"calculationWrapper"),G=o_util.dom.getElementsByClassname(document,"js_showCalculationToggle")[0]}function i(a){var b=new RegExp("[^\\d,]*","g"),c=a.val().replace(b,"");c!==a.val()&&a.val(c)}function j(a){var b=a.replace(/\./g,"");return b=b.replace(/,/g,"."),b=parseFloat(b)}function k(){return{Productprice:$(".js_valueOfGoods").attr("value"),paymentBreak:$(".js_paymentBreakCheckbox").prop("checked"),duration:r.duration}}function l(c,d){var e,f,g,h,i,k,l,m=c.Productprice,n=c.paymentBreak;return g=j(m),f=g*r.surcharge*r.duration/100,n&&!d?(e=g+g*H+f,h=r.annualRateWithPaymentBreak):(e=g+f,h=r.annualRateWithoutPaymentBreak),e+=L,e+=J*M,i=Math.floor(e/(r.duration/100)),i-=i%5,i/=100,i=b(i),k=i+(e-a(i,r.duration)),k=b(k),l=f/r.duration*100/g,{duration:r.duration,surchargeAsSum:f,monthlySurchargeInPercentage:l,productPrice:m,totalPrice:e,firstRate:k,furtherRate:i,annualPercentageRate:h,shipmentPrice:L,Shipment24hPrice:M}}function m(a){var c=b(a),d=c.toFixed(2);return"NaN"===d&&(d=" - "),d.replace(".",",")}function n(a){t.innerHTML=a.duration+" Monatsraten:",u.innerHTML=a.duration,v.innerHTML=a.productPrice+" €",w.innerHTML="Ratenaufschlag "+m(a.monthlySurchargeInPercentage)+"% pro Monat",x.innerHTML=m(a.surchargeAsSum)+" €",y.innerHTML=m(a.shipmentPrice)+" €",z.innerHTML=m(a.Shipment24hPrice)+" €",A.innerHTML=m(a.totalPrice)+" €",B.innerHTML="/"+a.duration+" Raten",C.innerHTML=m(a.firstRate)+" €",D.innerHTML=m(a.furtherRate)+" €",E.innerHTML="Effektiver Jahreszins "+m(a.annualPercentageRate)+" %"}function o(a,b,m){var o=a;I=!1,J=!1,c(m.isInstallmentsConfigB),p=j(o),s=product.detailviewContainer.detailview.getSelectedVariation().availableDeliveryServices.deliveryService24||product.detailviewContainer.detailview.getSelectedVariation().availableDeliveryServices.deliveryService24Spedition,f(),product.staticAssetsLoader.loadCSS("installmentsCalculator"),product.AsyncTemplates.render("installmentsCalculator",{currentPrice:o,shipmentPrice:L+" €"}).then(function(a){product.utils.createRwdLayer({modal:!0,width:"690px",content:a}),h(),s||(o_util.dom.getElementsByClassname(document,"checkboxContainer24h")[0].style.display="none"),o_util.dom.getElementsByClassname(document,"shipping24HourNotificationWrapper")[0].style.display="none",e(p),n(l(k(),m.isZahlpauseOhneAufpreis)),$('.js_installmentTilesOptionsWrapper input[value="'+r.duration+'"]').prop("checked",!0),$('.js_durationValueSelection option[value="'+r.duration+'"]').prop("selected","selected"),$(".js_valueOfGoods").on("keyup",function(){i($(this)),n(l(k(),m.isZahlpauseOhneAufpreis))}),$(".js_installmentTilesOptionsWrapper input").on("click",function(){var a=parseInt($(this).attr("value"),10);$('.js_durationValueSelection option[value="'+a+'"]').prop("selected","selected"),d(a),n(l(k(),m.isZahlpauseOhneAufpreis)),b.track({product_InstallmentCalculator:"changeRate",product_InstallmentCalculatorRate:r.duration,product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"})}),$(".js_durationValueSelection").on("change",function(){var a=parseInt($(this).attr("value"),10);$('.js_installmentTilesOptionsWrapper input[value="'+a+'"]').prop("checked",!0),d(a),n(l(k(),m.isZahlpauseOhneAufpreis)),b.track({product_InstallmentCalculator:"changeRate",product_InstallmentCalculatorRate:r.duration,product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"})}),$(".js_paymentBreakCheckbox").on("click",function(){I=!I,I?$(".js_priceSum").text("Summe (mit Zahlpause)"):$(".js_priceSum").text("Summe"),b.track({product_InstallmentCalculator:"changePaymentPoint",product_InstallmentCalculatorPP:$(".js_paymentBreakCheckbox").prop("checked"),product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"}),n(l(k(),m.isZahlpauseOhneAufpreis))}),$(".js_shipping24HourCheckbox").on("click",function(){s&&(J=!J,J?o_util.dom.getElementsByClassname(document,"shipping24HourNotificationWrapper")[0].style.display="block":o_util.dom.getElementsByClassname(document,"shipping24HourNotificationWrapper")[0].style.display="none",b.track({product_InstallmentCalculator:"changedeliveryoption",product_InstallmentCalculatorPP:J,product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"}),n(l(k(),m.isZahlpauseOhneAufpreis)))}),o_global.helper.addEvent(o_util.dom.getElementsByClassname(document,"js_showCalculationToggle")[0],"click",function(){var a=g();b.track({product_InstallmentCalculator:"moredetails",product_InstallmentCalculatorPP:a,product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"})}),b.track({product_InstallmentCalculator:"open",product_InstallmentCalculatorRate:r.duration,product_VariationId:product.detailviewContainer.detailview.getSelectedVariation().id},{eventType:"event"})})}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=.032,I=!1,J=!1,K=!0,L=0,M=0,N={openLayer:o,testFunction:{calculateTerms:l,convertFloatToString:m,getConfigAndSetPaymentConditions:c}};return N};var product=window.product||{};product.InstallmentsCalculatorConfigProvider=function(){var a={configA:[{duration:3,surcharge:.83,annualRateWithoutPaymentBreak:15.94,annualRateWithPaymentBreak:16.2},{duration:6,surcharge:.74,annualRateWithoutPaymentBreak:16.15,annualRateWithPaymentBreak:16.13},{duration:9,surcharge:.71,annualRateWithoutPaymentBreak:16.17,annualRateWithPaymentBreak:16.04},{duration:12,surcharge:.7,annualRateWithoutPaymentBreak:16.26,annualRateWithPaymentBreak:16.04},{duration:18,surcharge:.69,annualRateWithoutPaymentBreak:16.25,annualRateWithPaymentBreak:15.97},{duration:24,surcharge:.69,annualRateWithoutPaymentBreak:16.27,annualRateWithPaymentBreak:15.94},{duration:36,surcharge:.69,annualRateWithoutPaymentBreak:16.12,annualRateWithPaymentBreak:15.76},{duration:48,surcharge:.7,annualRateWithoutPaymentBreak:16.11,annualRateWithPaymentBreak:15.71}],configB:[{duration:3,surcharge:.85,annualRateWithoutPaymentBreak:16.35,annualRateWithPaymentBreak:16.38},{duration:6,surcharge:.75,annualRateWithoutPaymentBreak:16.38,annualRateWithPaymentBreak:16.26},{duration:9,surcharge:.71,annualRateWithoutPaymentBreak:16.17,annualRateWithPaymentBreak:16.04},{duration:12,surcharge:.7,annualRateWithoutPaymentBreak:16.26,annualRateWithPaymentBreak:16.04},{duration:18,surcharge:.69,annualRateWithoutPaymentBreak:16.25,annualRateWithPaymentBreak:15.97},{duration:24,surcharge:.69,annualRateWithoutPaymentBreak:16.27,annualRateWithPaymentBreak:15.94},{duration:36,surcharge:.7,annualRateWithoutPaymentBreak:16.35,annualRateWithPaymentBreak:15.96},{duration:48,surcharge:.71,annualRateWithoutPaymentBreak:16.33,annualRateWithPaymentBreak:15.91}],shipmentPrices:[{shipmentPrice:5.95,shipment24hPrice:9.95},{shipmentPrice:29.95,shipment24hPrice:19.95}]},b=function(){return a.configA},c=function(){return a.configB},d=function(b){return b?a.shipmentPrices[1]:a.shipmentPrices[0]};return{getConfigA:b,getConfigB:c,getConfigShipping:d}}();var o_san=window.o_san||{};o_san.mediaQuery=function(){var a=!document.querySelector("html.no-mq"),b={match:null,unmatch:null,both:null,onLoad:!0,useWithNomq:!1},c={small:window.matchMedia("(max-width: 28em)"),smallMin:window.matchMedia("(min-width: 28em)"),major:window.matchMedia("(max-width: 48em)"),majorMin:window.matchMedia("(min-width: 48em)"),large:window.matchMedia("(max-width: 62em)"),xLarge:window.matchMedia("(min-width: 62em)"),landscape:window.matchMedia("(orientation:landscape)"),portrait:window.matchMedia("(orientation:portrait)")},d={small:240,medium:448,major:768,large:992,xLarge:1152},e=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0},f=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},g=function(a){return window.matchMedia("(max-width: "+a+")")},h=function(a){return window.matchMedia("(min-width: "+a+")")},i=function(a,b){a.matches&&"function"==typeof b.match?b.match():"function"==typeof b.unmatch&&b.unmatch(),"function"==typeof b.both&&b.both()},j=function(c,d){if(d=o_san.util.objects.merge(b,d),a||d.useWithNomq){var e=function(a){i(a,d)};d.onLoad===!0&&i(c,d),c.addListener(e)}};return{pixel:d,breakpoint:c,getWindowWidth:e,getWindowHeight:f,matchMax:g,matchMin:h,register:j,isRwd:a}}();var o_san=window.o_san||{};o_san.toggles=function(a){var b=null,c=null,d=null,e=null,f=null,g=function(){var c=b||!!a.querySelector(".san_simple_variation_election");return b=c,c},h=function(){var b=d||!!a.querySelector(".san_trackingContext");return d=b,b},i=function(){var b=e||!!a.querySelector(".deferredFlyout");return e=b,b},j=function(){var b=f||!!a.querySelector(".san_masked");return f=b,b},k=function(){var b=c||!!a.querySelector(".san_contentSuggestToggle");return c=b,b};return{isSimpleVariationElection:g,isDisplayContentSuggestActive:k,isCreateTrackingContextActive:h,isDeferredFlyoutActive:i,isMaskedLinksInTilesActive:j}}(document);var san=window.san||{},o_san=window.o_san||{};o_san.AsynchTemplates=san.AsynchTemplates=function(){var a="/san/resources/templates/",b={},c=function(c){var d=$.get(a+c);return d.pipe(function(a){return a}),b[c]=d,d},d=function(c){var d=o_util.ajax.get(a+c);return b[c+"new"]=d,d},e=function(a){return b[a]||c(a)},f=function(a){return b[a+"new"]||d(a)},g=function(a,b){var c=e(a);return c.pipe(function(a){return Mustache.render(a,b)})},h=function(a,b,c,d){var e=$.Deferred(),f=g(a,b),h=$('<div class="'+a+c+'">');return d.append(h),$.when(f).then(function(a){h.html(a).children().first().unwrap(),e.resolve()}),e.promise()},i=function(){b={}};return{get:e,get2:f,render:g,renderInContainerInOrder:h,tearDown:i}}();var o_san=window.o_san||{};o_san.offcanvas=function(a,b,c){var d,e,f,g,h,i,j,k,l=320,m=60,n=40,o=JSON.stringify({san_Navigation:"global"}),p="",q="",r=!1,s=null,t=!1,u=!1,v=264,w={},x=function(){return a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame}(),y=function(){var a,c=b.createElement("eventelement"),d={WebkitTransition:{style:"webkitTransform",event:"webkitTransitionEnd"},transition:{style:"transform",event:"transitionend"},MozTransition:{style:"mozTransform",event:"transitionend"}};for(a in d)if(d.hasOwnProperty(a)&&void 0!==c.style[a])return p=d[a].event,q=d[a].style,void(r=!0)},z=function(a,b){setTimeout(function(){a()?(b(),u=!1):z(a,b)},350)},A=function(a){var b=a?"translateX("+a+"px)":"";i.style[q]=b},B=function(){e.removeClass(i,"san_offCanvasAnimation--end")},C=function(){e.addClass(i,"san_offCanvasAnimation--end")},D=function(a,b){null!==b&&"function"==typeof b&&z(function(){return i.style[q]===(a?"translateX("+a+"px)":"")},b),x(function(){A(a)})},E=function(){r&&(C(),A(-264))},F=function(){B(),A("")},G=function(a){var b,c=location.pathname,d=a||1,e="/",f=c.split("/");if(f.length>1){for(b=1;d>=b;b++)e+=f[b]+(""!==f[b]?"/":"");return e}return""},H=function(a,b,c,d){var e=$.ajax({url:a,data:d||{},contentType:"application/vnd.otto.menuitems+json",cache:!0});$.when(e,o_san.sanTplPublic[b]).done(c)},I=function(){var a=f.getWindowHeight(),b=parseInt(h.style.height,10);a>0&&b!==a&&setTimeout(function(){var a=f.getWindowHeight()+"px";h&&j&&(h.style.height=a,j.style.height=a)},250)},J=function(a){H("/san/menuitems/views/flyout2","offcanvas",function(b,c){var d,e,f,h,i=G(),j=G(2),k=b[0];for(d=0;d<k.tabs.length;d++)if(k.tabs[d].jsIndex=d,k.tabs[d].trackingKey=o,k.tabs[d].link.href===i)for(k.tabs[d].link.isSelected=!0,e=0;e<k.tabs[d].columns.length;e++)for(f=0;f<k.tabs[d].columns[e].blocks.length;f++)k.tabs[d].columns[e].blocks[f].link.href===j&&(k.tabs[d].columns[e].blocks[f].link.isSelected=!0);k.activeItem=i,h={menuEntryPoints:k},w=k,g.innerHTML+=c.render(h),a()})},K=function(a,c,f){var g=b.createElement("div");g.setAttribute("class","lazySpinner"),c.innerHTML="",c.appendChild(g),H("/san/menuitems/views/flyout2/partial","offcanvas_sub",function(a,b){var g,h,i,j=G(3),k=a[0];if(k.activeItem=j,h={menuSubItems:k,trackingKey:o},k.children)for(g=0;g<k.children.length;g++)k.children[g].link.isSelected=k.children[g].link.href===j;k.link.isSelected=k.link.href===j,c.innerHTML=b.render(h),i=e.getHeight(c.childNodes[1]),
i=i>0?i+10:(k.children.length+1)*n,c.style.height=i+"px",d.add(p,c,function l(a){d.remove(p,c,l),a.stopPropagation(),"function"==typeof f&&f()})},{path:a})},L=function(a){k.scrollTop=0,a.nextElementSibling.setAttribute("style",""),e.removeClass(a.parentNode,"open"),s=null},M=function(a){if(null!==s){if(s===a)return void L(s);L(s)}s=a,K(s.getAttribute("data-href"),s.nextElementSibling,function(){if(s){var a=s.offsetTop-n/2;a>0&&o_san.util.animate({element:k,to:k.scrollTop<a?a-k.scrollTop:a,type:"scrollTop"})}}),e.addClass(s.parentNode,"open")},N=function(a){e.hasClass(a.target,"san_cItem")&&(a.stopPropagation(),M(a.target))},O=function(a){j.innerHTML=o_san.sanTplPublic.offcanvas_column.render(w.tabs[a]),k=b.getElementById("off-canvas-column"),d.add("click",k,N)},P=function(){e.hasClass(g,"oc-sub")&&(d.remove("click",b.getElementById("off-canvas-column"),N),h.scrollTop=0,e.removeClass(g,"oc-sub"))},Q=function(a){var c=a||h.querySelector("li.selected .san_pItem");c&&(O(c.getAttribute("data-index")),e.addClass(g,"oc-sub"),d.add("click",b.getElementById("off-canvas-breadcrumb"),P),d.add("click",b.getElementById("off-canvas-column"),N))},R=function(){h=b.getElementById("off-canvas-menu"),j=b.getElementById("off-canvas-submenu"),d.add("click",h,function(a){e.hasClass(a.target,"san_pItem")&&(a.stopPropagation(),Q(a.target))}),Q(),I()},S=function(a){g.style.width=a+"px",g.style.left="-"+a+"px"},T=function(){var a;navigator.userAgent.indexOf("GT-I9505")>-1&&(a=window.getComputedStyle(g).getPropertyValue("z-index"),g.style.zIndex=a-1,setTimeout(function(){g.style.zIndex=a},5))},U=function(){e.removeClass(c,"san_offcanvas-active"),e.removeClass(g,"san_oc-open"),e.removeClass(i,"san_offCanvas--animate"),null!==s&&L(s),P(),t=!1,Q(),F()},V=function(){var a=j.querySelector(".san_cItem.selected");a&&M(a),t=!0,e.addClass(g,"san_oc-open"),T()},W=function(){u||(e.addClass(c,"san_offcanvas-active"),r?(e.addClass(i,"san_offCanvas--animate"),D("",V),u=!0):(C(),V()))},X=function(){t&&!u&&(r?(D(-1*v,U),u=!0):(B(),U()))},Y=function(){var a,c;i=b.querySelector(".gridContainer.wrapper"),g||(g=b.createElement("aside"),g.setAttribute("class","off-canvas-left"),i.insertBefore(g,i.querySelector(".gridContainer header")),J(R),a=b.createElement("div"),a.setAttribute("id","off-canvas-close-layer"),d.add("click",a,function(){X()}),i.appendChild(a)),c=f.getWindowWidth(),l>c&&(v=c-m,S(v))},Z=function(){return t},_=function(){d=o_san.util.events,e=o_san.util.dom,f=o_san.mediaQuery,y(),f.register(f.breakpoint.major,{match:Y,unmatch:function(){g&&(X(),o_san.mainNav.init())}}),f.register(f.breakpoint.landscape,{match:function(){var a=f.getWindowWidth();l>a&&(v=a-m,S(v))}}),d.add("resize",a,function(){t&&I()})};return{init:_,displayOffCanvas:W,hideOffCanvas:X,isMenuOpen:Z,prepareTransition:E}}(window,document,document.body),o_global.eventLoader.onReady(1,function(){if(o_san.mediaQuery.isRwd){var a=document.getElementById("mobilMenuWrp");if(!a||0===o_san.util.dom.getHeight(a))return;o_san.offcanvas.init()}});var o_san=window.o_san||{};o_san.burgerMenu=function(){var a,b,c=function(b){b.preventDefault(),a.isMenuOpen()?a.hideOffCanvas():(document.activeElement.blur(),a.displayOffCanvas(),o_san.tracking.sendEventToTracking({san_NavigationFoldout:"global"}))},d=function(){b=document.getElementById("burgerMenu"),a=o_san.offcanvas,b&&(o_global&&o_global.device.isTouchable?(o_san.util.events.add("touchstart",b,a.prepareTransition),o_san.util.events.add("touchend",b,c)):(o_san.util.events.add("mousedown",b,a.prepareTransition),o_san.util.events.add("mouseup",b,c)))};return{init:d}}(),o_global.eventLoader.onReady(2,function(){o_san.mediaQuery.isRwd&&o_san.burgerMenu.init()});var o_san=window.o_san||{};o_san.mouseSpeedTracker=function(){var a,b=Number.MAX_VALUE,c=[],d=$(document),e={SPEED_LIMIT:240,IDLE:75,FALLBACK:300,MOUSELEAVE_DELAY:200,LIVE_SELECTOR:null,NAMESPACE:"mouseSpeedTracker",CHECK_FROM_ELEMENT:!1},f=function(a){b=a},g=function(){b=0},h=function(b){var d,e,h=c[0],i=150,j=0,k=0,l=0,m=0,n=0;for(clearTimeout(a),a=setTimeout(g,200),c.unshift({date:new Date,x:b.screenX,y:b.screenY}),c.length>50&&(c.length=50),n;n<c.length&&(d=c[n],e=c[n+1],e)&&!(h.date-e.date>i);n++)k+=Math.max(Math.abs(d.x-e.x),Math.abs(d.y-e.y)),l=h.date-e.date,m++;m>0&&(j=Math.round(k*(1e3/l))),f(j)},i=function(){d.on("mousemove",h)},j=function(a,b){var c=$(a),d={};b&&$.extend(d,e,b),c.off("mouseenter."+d.NAMESPACE),c.off("mouseleave."+d.NAMESPACE)},k=function(a,d,f,g){var h,i,j,k,l=$(a),m={};g&&$.extend(m,e,g),l.on("mouseenter."+m.NAMESPACE,m.LIVE_SELECTOR,function(a){var e=this,f=$(e),g=function(a,b){j&&(j(),j=void 0),b.data("mouseentered-"+m.NAMESPACE,!0),d.apply(a,[b])};if(clearTimeout(i),!f.data("mouseentered-"+m.NAMESPACE)&&(!m.CHECK_FROM_ELEMENT||a.fromElement||a.relatedTarget)){if(b<=m.SPEED_LIMIT)return void g(e,f);clearInterval(k),k=setInterval(function(){if(!c[0])return void clearInterval(k);var a=new Date-c[0].date;a>=m.IDLE&&(g(e,f),clearInterval(k),clearTimeout(h))},m.IDLE),clearTimeout(h),h=setTimeout(function(){g(e,f),clearInterval(k)},m.FALLBACK)}}),l.on("mouseleave."+m.NAMESPACE,m.LIVE_SELECTOR,function(){var a=this,b=$(a);b.data("mouseentered-"+m.NAMESPACE)?(j=function(){b.data("mouseentered-"+m.NAMESPACE,!1),f.apply(a,[l])},i=setTimeout(j,m.MOUSELEAVE_DELAY)):(clearInterval(k),clearTimeout(h),j&&(i=setTimeout(j,m.MOUSELEAVE_DELAY)))})};return o_global.eventLoader.onReady(10,function(){var a=!1;o_san.mediaQuery.register(o_san.mediaQuery.breakpoint.majorMin,{match:function(){a||(a=!0,i())}})}),{observeItem:k,unobserveItem:j}}();var san=window.san||{},o_san=window.o_san||{},o_tracking=window.o_tracking||{};o_san.tracking=san.tracking=function(){var a=".js_tracking",b=!1,c=!1,d=function(){return!!document.getElementById("san-log-tracking")},e=function(a){var b,c,e,f;if(d()&&(b=new o_global.Storage(function(){return window.localStorage}),b.isAvailable))if(c=b.getItem("san-tv")){e=JSON.parse(c);for(f in a)a.hasOwnProperty(f)&&(e[f]=a[f]);b.setItem("san-tv",JSON.stringify(e))}else b.setItem("san-tv",JSON.stringify(a))},f=function(a,b,c){var f=o_global.debug.status().activated;try{b(a),f&&d()&&console.log(c+" submitting "+JSON.stringify(a)),e(a)}catch(g){o_global.debug.status().activated&&console.log(g)}},g=function(a){o_tracking.bct&&"function"==typeof o_tracking.bct.trackOnNextPageImpression&&f(a,o_tracking.bct.trackOnNextPageImpression,"Track on next PI")},h=function(a){o_tracking.bct&&"function"==typeof o_tracking.bct.sendMergeToTrackingServer&&f(a,o_tracking.bct.sendMergeToTrackingServer,"Track merge on current PI")},i=function(a){o_tracking.bct&&"function"==typeof o_tracking.bct.sendEventToTrackingServer&&f(a,o_tracking.bct.sendEventToTrackingServer,"Track event")},j=function(a,b){var c;return""!==b&&(c=o_san.util.dom.findMatch(a,function(a){return!!a.getAttribute(b)},document.querySelector(".gridAndInfoContainer"))),c?c.getAttribute(b):""},k=function(){var a,b=new o_global.Storage(function(){return window.sessionStorage});b.isAvailable&&(a=b.getItem("san_searchTracking"),a&&(b.removeItem("san_searchTracking"),i(JSON.parse(a))))},l=function(a,b){o_tracking.bct.createContext(a,b)},m=function(){o_tracking.bct.closeContext()},n=function(){if(!c){var d=$(window);b=$(a).data("track"),b&&(d.on("moreOfSeriesLink.click",function(){i({san_RecoListClicked:"Mehr aus der Serie"})}),d.on("supplier-dialog.open",function(a,b){i({product_ServiceKlick:"versand_und_verkauf_supplier",product_SupplierId:b})})),k(),c=!0}};return{init:n,sendEventToTracking:i,sendTrackingDataForNextPI:g,saveTrackingAction:e,getTrackingDataFromParent:j,mergeTrackingDataOnCurrentPI:h,createTrackingContext:l,closeTrackingContext:m}}(),o_global.eventLoader.onReady(1,function(){o_san.tracking.init()});var o_san=window.o_san||{};o_san.searchSuggest=function(){var a,b,c,d,e,f,g="suggestLayer",h=".san_suggestLayer",i=".san_suggestLayer__arrow",j=".san_suggestLayer__contentText",k=".san_suggestLayer__text",l=".js_searchForm",m=".js_searchField",n="san_track_modified",o="san_track_suggest",p="js_searchTerm",q="data-suggestpos",r="data-term",s="data-target",t="data-suggestserveruri",u="data-suggestscope",v=38,w=40,x={},y=function(){return o_san.toggles.isDisplayContentSuggestActive()},z=function(){clearTimeout(f)},A=function(a,b){return-1!==b.toLowerCase().indexOf(a.toLowerCase())},B=function(a){var c=o_san.util.string.trim(b.value);A(c,a)||o_san.tracking.sendTrackingDataForNextPI({san_SuggestSpellCheck:c})},C=function(){o_san.util.events.remove("click",document.body,C),c.style.display="none",c.innerHTML="",x={},e=void 0},D=function(){b.value="",C(),a=null,b=null,c=null,d=null,e="",x={},z(),f=null},E=function(){f=setTimeout(function(){C()},500)},F=function(){o_san.util.events.add("click",document.body,C),c.style.display="block"},G=function(a,b,c){var d,e,f,g,h={suggestions:[]};for(d=0,e=a.length;e>d;d++)a[d].searchterm!==c&&(f=h.suggestions.length,g='<span class="match">'+b.toLowerCase()+"</span>",a[d].formattedSearchTerm=a[d].searchterm.replace(new RegExp(b,"i"),g),a[d].suggestPos=f+1,h.suggestions[f]=a[d]);return h},H=function(a,b,c,d){var e,f,g,h=new RegExp(b,"i"),i='<span class="match">$&</span>',j=0,k=[];for(e=0,f=a.length-d;f>e;e++)g=a[e],g.searchterm!==c&&(g.formattedSearchTerm=g.searchterm.replace(h,i),g.suggestPos=++j,k.push(g));return k},I=function(a,b,c){var d,e,f,g=new RegExp(b,"i"),h='<span class="match">$&</span>',i=[];for(d=0,e=c;e>d;d++)f=a[d],f.searchterm=b,f.formattedDisplay=f.display_name.replace(g,h),f.suggestPos=d+1,i.push(f);return i},J=function(a){o_san.tracking&&o_san.tracking.sendTrackingDataForNextPI(a)},K=function(b){o_san.util.dom.addClass(a,b)},L=function(b){o_san.util.dom.removeClass(a,b)},M=function(a){window.location=a},N=function(){var c=o_san.util.string.escapeSpecials(b.value),d=a.getAttribute("action")+"/"+encodeURIComponent(c)+"/";M(d)},O=function(b,c){a.setAttribute(q,b),c?a.setAttribute(s,c):a.removeAttribute(s)},P=function(a){""!==a&&(B(a),b.value=a)},Q=function(a){var b=this.querySelector?this:a.srcElement.offsetParent;o_util.event.stop(a),J({"wk.san_SearchType":"suggest","wk.san_SearchTerm":b.getAttribute(r),san_SuggestPos:b.getAttribute(q),san_SuggestContentRedirect:!0}),M(b.getAttribute(s))},R=function(a){var b=this.querySelector?this:a.srcElement.offsetParent,c=b.querySelector("."+p);z(),o_util.event.stop(a),O(c.getAttribute(q)),P(c.getAttribute(r)),J(y()?{"wk.san_SearchType":"suggest",san_SuggestPos:c.getAttribute(q),san_SuggestContentRedirect:!1}:{"wk.san_SearchType":"suggest",san_SuggestPos:c.getAttribute(q)}),L(n),N()},S=function(a){var c=this.parentNode?this.parentNode:a.srcElement.offsetParent,d=c.querySelector("."+p),e=d.getAttribute(r),f=d.getAttribute(q);z(),o_util.event.stop(a),O(f),P(d.getAttribute(r)+" "),o_san.tracking.sendEventToTracking({san_SuggestAdoptTerm:e,san_SuggestAdoptPosition:f}),L(o),K(n),b.focus()},T=function(a){var b=a.target?a.target.parentNode:a.srcElement.offsetParent;o_san.util.dom.addClass(b,"san_suggestLayer__text--hover")},U=function(a){var b=a.target?a.target.parentNode:a.srcElement.offsetParent;o_san.util.dom.removeClass(b,"san_suggestLayer__text--hover")},V=function(a){var b=a.target?a.target.parentNode:a.srcElement.offsetParent;o_san.util.dom.addClass(b,"san_suggestLayer__arrow--hover")},W=function(a){var b=a.target?a.target.parentNode:a.srcElement.offsetParent;o_san.util.dom.removeClass(b,"san_suggestLayer__arrow--hover")},X=function(){var a=document.querySelectorAll(k),b=document.querySelectorAll(i);o_san.util.events.add("click",a,R),o_san.util.events.add("click",b,S),o_san.util.events.add("mouseenter, touchstart",a,T),o_san.util.events.add("mouseenter, touchstart",b,V),o_san.util.events.add("mouseleave, touchmove",a,U),o_san.util.events.add("mouseleave, touchmove",b,W)},Y=function(){var a=c.querySelectorAll(k);o_san.util.events.add("mouseenter, touchstart",a,T),o_san.util.events.add("mouseleave, touchmove",a,U)},Z=function(a,b){var f,g=a.suggestionGroups[0];g.suggestions&&g.suggestions.length>0?(f=G(g.suggestions,b,e),f.suggestions.length>0&&(c.innerHTML=Mustache.render(d,f),F(),X())):C()},_=function(a){var b=a.suggestions||[],c=a.contentSuggestions||[],d=a.searchTerm,f=Math.min(2,c.length);return{template:a.template,suggestions:H(b,d,e,f),contentSuggestions:I(c,d,f)}},aa=function(a){return a.suggestions.length||a.contentSuggestions.length?void(c.innerHTML=Mustache.render(a.template,a)):Promise.reject(new Error("No suggestions to show"))},ba=function(a){var b=$.ajax({url:c.getAttribute(t),crossDomain:!0,dataType:"jsonp",data:{scope:c.getAttribute(u),search:a}});$.when(b,o_san.AsynchTemplates.get(g)).done(function(b,c){var e=b[0];x[a]=e,d=c[0],Z(e,a)}).fail(C)},ca=function(a,b){var c,d;for(c=0,d=a.length;d>c;++c)if(a[c].indexName===b)return a[c].suggestions;return[]},da=function(a){return new Promise(function(b,d){$.ajax({url:c.getAttribute(t),crossDomain:!0,dataType:"jsonp",data:{scope:c.getAttribute(u),search:a}}).done(b).fail(d)})},ea=function(a){var b=x[a]?Promise.resolve(x[a]):da(a).then(function(b){return x[a]=b,b}),c=o_san.AsynchTemplates.get2(g);return Promise.all([b,c]).then(function(b){var c=b[0].suggestionGroups;return{suggestions:ca(c,"1keywords"),contentSuggestions:ca(c,"2redirects"),template:b[1].response||b[1].responseText,searchTerm:a}})},fa=function(a){y()?(O(-1),ea(a).then(_).then(aa).then(F).then(Y).then(void 0,C)):x[a]?Z(x[a],a):ba(a)},ga=function(a){var b=a.querySelector("."+p),c=b.getAttribute(s),d=b?b.getAttribute(r):a.getAttribute(r),e=!!c;b&&O(b.getAttribute(q),e?c:null),P(d),K(o)},ha=function(a,b){a&&o_san.util.dom.removeClass(a,"san_suggestLayer__entry--selected"),b&&(o_san.util.dom.addClass(b,"san_suggestLayer__entry--selected"),ga(b))},ia=function(a,b){switch(a){case w:return o_san.util.dom.nextElementSibling(b);case v:return o_san.util.dom.previousElementSibling(b);default:return null}},ja=function(a){var b=c.querySelectorAll("li.san_suggestLayer__entry");switch(a){case w:return b[0];case v:return b[b.length-1];default:return null}},ka=function(a){var b,d,e=c.querySelector(".san_suggestLayer__text--hover");switch(e&&o_san.util.dom.removeClass(e,"san_suggestLayer__text--hover"),a){case w:e=e?o_san.util.dom.nextElementSibling(e):c.querySelector("li");break;case v:e?e=o_san.util.dom.previousElementSibling(e):(b=c.querySelectorAll("li"),e=b[b.length-1])}e&&(d=e.querySelector(".js_searchTerm"),d&&O(d.getAttribute(q)),P(e.querySelector("."+p).getAttribute(r)),K(o),o_san.util.dom.addClass(e,"san_suggestLayer__text--hover"))},la=function(a){var d,f,g=a.which?a.which:a.keyCode;g===v||g===w?(o_util.event.preventDefault(a),y()?(f=c.querySelector(".san_suggestLayer__entry--selected"),ha(f,f?ia(g,f):ja(g))):ka(g)):""!==b.value?(d=b.value,e!==d&&fa(d),e=d,L(o)):C()},ma=function(a){var b=o_util.event.getTarget(a);""!==b.value&&""!==c.innerHTML&&fa(o_san.util.string.trim(b.value)),z()},na=function(){var d=document.querySelector("#searchAndIconWrp");a||(a=d.querySelector(l),b=d.querySelector(m),c=d.querySelector(h),y()?(o_util.event.delegate(h,"click",k,R),o_util.event.delegate(h,"click",j,Q),o_util.event.delegate(h,"click",i,S),o_util.event.add(b,"keyup",la),o_util.event.add(b,"focus",ma)):(o_san.util.events.add("keyup",b,la),o_san.util.events.add("focus",b,function(a){var b=a.target?a.target:a.srcElement;""!==b.value&&""!==c.innerHTML&&fa(o_san.util.string.trim(b.value)),z()})))};return{init:na,reset:D,notifyOfSearchFieldBlurEvent:E}}();var o_san=window.o_san||{};o_san.searchFieldToggleButton=function(){var a,b,c="sanHeadWrp",d="searchGlassWrp",e="searchVisible",f=!1,g=function(){b.getAttribute("class")?b.setAttribute("class",""):(b.setAttribute("class",e),o_san.tracking.sendEventToTracking({san_Header:"search"}),o_san.searchHandler.focusHeaderSearchField())},h=function(){a=$("#"+d),!f&&a.length>0&&(b=document.getElementById(c),o_san.mediaQuery.register(o_san.mediaQuery.breakpoint.major,{match:function(){a.on("click",g)}})),f=!0};return{init:h}}(),o_global.eventLoader.onReady(1,function(){o_san.mediaQuery.isRwd&&o_san.searchFieldToggleButton.init()});var o_san=window.o_san||{};o_san.mainNav=function(){var a,b,c,d,e=!1,f=function(){return o_san.toggles.isDeferredFlyoutActive()},g=function(a){var e=a[0],f=e.querySelector(".navItem"),g=e.querySelector(".overState"),h=e.querySelector(".flyOut"),i=e.getAttribute("data-flyout");i&&(e.removeAttribute("data-flyout"),h.innerHTML=Mustache.render(b,d[i])),f.classList.add("hover"),h.style.top=c+"px",h.style.display="block",g.style.height=c-e.offsetTop+3.5+"px",g.style.display="block"},h=function(a){var b=a.find(".navItem"),d=a.find(".overState"),e=a.find("div.flyOut:hidden"),f=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;b.addClass("hover"),f&&e.css({right:"-8px"}),e.css({top:c}),e.show(),d.height(c-a.position().top),d.css({display:"block"})},i=function(a){if(o_global&&o_global.debug.status().activated){var b=$("."+a);b.length>0&&h(b)}},j=function(a){var b=$("body");a.find(".navItem").removeClass("hover"),a.find(".overState:visible").hide(),a.find("div.flyOut:visible").hide(),b.off("click.mainNav"),b.removeClass("no-tap-highlight-clickable")},k=function(a){function b(a){a.preventDefault(),j(c),e.hide(),c=void 0}var c,d=$(a),e=$('<div class="protection-overlay">'),i=$("body"),k=document.getElementById("navigationWrp");i.prepend(e),d.on("click",function(a){a.stopPropagation()}),d.on("click",".close",function(a){b(a)}),d.on("click",".navItem",function(a){var d=$(this),l=d.parent("li"),m=$(document);a.preventDefault(),window.scrollTo(0,k.offsetTop),c&&(c.is(l)?window.location=d.attr("href"):j(c)),c=l,f()?g(l):h(l),e.show(),e.height(m.height()),e.width(m.width()),i.on("click.mainNav",function(a){b(a)}),i.addClass("no-tap-highlight-clickable")})},l=function(a){var b,c,d=$(a).children(),e=$(d[0]).position().left;for(b=0;b<=d.length-1;b++)c=$(d[b]),c.position().left<=e?$(d[b]).find(".flyOutWrapper").addClass("leftMenuItem"):d.parent().width()<=c.position().left+c.width()&&c.find(".flyOutWrapper").addClass("rightMenuItem")},m=function(b){o_global&&o_global.device.isTouchable?k(a):($(".overState").on("click mouseup",function(a){a.preventDefault();var b=$(this).parent().attr("href");"mouseup"===a.type&&b&&(1===a.which?window.location=b:2===a.which&&window.open(b,"_blank"))}),o_san.mouseSpeedTracker.observeItem(a,b,j,{LIVE_SELECTOR:"> li.san_navItem",SPEED_LIMIT:0,IDLE:150,FALLBACK:500,CHECK_FROM_ELEMENT:!0})),l(a)},n=function(){var a,b,c=document.referrer;return c&&0===location.pathname.indexOf("/p/")&&(a=document.createElement("a"),a.href=c,b=a.pathname.split("/"),b.length>1)?b[1]:void 0},o=function(a,b,c){var d,e,f=c.data("active-item"),g=a[0];if(f||(f=n()),f="/"+f+"/",g.tabs)for(d=0;d<g.tabs.length;d++)g.tabs[d].isSelected=g.tabs[d].link.href===f;g.activeItem=f,e={menuFlyout:g,large:!0,linkMask:!1,trackingKey:JSON.stringify(c.data("trackingkey"))},$("header nav").replaceWith(Mustache.render(b[0],e)),m(h)},p=function(){return new Promise(function(a,b){o_util.ajax({url:"/san/menuitems/views/flyout2",method:"GET"}).then(a)})},q=function(){return o_san.AsynchTemplates.get2("flyout")},r=function(a){var c=a[0].response||a[0].responseText;return b=a[1].response||a[1].responseText,d=JSON.parse(c).tabs,g},s=function(){return Promise.all([p(),q()])},t=function(){var b=n(),c=a.querySelector('a[href="/'+b+'/"]');c&&(c.parentNode||c.offsetParent).classList.add("selected")},u=function(){if(!e){var a,b=$("#flyout-data"),c="flyout2";b.length>0?f()?(s().then(r).then(m),b.data("active-item")||t()):(a=$.ajax({url:b.data("url"),cache:!0}),$.when(a,o_san.AsynchTemplates.get(c)).done(function(a,c){o(a,c,b)})):m(h),e=!0}},v=function(){c=$(a).outerHeight(!0)||0},w=function(){var b=document.getElementById("navigationWrp");b&&(a=f()?b.querySelector(".firstRow"):".firstRow",o_san.mediaQuery.register(o_san.mediaQuery.breakpoint.large,{both:function(){v(),u()},useWithNomq:!0}))},x=function(){e=!1};return{init:w,reset:x,qsOpenLayer:i}}(),o_global.eventLoader.onLoad(40,function(){o_san.mediaQuery.isRwd?o_san.mediaQuery.getWindowWidth()>=o_san.mediaQuery.pixel.major&&o_san.mainNav.init():o_san.mainNav.init()}),function(a){a.fn.unveil=function(b){function c(a){a.trigger("unveil"),i=i.not(a)}function d(){var b=j.scrollTop(),d=i.filter(function(){var c,d,e,f=a(this);return f.is(":hidden")?!1:(c=b+k,d=f.offset().top,e=d+f.height(),e>=b-m&&c+m>=d)});c(d)}function e(){l&&(l=!1,d())}function f(){k=j.height(),d()}function g(){l=!0}function h(){i.one("unveil",function(){"function"==typeof n&&n.call(this,0,o)}),j.on({resize:f,scroll:g}),setInterval(e,100),d()}var i=this,j=a(window),k=j.height(),l=!1,m=b.threshold||0,n=b.appear,o={effect:b.effect||"fadeIn",effect_speed:b.effect_speed||"fast"};return h(),this}}(window.jQuery);var o_shoppages=o_shoppages||{};o_shoppages.o_tracking=function(){function a(a){return window.o_tracking&&window.o_tracking.bct?window.o_tracking.bct.trackOnNextPageImpression(a):!0}function b(a){window.$OTTO&&window.$OTTO.TS&&window.$OTTO.TS.sendEventToTrackingServer(a)}return{trackOnNextPageImpression:a,sendEventToTrackingServer:b}}();var o_shoppages=o_shoppages||{};o_shoppages.countryLayer=function(){function a(a){var b=$.cookie("countryLayer");if("undefined"==typeof b||"1"!==b){$.cookie("countryLayer","1",{path:"/"});var c=new o_global.pali.layerBuilder({modal:!0,url:a,heightLXL:"510px"});c.open()}}function b(b){o_global.eventLoader.onLoad(110,function(){a(b)})}function c(){return document.referrer}function d(){return document.location.href}function e(a){return"undefined"==typeof a?"?":"&"}function f(a){var b=$("#"+a);if("undefined"!=typeof b){var c="",d=o_shoppages.countryLayer.getDocumentReferrer();d&&""!==d&&(c="&ovdredchannel="+d);var f=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=o_shoppages.countryLayer.getDocumentHref().split(f),h=b.prop("href").split(f),i=b.prop("href")+e(h[6])+"ovdredurl="+g[5].replace(/\/$/,"")+c;b.prop("href",i)}}return{getDocumentReferrer:c,getDocumentHref:d,resolveCountryLayer:a,displayCountryLayer:b,assignShopPathToATLink:f}}();var o_shoppages=o_shoppages||{};o_shoppages.catalog=function(){function a(){var a=$("body").find(".sp_js_fsiCatalog");if(a&&a.length>0){var b=!1,c=function(){b||this&&this.readyState&&!/loaded|complete/.test(this.readyState)||(b=!0,a.each(o_shoppages.catalog.fsiViewerSetup))};o_shoppages.catalog.prepareExternalFsiViewerJs(c)}}function b(){o_global.eventLoader.onLoad(40,function(){a()})}function c(a){var b=document.createElement("script");b.type="text/javascript",b.onload=b.onreadystatechange=a,b.src="/static/shoppages/js/latest/catalog/private_catalog_min.js",document.getElementsByTagName("head")[0].appendChild(b)}function d(a,b){var c=$(b);if(b){var d=b.attributes["data-catalog-key"];if(d){var e='<script type="text/javascript">\n<!--\n';e+='writeFlashCode("https://zoomcache-cdn-eu03.fsi-viewer.com/fsicache/h1fsi2users/otto/viewer/fsi.swf?cfg=catalog_',e+=d.value,e+='","https://zoomcache-cdn-eu03.fsi-viewer.com/fsicache/h1fsi2?type=image&source=otto%2F',e+=d.value,e+='%2Fpage0001.tif&width=440&height=589&tmp=Large&width=800&height=620","width=800;height=620;mobilesupport=true;mobileforcepages=true;");',e+="\n//-->\n</script>",e+='<noscript><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="800" height="620">',e+='<param name="movie" value="https://zoomcache-cdn-eu03.fsi-viewer.com/fsicache/h1fsi2users/otto/viewer/fsi.swf?cfg=catalog_',e+=d.value,e+='"/><embed src="https://zoomcache-cdn-eu03.fsi-viewer.com/fsicache/h1fsi2users/otto/viewer/fsi.swf?cfg=catalog_',e+=d.value,e+='" width="800" height="620" type="application/x-shockwave-flash" pluginspage="https://www.macromedia.com/go/getflashplayer"></embed>',e+="</object></noscript>",c.html(e)}}}return{initCatalogs:b,loadCatalogs:a,fsiViewerSetup:d,prepareExternalFsiViewerJs:c}}(),o_global.eventLoader.onReady(100,function(){o_shoppages.catalog.initCatalogs()});var o_shoppages=o_shoppages||{};o_shoppages.layer=function(){function a(){o_shoppages.accordion.init(),o_shoppages.cliplister.initVideos($(".p_layer")),o_shoppages.expander.showButtonDependingOnContentHeight()}return{init:a}}();var o_shoppages=o_shoppages||{};o_shoppages.footerAccordion=function(){function a(){$(document).on("click",".js_footerAccordionHeader",function(a){$(this).parents(".sp_footerAccordion").toggleClass("sp_open")})}return{init:a}}(),o_global.eventLoader.onLoad(100,function(){o_shoppages.footerAccordion.init()});var o_shoppages=o_shoppages||{};o_shoppages.footerToggle=function(a){function b(a){return!(null===a||void 0===a||"undefined"==typeof a)}function c(a,b){-1===a.indexOf("?")?window.location.search="?"+b:window.location.search=a+"&"+b}function d(a){var b=window.location.search;return b=b.replace("&"+a,""),b=b.replace("?"+a,"")}function e(){var a=2,b=new Date;return b.setTime((new Date).getTime()+60*a*60*1e3),b}function f(b,c){a.trackOnNextPageImpression({ot_LayoutSwitch:b+c})}function g(b){a.trackOnNextPageImpression({ot_Survey:"Zur_klassischen_Webshopansicht",ot_SurveyValue:b})}function h(){var a=$("#sp_footerToggleSurveyForm").find(":checked").data("trackingvalue");g(a?a:"empty")}function i(){g("close")}function j(){if(!b($.cookie(n))){var a=new o_global.pali.layerBuilder({url:"/shoppages/survey_layer",width:"475px",heightS:"28em",height:"320px",closeCallback:o_shoppages.footerToggle.trackClose});a.open()}}function k(){$.cookie(n,"1",{expires:o_shoppages.footerToggle.getExpirationDate(),path:"/"}),h(),f("toClassicFrom",o_global.breakpoint.getCurrentBreakpoint().toUpperCase()),o_shoppages.footerToggle.reloadWindow(d(o),p)}function l(){b($.cookie(n))&&($.removeCookie(n,{path:"/"}),f("toMobileFrom","FixedXL"),o_shoppages.footerToggle.reloadWindow(d(p),o))}function m(){$(document).on("click",".js_toClassicView",j),$(document).on("click",".js_toMobileView",l),$(document).on("click",".js_switchToClassic",k)}var n="show-fixed-xl",o="showMobile=1",p="showClassic=1";return{toClassicView:j,toMobileView:l,trackClose:i,reloadWindow:c,switchToClassic:k,getExpirationDate:e,init:m}}(o_shoppages.o_tracking),o_global.eventLoader.onLoad(100,function(){o_shoppages.footerToggle.init()});var o_shoppages=o_shoppages||{};o_shoppages.footerUserLogin=function(){function a(a){for(var b=document.getElementsByClassName("sp_loginFooterLink"),c=0;c<b.length;c++)b[c].href=a.link;if("unknownVisitor"===a.loginState)document.getElementsByClassName("sp_loginAreaIcon")[0].innerText="Θ",document.getElementsByClassName("sp_loginAreaMyNameOrLogin")[0].innerText="Anmelden";else{if("loggedIn"===a.loginState){var d=document.getElementsByClassName("sp_loginAreaIconBadge")[0];d.style.display="inline",d.innerText="!";var e=document.getElementsByClassName("sp_loginIcon")[0];e.className+=" sp_loggedIn"}else{var f=document.getElementsByClassName("sp_loginAreaNotMyName")[0];"undefined"==typeof a.firstName&&"undefined"==typeof a.lastName?f.innerText="(Anonym weiter surfen)":f.innerText="(Das bin ich nicht)",f.href=a.notMyNameLink,f.style.display=""}"undefined"==typeof a.firstName&&"undefined"==typeof a.lastName?"undefined"!=typeof a.email&&(document.getElementsByClassName("sp_loginAreaMyNameOrLogin")[0].innerText=a.email):document.getElementsByClassName("sp_loginAreaMyNameOrLogin")[0].innerText=a.firstName+" "+a.lastName;var g=document.getElementsByClassName("sp_loginAreaIcon")[0];switch(a.salutation){case"MS":g.innerText="♀";break;case"MR":g.innerText="♂";break;default:g.innerText="Θ"}}}function b(){"undefined"!=typeof document.getElementsByClassName("sp_loginFooterArea")[0]&&o_util.ajax.getJSON("/user/public/loginState/footer").then(function(b){200===b.status&&a(b.responseJSON)})}return{loadUserData:b}}(),o_global.eventLoader.onLoad(100,function(){o_shoppages.footerUserLogin.loadUserData()});var o_shoppages=o_shoppages||{};o_shoppages.expander=function(){function a(a){return parseFloat(a.css("padding-bottom"))+parseFloat(a.css("padding-top"))}function b(b){return a(b.find(".js_universalContent"))+a(b)}function c(a,c){return a.height()+b(c)}function d(a){return c(a.find(".js_expanderContent"),a)}function e(a){return c(a.find(".js_universalImage"),a)}function f(a){a.animate({height:o_shoppages.expander.getExpanderContentHeight(a)+20},{done:function(){a.removeClass("sp_closed"),a.find(".js_expanderButton").addClass(o)}})}function g(a){a.animate({height:o_shoppages.expander.getUniversalImageHeight(a)},{start:function(){a.addClass("sp_closed")},done:function(){a.find(".js_expanderButton").removeClass(o),a.height("auto")}})}function h(a){a.hasClass("sp_closed")?f(a):g(a)}function i(a){return a.is(":animated")?!1:void h(a)}function j(){return o_global.breakpoint.isLarge()||o_global.breakpoint.isExtraLarge()}function k(a){a.fadeOut(),a.removeClass(o);var b=a.closest(".js_universal");b.addClass("sp_closed"),b.height("auto")}function l(a,b){return function(){var c=o_shoppages.expander.getExpanderContentHeight(a),d=o_shoppages.expander.getUniversalImageHeight(a);c>d?b.fadeIn():k(b)}}function m(){j()?$(".js_expanderButton").each(function(){var a=$(this),b=a.closest(".js_universal"),c=b.find(".js_universalImage")[0];c.complete?l(b,a)():c.onload=l(b,a)}):$(".js_expanderButton").each(function(){k($(this))})}function n(){o_shoppages.expander.showButtonDependingOnContentHeight(),$(document).on("click",".js_expanderButton",function(){i($(this).closest(".js_universal"))}),$(window).resize(function(){o_shoppages.expander.showButtonDependingOnContentHeight()})}var o="decrease";return{init:n,showButtonDependingOnContentHeight:m,getExpanderContentHeight:d,getUniversalImageHeight:e}}(),o_global.eventLoader.onLoad(100,function(){o_shoppages.expander.init()});var o_shoppages=o_shoppages||{};o_shoppages.accordion=function(){function a(a){var b;if(a&&a.match(/^(#\w+)/)){if(b=$(RegExp.$1),b.length&&b.hasClass("js_shoppages_accordion p_accordion__header")&&b.parent().hasClass("p_accordion--1st"))return b.addClass("p_accordion__header--open"),!0;if(b.length&&b.parent().hasClass("p_layer"))return $("#p_layer").find("dl.p_accordion100 .js_shoppages_accordion.p_accordion__header").first().addClass("p_accordion__header--open"),!0}return!1}function b(){a(window.location.hash)||$("dl.p_accordion100 .js_shoppages_accordion.p_accordion__header").first().addClass("p_accordion__header--open")}function c(){$(document).on("click",".js_expanderHeading",function(){$(this).parents(".p_accordion100").toggleClass("p_accordion__header--open")}),$(window).on("hashchange",function(){a(window.location.hash)})}function d(){b(),c()}return{handlePageLoad:b,init:d}}(),o_global.eventLoader.onReady(100,function(){o_shoppages.accordion.init()});var o_shoppages=o_shoppages||{};o_shoppages.cliplister=function(){function a(a){var b=a.find(".cliplistervideo");if(b&&b.length>0){var c=!1,d=function(){c||this&&this.readyState&&!/loaded|complete/.test(this.readyState)||(c=!0,Cliplister.clips=[],b.each(o_shoppages.cliplister.cliplisterSetup),Cliplister.reloadClips())};o_shoppages.cliplister.prepareExternalCliplisterStuff(d)}}function b(b){o_global.eventLoader.onLoad(40,function(){a(b)})}function c(a){var b=document.createElement("script");b.type="text/javascript",b.onload=b.onreadystatechange=a,b.src="https://mycliplister.com/static/clplayer/cllib.inc.min.js",document.getElementsByTagName("head")[0].appendChild(b)}function d(a,b){b=$(b),b&&(b.attr("id","video-id-"+e++),Cliplister.player({elementID:b.attr("id"),requestkey:b.data("requestkey"),slot:b.data("slot")||4,keytype:b.data("keytype")||1e4,indirect:b.data("indirect")||!1,autoplay:b.data("autoplay")||!1,size:b.data("size")||"640x360",fsk:b.data("fsk")||16,lang:b.data("lang")||"de,##"},91962))}var e=0;return{initVideos:b,loadVideos:a,cliplisterSetup:d,prepareExternalCliplisterStuff:c}}(),o_global.eventLoader.onReady(100,function(){o_shoppages.cliplister.initVideos($("body"))});var o_tracking=window.o_tracking||{};o_tracking.accesspath=function(){function a(a){s.setItem("ts-accesspath-internal",a)}function b(){return s.getItem("ts-accesspath-internal");
}function c(a){s.setItem("ts-repeated-external",a)}function d(){return s.getItem("ts-repeated-external")}function e(a){s.setItem("ts-urls-external-referrer",a)}function f(){return s.getItem("ts-urls-external-referrer")}function g(){var a=f();return a?JSON.parse(a):{}}function h(a){var b=g(),d=a+l();d in b?c("true"):(b[d]=!0,e(JSON.stringify(b)),c("false"))}function i(a){if(a){var b=document.createElement("a");b.href=a;var c=b.host;c.match(/(?:^|\.)otto\.de$/)||h(a)}}function j(a){s.setItem("ts-unloaded-location-href",a)}function k(){return s.getItem("ts-unloaded-location-href")}function l(){return window.location.href}function m(a,b){var c=document.createElement("a");c.href=a;var d=c.host;return a&&d.match(/(?:^|\.)otto\.de$/)?"true":b||"false"}function n(c){a(m(c,b()))}function o(){j(l())}function p(){return"true"===b()}function q(){return k()===l()}function r(){return{ts_AccPathInternal:p(),ts_ReloadedPage:q(),ts_RepeatedExternal:d()}}var s=new o_global.Storage(function(){return window.sessionStorage});return{setInternal:a,update:n,storeUnloadedLocationHref:o,isInternal:p,getMergeParameters:r,getWindowLocationHref:l,getUnloadedLocationHref:k,setUnloadedLocationHref:j,isReloadedPage:q,storeUrlsWithExternalReferrer:i,getRepeatedExternal:d}}();var o_tracking=window.o_tracking||{};o_tracking.linkdata=function(){var a=new o_global.Storage(function(){return window.sessionStorage}),b=function(a){return $.isPlainObject(a)&&!$.isEmptyObject(a)},c=function(){$(document).on("click","a.ts-link",function(){var a=$(this);return"_blank"!==a.attr("target")&&f(a.data("tsLink")),!0}),$(document).on("click","a[target=_blank]",function(){var a=$(this).data("tsLink"),c=d();if(null!=a||b(c)){var e=$.extend(c,a,{ot_LinkTarget:"extern"});o_tracking.bct.sendEventToTrackingServer(e)}return!0});var a=d();o_tracking.bct.sendMergeToTrackingServer(a)},d=function(){var c=e();return b(c)&&(c.ts_BctFromBrowserStore=!0,a.removeItem("ts-linkdata")),c},e=function(){var b={};try{var c=a.getItem("ts-linkdata");null!=c&&(b=JSON.parse(c.toString()))}catch(d){}return b},f=function(b){var c=e();return $.extend(c,b),a.setItem("ts-linkdata",JSON.stringify(c)),!0},g=function(a){return f(a)};return{init:c,trackOnNextPageImpression:g,pop:d}}(),$(document).ready(function(){o_tracking.linkdata.init()});var o_tracking=window.o_tracking||{};o_tracking.latency=function(){var a=new o_global.Storage(function(){return window.sessionStorage}),b=function(b){return a.isAvailable?g(b,new Date):$.ajax(b)},c=function(){var b=parseFloat(a.getItem("ts-srtt"));return b?b:null},d=function(){var b=parseFloat(a.getItem("ts-rttvar"));return b?b:null},e=function(b){var e=o_tracking.latency.rtt.computeUpdatedRoundTripTimeVariance(b,d(),c());a.setItem("ts-rttvar",e)},f=function(b){var d=o_tracking.latency.rtt.computeUpdatedSmoothedRoundTripTime(b,c());a.setItem("ts-srtt",d)},g=function(a,b){return $.get(a,function(){var a=new Date-b;f(a),e(a)})};return{ajax:b,smoothedRoundTripTime:c,roundTripTimeVariance:d}}(),o_tracking.latency.rtt=function(){var a=function(a,b,c){return null==b?.5*a:Math.floor(b+.25*(Math.abs(c-a)-b))},b=function(a,b){return null==b?a:Math.floor(b+.125*(a-b))};return{computeUpdatedRoundTripTimeVariance:a,computeUpdatedSmoothedRoundTripTime:b}}();var o_tracking=window.o_tracking||{};o_tracking.browserbasics=function(){function a(a){try{return a()}catch(b){return"unbekannt"}}var b=function(){var b={};return b.breakpoint=a(function(){return o_global.device.breakpoint.getCurrentBreakpoint().toUpperCase()}),b.orientation=a(function(){return o_global.device.orientation.getCurrentOrientation()}),b.innerWidth=window.innerWidth,b.innerHeight=window.innerHeight,b.screenHeight=window.screen.height,b.screenWidth=window.screen.width,b.mediaQueries="undefined"!=typeof window.matchMedia||"undefined"!=typeof window.msMatchMedia,b};return{detectBrowserBasics:b}}();var o_tracking=window.o_tracking||{};o_tracking.bct=function(){var a="1.118.7979",b="/ts-rcv/",c={scid:(new Date).getTime(),psfids:[],elementId:null},d=window.location.pathname,e=window.location.href.substring(0,window.location.href.indexOf(window.location.pathname)),f=[],g=function(a){var b=o_tracking.browserbasics.detectBrowserBasics();return b&&(a.ts_Innersize=b.innerWidth+"x"+b.innerHeight,a.ts_Screen=b.screenWidth+"x"+b.screenHeight,a.ot_Orientation=a.ot_Orientation||b.orientation,a.ot_Breakpoint=a.ot_Breakpoint||b.breakpoint,b.mediaQueries===!1&&(a.ts_MediaQueries=!1)),a},h=function(a){var b=o_tracking.latency.smoothedRoundTripTime(),c=o_tracking.latency.roundTripTimeVariance();return null!=b&&null!=c&&(a.ts_Srtt=b,a.ts_RttVar=c),a},i=function(){var a;return c.scid=null!=(a=c.scid)?a:k()},j=function(){return c.scid=k()},k=function(){return(new Date).getTime()},l=function(){return(null==c.psfids||c.psfids.length<1)&&(c.psfids=n(c.elementId)),c.psfids},m=function(a){return c.psfids=n(a)},n=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a=void 0),d=null!=a?"#"+a+" .ts-bct":".ts-bct",c=[],i=$(d),g=0,h=i.length;h>g;g++)e=i[g],b=$(e),null!=b&&(f=b.data("ts_sfid"),null!=f&&c.push(encodeURIComponent(f)));return c},o=function(a,b,c,d){var e;return e=u(a,null,c),null!=d&&(e=p("emid",d,e)),o_tracking.bct.keyValueConstructorLast("dataContainer",b,e)},p=function(a,b,c){return""+c+a+"="+b+"&"},q=function(a,b,c){return""+c+a+"="+b},r=function(a,b,c){var d,e,f;for(e=0,f=b.length;f>e;e++)d=b[e],c=""+c+a+"="+d+"&";return c},s=function(a,b){return p("ts_DocReferrer",encodeURIComponent(a),b)},t=function(a){return f.length>0?s(e+f[f.length-1].url,a):"undefined"!=typeof o_global&&null!==o_global&&null!=o_global.referrer&&o_global.referrer.length>0?s(o_global.referrer,a):a},u=function(a,b,c){var e,g,h,j;return h=G(10),g=d,e=""+a+"?cachefix="+h+"&url="+g+"&ts_Type="+c+"&",f.length>0&&(e+="ts_ContextLevel="+f.length+"&"),e=p("scid",i(),e),e=r("psfids",l(),e),"event"!==c&&"eventMerge"!==c&&(e=t(e)),j=E(),j.length>0?p("testsession",j,e):e},v=function(){var a=r("psfids",l(),"");return a=p("scid",i(),a),a=p("cachefix",G(10),a),f.length>0&&(a=p("ts_ContextLevel",f.length,a)),q("ts_Type","merge",a)},w=function(a,c,d){var e,f,g;return a=a||{},f={},o_tracking.bct.appendRoundTripTimeParams(a),c=c||"event",("event"===c||"eventMerge"===c)&&o_tracking.bct.appendBrowserBasicsParams(a),JSON?($.each(a,function(a,b){$.isPlainObject(b)&&$.isEmptyObject(b)||(b||0==b)&&($.isPlainObject(b)||$.isArray(b)?f[a]=JSON.stringify(b):f[a]=b)}),g=JSON.stringify(f),e=o(b,encodeURIComponent(g),c,d),H(e)):void 0},x=function(a){return w(a||{},"event")},y=function(a,b){return o_tracking.bct.sendToTrackingServer(a,"eventMerge",b)},z=function(){var a=G(10);return{sendEventToTrackingServer:function(b){return o_tracking.bct.sendEventMergeToTrackingServer(b,a)},eventMergeId:a}},A=function(a){return $.isPlainObject(a)&&!$.isEmptyObject(a)?B(a):void 0},B=function(a){return o_tracking.bct.sendToTrackingServer(a,"merge")},C=function(a,b,e){var g,h;return g={scid:c.scid,psfids:c.psfids,url:d,elementId:c.elementId},c={elementId:a,scid:k(),psfids:n(a)},d=b,f.push(g),h=o_tracking.linkdata.pop(),B($.extend(h,e)),f},D=function(){var a;return f.length>0&&x({ts_LayerEvent:"close"}),a=f.pop(),null!=a?(c={scid:a.scid,psfids:a.psfids,elementId:a.elementId},d=a.url,a):a=null},E=function(){var a;return a=window.location.search,""===a?a:F("testsession=","&",a)},F=function(a,b,c){var d,e,f;return null!==c&&c.length>0?(e=c.indexOf(a),e>=0?(f=c.substring(e+a.length,c.length),d=f.indexOf(b),f(0>=d?void 0:f.substring(0,d))):""):""},G=function(a){var b,c,d,e;for(b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],c="",d=e=0;a>=0?a>=e:e>=a;d=a>=0?++e:--e)c+=b[Math.floor(Math.random()*b.length)];return c},H=function(a){return o_tracking.latency.ajax(a)},I=function(){return f},J=function(){return c},K=function(a){c=a},L=function(){f=[]},M=function(){d=window.location.pathname,e=window.location.href.substring(0,window.location.href.indexOf(window.location.pathname))},N=function(){return e},O=function(){return d},P=function(a){e=a},Q=function(a){d=a},R=function(){return a};return{sendMergeToTrackingServer:A,sendEventToTrackingServer:x,sendEventMergeToTrackingServer:y,createEventMergeContext:z,getMergeParameters:v,sendToTrackingServer:w,closeContext:D,createContext:C,appendBrowserBasicsParams:g,appendRoundTripTimeParams:h,resetHost:M,resetStack:L,getCurrentPath:O,setCurrentPath:Q,getCurrentHost:N,setCurrentHost:P,keyValueConstructor:p,keyValueConstructorLast:q,getScid:i,getTsid:J,setTsid:K,getPsfids:l,resetPsfids:m,constructUrl:u,getDocumentReferrer:t,getContextStack:I,resetScid:j,getVersion:R,trackOnNextPageImpression:function(a){return o_tracking.linkdata.trackOnNextPageImpression(a)}}}(),$(document).ready(function(){o_tracking.accesspath.update(document.referrer),o_tracking.accesspath.storeUrlsWithExternalReferrer(document.referrer);var a=o_tracking.accesspath.getMergeParameters();o_tracking.bct.appendBrowserBasicsParams(a),o_tracking.bct.sendMergeToTrackingServer(a)}),$(window).bind("beforeunload",function(){o_tracking.accesspath.storeUnloadedLocationHref()}),$(window).bind("pagehide",function(){o_tracking.accesspath.storeUnloadedLocationHref()});var $OTTO;("undefined"==typeof $OTTO||null===$OTTO)&&($OTTO={}),window.$OTTO=$OTTO,$OTTO.TS=function(){return{sendToTrackingServer:function(a,b){return o_tracking.bct.sendToTrackingServer(a,b)},sendMergeToTrackingServer:function(a){return o_tracking.bct.sendMergeToTrackingServer(a)},sendEventToTrackingServer:function(a){return o_tracking.bct.sendEventToTrackingServer(a)},createContext:function(a,b,c){return o_tracking.bct.createContext(a,b,c)},closeContext:function(){return o_tracking.bct.closeContext()},getMergeParameters:function(){return o_tracking.bct.getMergeParameters()}}}();var o_ubo=o_ubo||{};o_ubo.common=o_ubo.common||{},o_ubo.common.layer=o_ubo.common.layer||{},o_ubo.common.layer.rwd=o_ubo.common.layer.rwd||{},o_ubo.common.layer.rwd.serviceBuilder=function(){var a={};return a.loadContent=function(a,b){$.get(a,b)},a.post=function(a,b,c,d){$.post(a,b,c).fail(d)},a},o_ubo.common.layer.rwd.viewBuilder=function(a,b){var c={},d=".p_layer .p_layer__content .ubo";return c.closeLayer=function(){b.getActiveLayer().close()},c.openLayer=function(a){var b=new o_global.pali.layerBuilder({modal:!0,content:'<div class="'+a+'"></div>'});b.open()},c.setContent=function(a){$(d).html(a)},c.setInnerContent=function(a,b){$("."+a).html(b)},c.reload=function(){a.location.reload()},c.urlStartsWithUser=function(){return"/user"===a.location.pathname.substring(0,5)},c.setFocus=function(){$("html").hasClass("no-touch")&&($(d+" input[autofocus='autofocus']").focus(),$(d+" input[data-autofocus='autofocus']").focus()),$("div[data-severity='ERROR']").size()>0&&$(".p_layer__content").scrollTop(0)},c.closeOpenedTooltip=function(){var a=document.getElementsByClassName("c_toolTip")[0];void 0!==a&&"none"!==a.style.display&&o_global.Tooltip.hide()},c.showSpinner=function(a){a.css("opacity",0),a.siblings(".ubo_js_spinnerButtonOverlay").show()},c.showButton=function(a){a.css("opacity",1),a.siblings(".ubo_js_spinnerButtonOverlay").hide()},c},o_ubo.common.layer.rwd.presenterBuilder=function(a,b){function c(a,b){$("#"+a).html(b)}function d(d,e,g){var h,i,j;h=void 0!==g?$(".ubo "+g):d.closest("form"),i=h.attr("action"),j=h.serializeArray(),a.showSpinner(d),b.post(i,j,function(b,g,h){h.getResponseHeader("X-user-replace-content")&&c(h.getResponseHeader("X-user-replace-content"),b),h.getResponseHeader("X-user-dialog-close")&&"true"===h.getResponseHeader("X-user-dialog-close")&&(a.closeLayer(),a.closeOpenedTooltip()),h.getResponseHeader("X-user-open-splash-screen")&&f.openSplashScreen(h.getResponseHeader("X-user-open-splash-screen"),h.getResponseHeader("X-user-open-splash-screen-css")),h.getResponseHeader("X-user-layer-new-height")&&o_global.pali.layer.getActiveLayer().setHeight(h.getResponseHeader("X-user-layer-new-height")),h.getResponseHeader("X-user-replace-content")||h.getResponseHeader("X-user-dialog-close")||h.getResponseHeader("X-user-open-splash-screen")||(a.setContent(b),a.showButton(d),a.setFocus()),e&&e(b,g,h)},function(){a.showButton(d)})}function e(){$(document).on("click",g+" .ubo_js_default_button",function(a){return a.preventDefault(),d($(this),void 0,$(this).data("external-form-selector")),!1})}var f={},g=".p_layer .ubo";return f.openSplashScreen=function(c,d){a.openLayer(d),b.loadContent(c,function(b){a.setInnerContent(d,b)})},f.init=function(){e()},f},o_global.eventLoader.onReady(3,function(){o_ubo.common.layer.rwd.service=o_ubo.common.layer.rwd.serviceBuilder(),o_ubo.common.layer.rwd.view=o_ubo.common.layer.rwd.viewBuilder(window,o_global.pali.layer),o_ubo.common.layer.rwd.presenter=o_ubo.common.layer.rwd.presenterBuilder(o_ubo.common.layer.rwd.view,o_ubo.common.layer.rwd.service),o_ubo.common.layer.rwd.presenter.init()});var o_ubo=o_ubo||{};o_ubo.typewatch=o_ubo.typewatch||{},o_ubo.typewatch.presenterBuilder=function(a,b){function c(a){return 9!==a&&16!==a&&17!==a&&18!==a?!0:!1}var d,e,f={};return f.passwordInputKeyPressed=function(c){d!==c.val()?(d=c.val(),clearTimeout(e),e=setTimeout(function(){a(c)},b)):""===d&&""===c.val()&&(clearTimeout(e),a(c))},f.saveCurrentInputValue=function(a,b){c(a.which)&&(d=b.val())},f.init=function(a){$(document).on("keyup",a,function(a){c(a.keyCode)&&f.passwordInputKeyPressed($(this))}),$(document).on("keypress",a,function(a){f.saveCurrentInputValue(a,$(this))})},f.registerOnElement=function(a){a.off("keyup"),a.on("keyup",function(a){c(a.keyCode)&&f.passwordInputKeyPressed($(this))}),a.off("keypress"),a.on("keypress",function(a){f.saveCurrentInputValue(a,$(this))})},f};var o_ubo=o_ubo||{};o_ubo.onlinevalidationtooltip=o_ubo.onlinevalidationtooltip||{},o_ubo.onlinevalidationtooltip.rwd=o_ubo.onlinevalidationtooltip.rwd||{},o_ubo.onlinevalidationtooltip.rwd.passwordTooltip=o_ubo.onlinevalidationtooltip.rwd.passwordTooltip||{},o_ubo.onlinevalidationtooltip.rwd.standardTooltip=o_ubo.onlinevalidationtooltip.rwd.standardTooltip||{},o_ubo.onlinevalidationtooltip.serviceBuilder=function(){var a={},b="/user";return a.sendValidationRequest=function(a,c,d,e){$.ajax(b+"/commonInputValidation",{type:"POST",contentType:"application/json",data:c}).done(function(b,c,e){d(b,c,e,a)}).fail(function(){e(a)})},a},o_ubo.onlinevalidationtooltip.rwd.standardTooltip.viewBuilder=function(a){function b(b){var c;switch(b){case"ERROR":c=a.P_FORM_MESSAGE+"--error";break;case"WARNING":c=a.P_FORM_MESSAGE+"--warning";break;case"INFO":c=a.P_FORM_MESSAGE+"--hint";break;case"SUCCESS":c=a.P_FORM_MESSAGE+"--success"}return c}function c(b){b.removeClass(a.P_FORM_MESSAGE+"--error"),b.removeClass(a.P_FORM_MESSAGE+"--warning"),b.removeClass(a.P_FORM_MESSAGE+"--hint"),b.removeClass(a.P_FORM_MESSAGE+"--success")}var d={};return d.updateTooltipOnStandardInput=function(a,d){var e=$(a.data("tooltip-pos"));d&&d.message?(e.html(d.message.messageText),c(e),e.addClass(b(d.message.severity))):(c(e),e.empty(),e.parent().hide())},d},o_ubo.onlinevalidationtooltip.rwd.viewBuilder=function(a,b,c){function d(a){return a.data(s).split(" ")}function e(a){return d(a)[0]}function f(a){return void 0!==a.attr("data-validation-on-row")&&"true"===a.attr("data-validation-on-row")}function g(c,d){return f(c)?c.closest("."+b.P_FORM_GROUP_ROW).find(a+"[data-"+s+"^='"+d+"'][data-"+s+"~='"+d+"']"):c.closest("form").find(a+"[data-"+s+"^='"+d+"'][data-"+s+"~='"+d+"']")}function h(c){return f(c)?c.closest("."+b.P_FORM_GROUP_ROW).find(a+"[data-"+s+"~='"+e(c)+"']"):c.closest("form").find(a+"[data-"+s+"~='"+e(c)+"']")}function i(a,b){a.each(function(a,c){var d="p_form__"+$(c).prop("tagName").toLowerCase()+"--error";b?$(this).hasClass(d)&&$(this).removeClass(d):$(this).hasClass(d)||$(this).addClass(d)})}function j(a){return("number"===a.get(0).type||"tel"===a.get(0).type)&&!a.get(0).validity.valid}function k(a,b,c){void 0!==c.data(t)?(void 0===a[b]&&(a[b]={}),j(c)?a[b][c.data(t)]="invalid":a[b][c.data(t)]=c.val()):j(c)?a[b]="invalid":a[b]=c.val()}function l(a){a.closest("form").find("."+b.P_FORM_MESSAGE).each(function(c,d){var e="."+b.P_FORM_GROUP_ROW;$(d).closest(e).is(a.closest(e))||$(d).parent("."+b.P_FORM_GROUP_MESSAGE).hide()})}function m(a){"function"==typeof $&&a instanceof $&&(a=a[0]);var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(a,c){var d=$(a.data("tooltip-pos"));c&&!d.is(":empty")?(q.stopUpdateTooltip(a.closest("form")),l(a),d.parent("."+b.P_FORM_GROUP_MESSAGE).siblings("."+b.P_FORM_GROUP_MESSAGE).hide(),d.parent("."+b.P_FORM_GROUP_MESSAGE).show()):d.parent("."+b.P_FORM_GROUP_MESSAGE).hide()}function o(a,b){a.closest("form").data(r)||(n(a,b),q.assertInputVisible(a))}function p(a){var c,d="."+b.P_FORM_GROUP_ROW;return c=a.is(":radio")?a.parents(d).find("label"):a.parents(d).find("label[for='"+a.attr("id")+"']"),c.length||(c=a.parents(d).find("label")),c}var q={},r="suppress-messages",s="validation-validators",t="validation-field";return q.assertInputVisible=function(a){var b=m(a),c=a.is(":focus");!b&&c&&$("html, body").animate({scrollTop:a.offset().top-30},200)},q.assertElemIsInViewport=function(a){m(a)||$("html, body").animate({scrollTop:a.offset().top-30},200)},q.createJsonRequestObjectFromValidationInputs=function(a){var b={};return void 0!==a.data(s)&&$.each(d(a),function(c,d){var f=g(a,d);void 0!==f&&(f.val().length>0||a.is(f))&&h(f).each(function(a,c){k(b,e(f),$(c))})}),JSON.stringify(b)},q.updateValidationStatusOnError=function(a){n(a,!1)},q.validateInputNotEmpty=function(a){var b=p(a),c=0!==a.val().length;i(b,c),i(a,c)},q.sendValidationRequestOnRepeat=function(a,b){if($(a).length>0&&$(b).length>0){var c=$(b).val(),d=$(a).val();if(c.length>=d.length)return!0}},q.updateValidationStatus=function(a,b,d,e){var f=null,h=!1;$.each(a,function(a,b){var d,j=g(e,a);d=p(j),"password"!==a?(i(d,b.ok),i(j,b.ok),c.updateTooltipOnStandardInput(j,b),null!==f&&!h||b.ok||!j.is(e)||(f=j)):(i(d,"INVALID"!==b.passwordStrength),i(j,"INVALID"!==b.passwordStrength),null===f&&(f=j,h=!0))}),null===f&&(f=e),o(f,!0)},q.resetOptionalInputsAndLabels=function(a){i(p(a),!0),i(h(a),!0),c.updateTooltipOnStandardInput(a),n(a,!1)},q.inputsOfSameValidationTypeFilled=function(a){var b=!0;return g(a,e(a)).each(function(c,d){var e=$(d);b!==!0||e.is(a)||e.val()||j(e)||(b=!1)}),b},q.inputsOfSameValidationTypeOptionalAndEmpty=function(a){var b=!1;return g(a,e(a)).each(function(c,d){b!==!1||$(d).val()||"true"!==$(d).attr("data-validation-optional")||j(a)||(b=!0)}),b},q.showTooltip=function(a){n(a,!0)},q.stopUpdateTooltip=function(a){a.data(r,!0)},q.removeSuppressTooltip=function(a){a.closest("form").removeData(r)},q},o_ubo.onlinevalidationtooltip.rwd.presenterBuilder=function(a,b,c,d){function e(d,e){(void 0===e||e===!0)&&c.removeSuppressTooltip(d),c.inputsOfSameValidationTypeOptionalAndEmpty(d)?c.resetOptionalInputsAndLabels(d):c.inputsOfSameValidationTypeFilled(d)&&b.sendValidationRequest(d,c.createJsonRequestObjectFromValidationInputs(d,a),c.updateValidationStatus,c.updateValidationStatusOnError)}var f={};return f.init=function(){var b="typewatch",f="no-validate-on-empty",g=!0,h=!0;$(document).on("blur","input"+a+"[type!=radio]",function(a){var d=$(this),g=d.data(f)===!0;(!g||g&&""!==d.val())&&(c.removeSuppressTooltip(d),d.data(b,!0),setTimeout(function(){e(d,!1)},100))}),$(document).on("change","select"+a,function(a){var b=$(this);e(b)}),$(document).on("click","input"+a+"[type=radio]",function(a){var b=$(this);e(b)}),$(document).on("focus","input"+a+"[type!=radio]",function(a){var f,i,j,k,l=$(this);l.data(b)===!0&&d(function(a){"passwordRepeat"===l.data("validation-field")?(f=$("input[data-validation-field='password']"),i=$("input[data-validation-field='passwordRepeat']"),(g===!1||c.sendValidationRequestOnRepeat(f,i))&&(e(a),g=!1)):"emailRepeat"===l.data("validation-field")?(j=$("input[data-validation-field='email']"),k=$("input[data-validation-field='emailRepeat']"),(h===!1||c.sendValidationRequestOnRepeat(j,k))&&(e(a),h=!1)):"passwordRepeat"!==l.data("validation-field")&&"emailRepeat"!==l.data("validation-field")&&e(a)},300).registerOnElement(l),c.showTooltip(l),setTimeout(function(){c.assertElemIsInViewport(l)},300)}),$(document).on("focus","input.us_js_localTypeWatchValidation",function(a){var b=$(this);d(function(a){c.validateInputNotEmpty(a)},1).registerOnElement(b)})},f};var USER_ONLINE_VALIDATION_SELECTOR=".us_js_onlineValidation",USER_P_FORM_GROUP_CONSTANTS={P_FORM_MESSAGE:"p_form__message",P_FORM_GROUP_MESSAGE:"p_formGroup__message",P_FORM_GROUP_ROW:"p_formGroup__row"};o_ubo.onlinevalidationtooltip.service=o_ubo.onlinevalidationtooltip.serviceBuilder(),o_ubo.onlinevalidationtooltip.rwd.standardTooltip.view=o_ubo.onlinevalidationtooltip.rwd.standardTooltip.viewBuilder(USER_P_FORM_GROUP_CONSTANTS),o_ubo.onlinevalidationtooltip.rwd.view=o_ubo.onlinevalidationtooltip.rwd.viewBuilder(USER_ONLINE_VALIDATION_SELECTOR,USER_P_FORM_GROUP_CONSTANTS,o_ubo.onlinevalidationtooltip.rwd.standardTooltip.view,o_ubo.Tooltip),o_ubo.onlinevalidationtooltip.rwd.presenter=o_ubo.onlinevalidationtooltip.rwd.presenterBuilder(USER_ONLINE_VALIDATION_SELECTOR,o_ubo.onlinevalidationtooltip.service,o_ubo.onlinevalidationtooltip.rwd.view,o_ubo.typewatch.presenterBuilder),o_global.eventLoader.onReady(10,function(){o_ubo.onlinevalidationtooltip.rwd.presenter.init()}),window.o_ubo=window.o_ubo||{},function(){o_global.eventLoader.onLoad(123,function(){})}(),window.o_uscm=window.o_uscm||{},function(){o_global.eventLoader.onLoad(121,function(){o_uscm.common.view=new o_uscm.common.viewBuilder,o_uscm.common.view.scrollToHint(),o_uscm.common.button.view=o_uscm.common.button.viewBuilder(),o_uscm.common.button.presenter=o_uscm.common.button.presenterBuilder(o_uscm.common.button.view),o_uscm.common.button.presenter.init()})}();var o_uscm=o_uscm||{};o_uscm.common=o_uscm.common||{},o_uscm.common.button=o_uscm.common.button||{},o_uscm.common.button.viewBuilder=function(){var a={};return a.showSpinner=function(a){a.prop("disabled",!0),a.css("opacity",0),a.siblings(".uscm_js_spinnerButtonOverlay").show()},a.showButton=function(a){a.prop("disabled",!1),a.css("opacity",1),a.siblings(".uscm_js_spinnerButtonOverlay").hide()},a},o_uscm.common.button.presenterBuilder=function(a){function b(a){a.closest("form").submit()}function c(){$(document).on("click",".user_system_rwd .uscm_js_form_button",function(c){return c.preventDefault(),a.showSpinner($(this)),b($(this)),!1})}var d={};return d.init=function(){c()},d},window.o_uscm=window.o_uscm||{},o_uscm.common=o_uscm.common||{},o_uscm.common.viewBuilder=function(){function a(a,c){var d=document.documentElement;if(0===d.scrollTop){var e=d.scrollTop;++d.scrollTop,d=e+1===d.scrollTop--?d:document.body}b(d,d.scrollTop,a,c)}function b(a,b,e,f){0>f||("object"==typeof b&&(b=b.offsetTop),"object"==typeof e&&(e=e.offsetTop),c(a,b,e,0,1/f,20,d))}function c(a,b,d,e,f,g,h){0>e||e>1||0>=f||(a.scrollTop=b-(b-d)*h(e),e+=f*g,setTimeout(function(){c(a,b,d,e,f,g,h)},g))}function d(a){return a--,a*a*a+1}var e={};return e.scrollToHint=function(){if(document.getElementsByClassName){var b=document.getElementsByClassName("uscm_js_hint");b.length>0&&a(b[0],500)}},e};var o_user=o_user||{};o_user.common=o_user.common||{},o_user.common.layer=o_user.common.layer||{},o_user.common.layer.rwd=o_user.common.layer.rwd||{},o_user.common.layer.rwd.serviceBuilder=function(){var a={};return a.loadContent=function(a,b){$.get(a,b)},a.post=function(a,b,c,d){$.post(a,b,c).fail(d)},a},o_user.common.layer.rwd.viewBuilder=function(a,b){var c={},d=".p_layer .p_layer__content .user_system_rwd";return c.closeLayer=function(){b.getActiveLayer().close()},c.openLayer=function(a){var b=new o_global.pali.layerBuilder({modal:!0,content:'<div class="'+a+'"></div>'});b.open()},c.setContent=function(a){$(d).html(a)},c.setInnerContent=function(a,b){$("."+a).html(b)},c.reload=function(){a.location.reload()},c.urlStartsWithUser=function(){return"/user"===a.location.pathname.substring(0,5)},c.setFocus=function(){$("html").hasClass("no-touch")&&($(d+" input[autofocus='autofocus']").focus(),$(d+" input[data-autofocus='autofocus']").focus()),$("div[data-severity='ERROR']").size()>0&&$(".p_layer__content").scrollTop(0)},c.closeOpenedTooltip=function(){var a=document.getElementsByClassName("c_toolTip")[0];void 0!==a&&"none"!==a.style.display&&o_global.Tooltip.hide()},c.showSpinner=function(a){a.css("opacity",0),a.siblings(".us_js_spinnerButtonOverlay").show()},c.showButton=function(a){a.css("opacity",1),a.siblings(".us_js_spinnerButtonOverlay").hide()},c},o_user.common.layer.rwd.presenterBuilder=function(a,b){function c(a,b){$("#"+a).html(b)}function d(d,e,g){var h,i,j;h=void 0!==g?$(".user_system_rwd "+g):d.closest("form"),i=h.attr("action"),j=h.serializeArray(),a.showSpinner(d),b.post(i,j,function(b,g,h){h.getResponseHeader("X-user-replace-content")&&c(h.getResponseHeader("X-user-replace-content"),b),h.getResponseHeader("X-user-dialog-close")&&"true"===h.getResponseHeader("X-user-dialog-close")&&(a.closeLayer(),a.closeOpenedTooltip()),h.getResponseHeader("X-user-open-splash-screen")&&f.openSplashScreen(h.getResponseHeader("X-user-open-splash-screen"),h.getResponseHeader("X-user-open-splash-screen-css")),h.getResponseHeader("X-user-layer-new-height")&&o_global.pali.layer.getActiveLayer().setHeight(h.getResponseHeader("X-user-layer-new-height")),h.getResponseHeader("X-user-replace-content")||h.getResponseHeader("X-user-dialog-close")||h.getResponseHeader("X-user-open-splash-screen")||(a.setContent(b),a.showButton(d),a.setFocus()),e&&e(b,g,h)},function(){a.showButton(d)})}function e(){$(document).on("click",g+" .us_js_default_button",function(a){return a.preventDefault(),d($(this),void 0,$(this).data("external-form-selector")),!1})}var f={},g=".p_layer .user_system_rwd";return f.openSplashScreen=function(c,d){a.openLayer(d),b.loadContent(c,function(b){a.setInnerContent(d,b)})},f.init=function(){e()},f},o_global.eventLoader.onReady(3,function(){o_user.common.layer.rwd.service=o_user.common.layer.rwd.serviceBuilder(),o_user.common.layer.rwd.view=o_user.common.layer.rwd.viewBuilder(window,o_global.pali.layer),o_user.common.layer.rwd.presenter=o_user.common.layer.rwd.presenterBuilder(o_user.common.layer.rwd.view,o_user.common.layer.rwd.service),o_user.common.layer.rwd.presenter.init()});var o_user=o_user||{};o_user.loginarea=o_user.loginarea||{},o_user.loginarea.viewBuilder=function(a){function b(){$(".us_js_loginAreaIconSubtitleLogin").fadeIn("slow")}function c(a){setTimeout(function(){$(".us_js_loginAreaIconSubtitleMyAccount").fadeOut("slow",a)},600)}function d(){$(document).off("click",".us_js_loginMenuCurtain"),$(".us_js_loginMenuCurtain").detach()}var e={},f="/order/basket";return e.updateLoginAreaSubtitle=function(){new RegExp(f,"i").test(a.location.href)&&"false"===$(".us_js_loginAreaIconSubtitle").attr("data-loggedin")&&c(b)},e.hideLoginAreaMenu=function(){$("#us_id_loginAreaMenu").hide(),d()},e.isLoginAreaMenuVisible=function(){return $("#us_id_loginAreaMenu").is(":visible")},e.showLoginAreaMenu=function(){var a=$("#us_id_loginAreaMenu");a.show(),$("body").append('<div class="us_layerCurtain us_js_loginMenuCurtain"></div>'),$(document).on("click",".us_js_loginMenuCurtain",function(a){$(a.target).closest("#us_id_loginAreaContainerWithName").length||e.isLoginAreaMenuVisible()&&(e.hideLoginAreaMenu(),$("html").hasClass("touch")&&$("body").css("cursor","default"))}),$(document).trigger("o_user.login.area.menu.opened")},e},o_user.loginarea.presenterBuilder=function(a){function b(){var a=$("#us_js_id_loginAreaContentToReplaceHeader");a.length>0&&($("#us_js_id_loginAreaContainerToReplace").replaceWith(a.children()),$("#us_js_id_loginAreaContentToRemove").remove())}function c(){$(document).on("click",".us_js_loginAreaMenuHandle",function(){a.isLoginAreaMenuVisible()?a.hideLoginAreaMenu():a.showLoginAreaMenu()}),$(document).on("click","#us_id_closeLoginMenuButton",function(){a.hideLoginAreaMenu()}),$(document).on("click",".user_js_show_more_login_area_links",function(){$(".login_area_menu_hide_link").removeClass("login_area_menu_hide_link"),$(this).parent().addClass("login_area_menu_hide_link")}),$(document).on("click",".user_js_more_login_area_links_follow",function(){window.open(Base64.decode($(this).attr("data-ub64e")),"_self")}),$(document).on("o_user.login.area.menu.close",function(){a.hideLoginAreaMenu()})}var d={};return d.init=function(){$("#us_js_id_loginAreaContainerToReplace").length>0&&b(),c()},d},o_global.eventLoader.onReady(4,function(){o_user.loginarea.view=o_user.loginarea.viewBuilder(window),o_user.loginarea.presenter=o_user.loginarea.presenterBuilder(o_user.loginarea.view),o_user.loginarea.presenter.init()});var o_user=o_user||{},o_tracking=o_tracking||{};o_tracking.bct=o_tracking.bct||{},o_tracking.bct.sendToTrackingServer=o_tracking.bct.sendToTrackingServer||function(){},o_tracking.bct.getMergeParameters=o_tracking.bct.getMergeParameters||function(){return"FT4MockMergeParameterTrackingEventHandler"},o_user.trackingBuilder=function(a){var b={};return b.ajaxGetAndSetTrackingParams=function(b,c,d){var e,f;a&&(e=a.getMergeParameters()),void 0===e?(f="",e=""):f=b.indexOf("?")>-1?"&":"?",$.get(b+f+e,c).fail(d)},b.sendTrackingInformation=function(b,c){"merge"===c?a.sendMergeToTrackingServer(b):a.sendToTrackingServer(b)},b.registerTrackingEventHandler=function(){$(document).off("user.sendToTrackingServer"),$(document).on("user.sendToTrackingServer",function(a,c){b.sendTrackingInformation(c)}),$(document).off("user.sendToTrackingServer_merge"),$(document).on("user.sendToTrackingServer_merge",function(a,c){b.sendTrackingInformation(c,"merge")}),$(document).off("user.event.sendToTrackingServer"),$(document).on("user.event.sendToTrackingServer",function(a,c){b.sendTrackingInformation(c,"event")})},b.init=function(){$(".user_js_trackOnClick").off("click"),$(document).on("click",".user_js_trackOnClick",function(){var a=$(this),c=a.data("trackinglabel"),d=a.data("trackingvalue"),e=a.data("trackingtype"),f={};void 0!==c&&(void 0!==d?f[c]=d:f[c]="ok",b.sendTrackingInformation(f,e))}),$(".us_js_trackOnNextPageImpression").off("click"),$(document).on("click",".us_js_trackOnNextPageImpression",function(){var b=$(this),c=b.data("trackinglabel"),d=b.data("trackingvalue"),e={};void 0!==c&&void 0!==d&&(e[c]=d),a&&a.trackOnNextPageImpression(e)}),b.registerTrackingEventHandler()},b},o_user.tracking=o_user.trackingBuilder(o_tracking.bct),o_global.eventLoader.onReady(4,function(){o_user.tracking.init()});var lhotse=lhotse||{},o_user=o_user||{},o_global=o_global||{},o_tracking=o_tracking||{};o_user.common=o_user.common||{},o_user.common.form=o_user.common.form||{},o_tracking.bct=o_tracking.bct||{},o_tracking.bct.getMergeParameters=o_tracking.bct.getMergeParameters||function(){return"FT4MockMergeParameterCommon"},o_user.common.eventHandlerBuilder=function(a){function b(a,b){var c,d=[].slice.call(arguments).splice(2),e=a.split("."),f=e.pop(),g=b;for(c=0;c<e.length;c+=1)g=g[e[c]];return g[f].apply(g,d)}function c(a,c,d,e){$.ajax(a,{cache:c,success:function(a){d.replaceWith(a),e&&b(e,window)},error:function(a,b,c){}})}function d(b){var c,d=a.getMergeParameters();return"undefined"===d?(c="",d=""):c=b.indexOf("?")>-1?"&":"?",b+c+d}function e(){$(document).on("cut copy",".user_js_no_copy",function(a){a.preventDefault()})}function f(){$(document).on("click",".user_js_link",function(a){a.preventDefault(),window.location.href=$(this).data("url")})}var g={};return g.onLoad=function(a,b){o_global&&o_global.eventLoader?o_global.eventLoader.onLoad(a,function(){b()}):$(window).load(b)},g.onReady=function(a,b){o_global&&o_global.eventLoader?o_global.eventLoader.onReady(a,function(){b()}):$(document).ready(b)},g.initLoadEsiAjax=function(){$(".us_js_esiAjax").each(function(a,b){
var e=$(b),f=e.data("url"),h=e.data("eventtype")||"load",i=e.data("priority")||99,j=e.data("usecache"),k=e.data("trackingtype")||"",l=e.data("function");"merge"===k&&(f=d(f)),"load"===h?g.onLoad(i,function(){c(f,j,e,l)}):"immediate"===h&&c(f,j,e,l)})},function(){e(),f()}(),g},o_user.common.toolsBuilder=function(){var a={};return a.setAutoFocus=function(){$("html").hasClass("no-touch")&&$(".user_system_rwd input[data-autofocus='autofocus']").focus()},a},o_user.common.eventHandler=o_user.common.eventHandlerBuilder(o_tracking.bct),o_global.eventLoader.onReady(5,function(){o_user.common.eventHandler.initLoadEsiAjax(),o_user.common.tools=o_user.common.toolsBuilder(),o_user.common.tools.setAutoFocus()});var o_user=o_user||{};o_user.typewatch=o_user.typewatch||{},o_user.typewatch.presenterBuilder=function(a,b){function c(a){return 9!==a&&16!==a&&17!==a&&18!==a?!0:!1}var d,e,f={};return f.passwordInputKeyPressed=function(c){d!==c.val()?(d=c.val(),clearTimeout(e),e=setTimeout(function(){a(c)},b)):""===d&&""===c.val()&&(clearTimeout(e),a(c))},f.saveCurrentInputValue=function(a,b){c(a.which)&&(d=b.val())},f.init=function(a){$(document).on("keyup",a,function(a){c(a.keyCode)&&f.passwordInputKeyPressed($(this))}),$(document).on("keypress",a,function(a){f.saveCurrentInputValue(a,$(this))})},f.registerOnElement=function(a){a.off("keyup"),a.on("keyup",function(a){c(a.keyCode)&&f.passwordInputKeyPressed($(this))}),a.off("keypress"),a.on("keypress",function(a){f.saveCurrentInputValue(a,$(this))})},f};var o_user=o_user||{};o_user.onlinevalidationtooltip=o_user.onlinevalidationtooltip||{},o_user.onlinevalidationtooltip.rwd=o_user.onlinevalidationtooltip.rwd||{},o_user.onlinevalidationtooltip.rwd.passwordTooltip=o_user.onlinevalidationtooltip.rwd.passwordTooltip||{},o_user.onlinevalidationtooltip.rwd.standardTooltip=o_user.onlinevalidationtooltip.rwd.standardTooltip||{},o_user.onlinevalidationtooltip.serviceBuilder=function(){var a={},b="/user";return a.sendValidationRequest=function(a,c,d,e){$.ajax(b+"/commonInputValidation",{type:"POST",contentType:"application/json",data:c}).done(function(b,c,e){d(b,c,e,a)}).fail(function(){e(a)})},a},o_user.onlinevalidationtooltip.rwd.passwordTooltip.viewBuilder=function(a){function b(b){b.removeClass(a.P_FORM_MESSAGE+"--error"),b.removeClass(a.P_FORM_MESSAGE+"--warning"),b.removeClass(a.P_FORM_MESSAGE+"--hint"),b.removeClass(a.P_FORM_MESSAGE+"--success")}function c(c,d){switch(b(c),d.passwordStrength){case"INVALID":c.addClass(a.P_FORM_MESSAGE+"--error");break;case"INSECURE":c.addClass(a.P_FORM_MESSAGE+"--warning");break;case"WEAK":c.addClass(a.P_FORM_MESSAGE+"--hint");break;case"STRONG":c.addClass(a.P_FORM_MESSAGE+"--success")}}function d(a,b){a.find(".user_js_passwordTooltipTitlebar .user_js_passwordTooltipHeadline").hide(),a.find(".user_js_passwordTooltipTitlebar").hide(),"UNVALIDATED"!==b.passwordStrength&&(a.find(".user_js_passwordTooltipTitlebar .user_js_passwordTooltipHeadline[data-passwordstrength="+b.passwordStrength+"]").show(),a.find(".user_js_passwordTooltipTitlebar").show())}function e(a,b){var c;for(c=0;c<b.passedOptionalRules.length;c+=1)a.find(".user_js_passwordOptionalRule_"+b.passedOptionalRules[c].name).addClass("user_meetsCriterion");for(c=0;c<b.failedOptionalRules.length;c+=1)a.find(".user_js_passwordOptionalRule_"+b.failedOptionalRules[c].name).removeClass("user_meetsCriterion")}function f(a,b){a.find('.user_js_mandatoryPasswordRules [class^="user_js_failedMandatoryAndImportantRule_"]').hide(),b.failedMandatoryAndImportantRules.length>0&&a.find(".user_js_failedMandatoryAndImportantRule_"+b.failedMandatoryAndImportantRules[0].name).show()}var g={};return g.updateDataTooltipAttributeOnPasswordInput=function(a,b){var g=$(a.data("tooltip-pos"));d(g,b),c(g,b),e(g,b),f(g,b)},g},o_user.onlinevalidationtooltip.rwd.standardTooltip.viewBuilder=function(a){function b(b){var c;switch(b){case"ERROR":c=a.P_FORM_MESSAGE+"--error";break;case"WARNING":c=a.P_FORM_MESSAGE+"--warning";break;case"INFO":c=a.P_FORM_MESSAGE+"--hint";break;case"SUCCESS":c=a.P_FORM_MESSAGE+"--success"}return c}function c(b){b.removeClass(a.P_FORM_MESSAGE+"--error"),b.removeClass(a.P_FORM_MESSAGE+"--warning"),b.removeClass(a.P_FORM_MESSAGE+"--hint"),b.removeClass(a.P_FORM_MESSAGE+"--success")}var d={};return d.updateTooltipOnStandardInput=function(a,d){var e=$(a.data("tooltip-pos"));d&&d.message?(e.html(d.message.messageText),c(e),e.addClass(b(d.message.severity))):(c(e),e.empty(),e.parent().hide())},d},o_user.onlinevalidationtooltip.rwd.viewBuilder=function(a,b,c,d){function e(a){return a.data(t).split(" ")}function f(a){return e(a)[0]}function g(a){return void 0!==a.attr("data-validation-on-row")&&"true"===a.attr("data-validation-on-row")}function h(c,d){return g(c)?c.closest("."+b.P_FORM_GROUP_ROW).find(a+"[data-"+t+"^='"+d+"'][data-"+t+"~='"+d+"']"):c.closest("form").find(a+"[data-"+t+"^='"+d+"'][data-"+t+"~='"+d+"']")}function i(c){return g(c)?c.closest("."+b.P_FORM_GROUP_ROW).find(a+"[data-"+t+"~='"+f(c)+"']"):c.closest("form").find(a+"[data-"+t+"~='"+f(c)+"']")}function j(a,b){a.each(function(a,c){var d="p_form__"+$(c).prop("tagName").toLowerCase()+"--error";b?$(this).hasClass(d)&&$(this).removeClass(d):$(this).hasClass(d)||$(this).addClass(d)})}function k(a){return("number"===a.get(0).type||"tel"===a.get(0).type)&&!a.get(0).validity.valid}function l(a,b,c){void 0!==c.data(u)?(void 0===a[b]&&(a[b]={}),k(c)?a[b][c.data(u)]="invalid":a[b][c.data(u)]=c.val()):k(c)?a[b]="invalid":a[b]=c.val()}function m(a){a.closest("form").find("."+b.P_FORM_MESSAGE).each(function(c,d){var e="."+b.P_FORM_GROUP_ROW;$(d).closest(e).is(a.closest(e))||$(d).parent("."+b.P_FORM_GROUP_MESSAGE).hide()})}function n(a){"function"==typeof $&&a instanceof $&&(a=a[0]);var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(a,c){var d=$(a.data("tooltip-pos"));c&&!d.is(":empty")?(r.stopUpdateTooltip(a.closest("form")),m(a),d.parent("."+b.P_FORM_GROUP_MESSAGE).siblings("."+b.P_FORM_GROUP_MESSAGE).hide(),d.parent("."+b.P_FORM_GROUP_MESSAGE).show()):d.parent("."+b.P_FORM_GROUP_MESSAGE).hide()}function p(a,b){a.closest("form").data(s)||(o(a,b),r.assertInputVisible(a))}function q(a){var c,d="."+b.P_FORM_GROUP_ROW;return c=a.is(":radio")?a.parents(d).find("label"):a.parents(d).find("label[for='"+a.attr("id")+"']"),c.length||(c=a.parents(d).find("label")),c}var r={},s="suppress-messages",t="validation-validators",u="validation-field";return r.assertInputVisible=function(a){var b=n(a),c=a.is(":focus");!b&&c&&$("html, body").animate({scrollTop:a.offset().top-30},200)},r.assertElemIsInViewport=function(a){n(a)||$("html, body").animate({scrollTop:a.offset().top-30},200)},r.createJsonRequestObjectFromValidationInputs=function(a){var b={};return void 0!==a.data(t)&&$.each(e(a),function(c,d){var e=h(a,d);void 0!==e&&(e.val().length>0||a.is(e))&&i(e).each(function(a,c){l(b,f(e),$(c))})}),JSON.stringify(b)},r.updateValidationStatusOnError=function(a){o(a,!1)},r.validateInputNotEmpty=function(a){var b=q(a),c=0!==a.val().length;j(b,c),j(a,c)},r.sendValidationRequestOnRepeat=function(a,b){if($(a).length>0&&$(b).length>0){var c=$(b).val(),d=$(a).val();if(c.length>=d.length)return!0}},r.updateValidationStatus=function(a,b,e,f){var g=null,i=!1;$.each(a,function(a,b){var e,k=h(f,a);e=q(k),"password"!==a?(j(e,b.ok),j(k,b.ok),d.updateTooltipOnStandardInput(k,b),null!==g&&!i||b.ok||!k.is(f)||(g=k)):(j(e,"INVALID"!==b.passwordStrength),j(k,"INVALID"!==b.passwordStrength),c.updateDataTooltipAttributeOnPasswordInput(k,b),null===g&&(g=k,i=!0))}),null===g&&(g=f),p(g,!0)},r.resetOptionalInputsAndLabels=function(a){j(q(a),!0),j(i(a),!0),d.updateTooltipOnStandardInput(a),o(a,!1)},r.inputsOfSameValidationTypeFilled=function(a){var b=!0;return h(a,f(a)).each(function(c,d){var e=$(d);b!==!0||e.is(a)||e.val()||k(e)||(b=!1)}),b},r.inputsOfSameValidationTypeOptionalAndEmpty=function(a){var b=!1;return h(a,f(a)).each(function(c,d){b!==!1||$(d).val()||"true"!==$(d).attr("data-validation-optional")||k(a)||(b=!0)}),b},r.showTooltip=function(a){o(a,!0)},r.stopUpdateTooltip=function(a){a.data(s,!0)},r.removeSuppressTooltip=function(a){a.closest("form").removeData(s)},r},o_user.onlinevalidationtooltip.rwd.presenterBuilder=function(a,b,c,d){function e(d,e){(void 0===e||e===!0)&&c.removeSuppressTooltip(d),c.inputsOfSameValidationTypeOptionalAndEmpty(d)?c.resetOptionalInputsAndLabels(d):c.inputsOfSameValidationTypeFilled(d)&&b.sendValidationRequest(d,c.createJsonRequestObjectFromValidationInputs(d,a),c.updateValidationStatus,c.updateValidationStatusOnError)}var f={};return f.init=function(){var b="typewatch",f="no-validate-on-empty",g=!0,h=!0;$(document).on("blur","input"+a+"[type!=radio]",function(a){var d=$(this),g=d.data(f)===!0;(!g||g&&""!==d.val())&&(c.removeSuppressTooltip(d),d.data(b,!0),setTimeout(function(){e(d,!1)},100))}),$(document).on("change","select"+a,function(a){var b=$(this);e(b)}),$(document).on("click","input"+a+"[type=radio]",function(a){var b=$(this);e(b)}),$(document).on("focus","input"+a+"[type!=radio]",function(a){var f,i,j,k,l=$(this);l.data(b)===!0&&d(function(a){"passwordRepeat"===l.data("validation-field")?(f=$("input[data-validation-field='password']"),i=$("input[data-validation-field='passwordRepeat']"),(g===!1||c.sendValidationRequestOnRepeat(f,i))&&(e(a),g=!1)):"emailRepeat"===l.data("validation-field")?(j=$("input[data-validation-field='email']"),k=$("input[data-validation-field='emailRepeat']"),(h===!1||c.sendValidationRequestOnRepeat(j,k))&&(e(a),h=!1)):"passwordRepeat"!==l.data("validation-field")&&"emailRepeat"!==l.data("validation-field")&&e(a)},300).registerOnElement(l),c.showTooltip(l),setTimeout(function(){c.assertElemIsInViewport(l)},300)}),$(document).on("focus","input.us_js_localTypeWatchValidation",function(a){var b=$(this);d(function(a){c.validateInputNotEmpty(a)},1).registerOnElement(b)})},f};var USER_ONLINE_VALIDATION_SELECTOR=".us_js_onlineValidation",USER_P_FORM_GROUP_CONSTANTS={P_FORM_MESSAGE:"p_form__message",P_FORM_GROUP_MESSAGE:"p_formGroup__message",P_FORM_GROUP_ROW:"p_formGroup__row"};o_user.onlinevalidationtooltip.service=o_user.onlinevalidationtooltip.serviceBuilder(),o_user.onlinevalidationtooltip.rwd.passwordTooltip.view=o_user.onlinevalidationtooltip.rwd.passwordTooltip.viewBuilder(USER_P_FORM_GROUP_CONSTANTS),o_user.onlinevalidationtooltip.rwd.standardTooltip.view=o_user.onlinevalidationtooltip.rwd.standardTooltip.viewBuilder(USER_P_FORM_GROUP_CONSTANTS),o_user.onlinevalidationtooltip.rwd.view=o_user.onlinevalidationtooltip.rwd.viewBuilder(USER_ONLINE_VALIDATION_SELECTOR,USER_P_FORM_GROUP_CONSTANTS,o_user.onlinevalidationtooltip.rwd.passwordTooltip.view,o_user.onlinevalidationtooltip.rwd.standardTooltip.view,o_user.Tooltip),o_user.onlinevalidationtooltip.rwd.presenter=o_user.onlinevalidationtooltip.rwd.presenterBuilder(USER_ONLINE_VALIDATION_SELECTOR,o_user.onlinevalidationtooltip.service,o_user.onlinevalidationtooltip.rwd.view,o_user.typewatch.presenterBuilder),o_global.eventLoader.onReady(10,function(){o_user.onlinevalidationtooltip.rwd.presenter.init()});var o_user=o_user||{};o_user.addressChooser=o_user.addressChooser||{},o_user.addressChooser.rwd=o_user.addressChooser.rwd||{},o_user.addressChooser.rwd.viewBuilder=function(){function a(a){$(".user_js_street").attr("value",a.data("street")),$(".user_js_houseNumber").attr("value",a.data("housenumber")),$(".user_js_postalCode").attr("value",a.data("postalcode")),$(".user_js_city").attr("value",a.data("city"))}var b={};return b.markAddressOption=function(b){var c=$(this),d="us_addressChooser__option--selected",e=c.find("> input.us_js_addressChooserOptionInput"),f=c;$(".us_js_addressChooserOption").each(function(a,b){$(b).is(c)||$(b).removeClass(d)}),e.prop("checked",!0),f.addClass(d),a(e)},b.getSelectedAddressType=function(){var a=$("input.us_js_addressChooserOptionInput:checked");return a?$("input.us_js_addressChooserOptionInput:checked").data("address-type"):void 0},b},o_user.addressChooser.rwd.presenterBuilder=function(a,b){function c(){var c=a.getSelectedAddressType();c&&b.sendTrackingInformation({user_AddressPicker:"NewDeliveryAddress_"+a.getSelectedAddressType()},"event")}var d={};return d.init=function(){$(document).on("click",".us_js_addressChooserOption",a.markAddressOption),$(document).on("user.event.trackNewDeliveryAddressSuggestedAddressType",c)},d},o_user.addressChooser.rwd.view=o_user.addressChooser.rwd.viewBuilder(),o_user.addressChooser.rwd.presenter=o_user.addressChooser.rwd.presenterBuilder(o_user.addressChooser.rwd.view,o_user.tracking),o_global.eventLoader.onReady(61,function(){o_user.addressChooser.rwd.presenter.init()});var o_user=o_user||{},lhotse=lhotse||{};o_user.common=o_user.common||{},o_user.common.login=o_user.common.login||{},o_user.common.loginArea=o_user.common.loginArea||{},o_user.common.login.getPerformanceMarketingData=function(){var a,b={};return a=$(".exactag.userLoginPM"),b.pt=a.data("pt"),b},lhotse.exactag=lhotse.exactag||{},lhotse.exactag.data=lhotse.exactag.data||{},o_user.common.performanceMarketingCallback=function(){try{lhotse.exactag.register("userLoginPM",o_user.common.login.getPerformanceMarketingData)}catch(a){console.log(a)}},o_user.common.performanceMarketingCallback();var o_user=o_user||{};o_user.counter=o_user.counter||{},o_user.counter.inputLengthBuilder=function(){var a={};return a.updateLengthCounter=function(){var a=$(this),b=a.data("inputlength-count-id-selector"),c=a.data("inputlength-text-id-selector"),d=a.data("inputlength-min-ok-length"),e=a.data("inputlength-max-ok-length"),f=a.val().length;$(b).text(f),f>=d&&e>=f?$(c).css({color:"black"}):$(c).css({color:"#D4021D"})},a.init=function(){$(document).on("keyup change blur",".user_js_countInputLength",a.updateLengthCounter)},a},o_user.counter.inputLength=o_user.counter.inputLengthBuilder(),o_user.counter.inputLength.init();var o_user=o_user||{};o_user.address=o_user.address||{},o_user.address.selector=o_user.address.selector||{},o_user.address.selector.viewBuilder=function(){var a={};return a.registerClickHandler=function(){$(document).on("click","#user_addressListContainer .us_addressBookSelectList .us_addressBookListDataRow",function(){var a=$(this),b=a.find("input").first();b.attr("checked","checked"),$("#user_addressListContainer .us_addressBookSelectList .us_addressBookListDataRow").removeClass("us_addressListItemSelected"),a.addClass("us_addressListItemSelected")}),$(document).on("click","#user_addressListContainer .user_addressBookSelectTable .user_addressBookTableDataRow",function(){var a=$(this),b=a.find("input").first();b.attr("checked","checked"),$("#user_addressListContainer .user_addressBookSelectTable .user_addressBookTableDataRow td").removeClass("selected"),a.find("td").addClass("selected")})},a},o_user.address.selector.serviceBuilder=function(a){var b={},c={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(a){var b,d,e,f,g,h,i,j="",k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)f=c._keyStr.indexOf(a.charAt(k++)),g=c._keyStr.indexOf(a.charAt(k++)),h=c._keyStr.indexOf(a.charAt(k++)),i=c._keyStr.indexOf(a.charAt(k++)),b=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(b),64!=h&&(j+=String.fromCharCode(d)),64!=i&&(j+=String.fromCharCode(e));return j=c._utf8_decode(j)},_utf8_decode:function(a){for(var b="",c=0,d=0,e=0,f=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(e=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&e),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&e)<<6|63&f),c+=3);return b}};return b.getSelectedAddress=function(){var a,b,d;return a=$("#user_addressListContainer .us_addressBookSelectList").find($("input:checked")),null===a||0===a.length?null:(b=a.data("addressdata"),d=c.decode(b),JSON.parse(d))},b.getCreatedAddress=function(a){var b=a.getResponseHeader("X-user-address"),d=null;return null!==b&&(d=JSON.parse(c.decode(b))),d},b.registerTrackingEventHandler=function(){$(document).off("user.event.trackSelectedDeliveryAddress").on("user.event.trackSelectedDeliveryAddress",function(b,c){if(void 0!==c&&void 0!==c.type){var d={user_SelectedDeliveryAddressType:c.type.replace(/ /g,"_")};a.sendTrackingInformation(d,"event")}})},b},o_user.address.selector.view=o_user.address.selector.viewBuilder(),o_user.address.selector.service=o_user.address.selector.serviceBuilder(o_user.tracking),o_global.eventLoader.onReady(99,o_user.address.selector.view.registerClickHandler),o_global.eventLoader.onReady(99,o_user.address.selector.service.registerTrackingEventHandler);var o_user=o_user||{};o_user.common=o_user.common||{},o_user.common.button=o_user.common.button||{},o_user.common.button.viewBuilder=function(){var a={};return a.showSpinner=function(a){a.prop("disabled",!0),a.css("opacity",0),a.siblings(".us_js_spinnerButtonOverlay").show()},a.showButton=function(a){a.prop("disabled",!1),a.css("opacity",1),a.siblings(".us_js_spinnerButtonOverlay").hide()},a},o_user.common.button.presenterBuilder=function(a){function b(a){a.closest("form").submit()}function c(){$(document).on("click",".user_system_rwd .us_js_form_button",function(c){return c.preventDefault(),a.showSpinner($(this)),b($(this)),!1})}var d={};return d.init=function(){c()},d},o_user.common.button.view=o_user.common.button.viewBuilder(),o_user.common.button.presenter=o_user.common.button.presenterBuilder(o_user.common.button.view),o_global.eventLoader.onReady(82,function(){o_user.common.button.presenter.init()});var o_user=o_user||{},o_global=o_global||{};o_user.newsletter=o_user.newsletter||{},o_user.newsletter.snippet=o_user.newsletter.snippet||{},o_global.pali=o_global.pali||{},o_user.newsletter.snippet.serviceBuilder=function(){var a={},b="/user";return a.subscribe=function(a,c,d){$.ajax(b+"/subscribeToNewsletterSnippet",{type:"POST",data:a,success:c,error:d})},a},o_user.newsletter.snippet.viewBuilder=function(a){var b={};return b.showNewsletterLegalText=function(){var b=$("#us_id_newsletterSnippetLegalText");a.isSmall()||a.isMedium()?b.addClass("us_newsletterSnippetLegalTextOpen"):b.addClass("p_expander--decrease")},b.serializeParams=function(){return $("#us_id_newsletterSnippetForm").serializeArray()},b},o_user.newsletter.snippet.presenterBuilder=function(a,b,c,d,e){var f={};return f.triggerSubscribe=function(){a.subscribe(b.serializeParams(),function(a,b,c){var e=c.getResponseHeader("User-Newsletter-Subscribe-Result");$("#us_id_newsletterSnippet").html(a),d.showButton($(".us_js_newsletterSnippetButton")),"ok"===e&&(document.getElementById("us_id_newsletterSnippetEmail").value="",f.handleSubscribeToNewsletterOnSuccess("/user/subscribeToNewsletter/info"))},function(){d.showButton($(".us_js_newsletterSnippetButton"))})},f.handleSubscribeToNewsletterOnSuccess=function(a){$(document).trigger("user.newsletterDoiStarted"),new c({width:"700px",url:a}).open()},f.init=function(){$(document).on("focus","#us_id_newsletterSnippetEmail",function(){e.sendTrackingInformation({user_PermissionNewsletterSnippet_legalText:"shown"},"event"),b.showNewsletterLegalText()}),$(document).on("keypress","#us_id_newsletterSnippetEmail",function(a){return 13===a.keyCode?(f.triggerSubscribe(),d.showSpinner($(".us_js_newsletterSnippetButton")),a.preventDefault(),!1):void 0}),$(document).on("click","#us_id_newsletterSnippetLegalTextExpander",function(){e.sendTrackingInformation({user_PermissionNewsletterSnippet_legalText:"shown"},"event")}),$(document).on("click",".us_js_newsletterSnippetButton",f.triggerSubscribe)},f},o_user.newsletter.snippet.service=o_user.newsletter.snippet.serviceBuilder(),o_user.newsletter.snippet.view=o_user.newsletter.snippet.viewBuilder(o_global.breakpoint),o_user.newsletter.snippet.presenter=o_user.newsletter.snippet.presenterBuilder(o_user.newsletter.snippet.service,o_user.newsletter.snippet.view,o_global.pali.layerBuilder,o_user.common.button.view,o_user.tracking),o_global.eventLoader.onReady(83,function(){o_user.newsletter.snippet.presenter.init()});var o_wishlist=o_wishlist||{};o_wishlist.serverHandler=o_wishlist.serverHandler||{},o_wishlist.serverHandler.ServerHandler=function(){},o_wishlist.serverHandler.ServerHandler.prototype.handleForbidden=function(a){var b=JSON.parse(a);o_wishlist.server.wishlist.redirectTo(b.redirect)},o_wishlist.serverHandler.ServerHandler.prototype.handleStatus=function(a,b){},o_wishlist.serverHandler.ServerHandler.prototype.getErrorMsgFromResponseText=function(a){var b;try{var c=JSON.parse(a);b=c.errorMsg}catch(d){}return b||"Es ist ein Fehler aufgetreten. Bitte versuchen Sie es noch einmal."},o_wishlist.serverHandler.ServerHandler.prototype.handleResponse=function(a){var b=this;a.done(function(a,c,d){b.handleStatus(d.status,a)}),a.fail(function(a){b.handleStatus(a.status,a.responseText)})},o_wishlist.requestHandler=new o_wishlist.serverHandler.ServerHandler;var o_wishlist=o_wishlist||{};o_wishlist.Add2Wishlist=function(){this.$form=$(".wl_js_add2Wishlist"),this.$submit=$("button[type=submit]",this.$form),this.$dropBtn=void 0,this.$varIdInput=$("input[name=variationId]",this.$form),this.varId=this.$varIdInput.val(),this.successMsgClass="wl_add2Wishlist__msg--success",this.errorMsgClass="wl_add2Wishlist__msg--error",this.$form.length&&(this.observeVariationId(),this.layout(),this.$form.submit(this.onSubmit.bind(this)))},o_wishlist.Add2Wishlist.prototype.layout=function(){var a="<i>♥&nbsp;</i>Artikel merken";this.$submit.removeClass("p_btn100--3rd"),this.$submit.addClass("p_btn150--3rd wl_add2Wishlist__submit"),this.$submit.html(a),this.reset();var b=new o_wishlist.serverHandler.LoginStatusServerHandler(this);b.handleResponse(o_wishlist.server.wishlist.getLoginStatus())},o_wishlist.Add2Wishlist.prototype.finishInitialisation=function(a){if(a){var b='<div class="p_dropBtn wl_add2Wishlist__custom"><button type="button" data-url="/order-wishlist/wishlists/ForAddToWishlist" disabled class="p_btn150--3rd p_dropBtn__trigger--textless js_openDropBtn wl_js_add2Wishlist__dropBtn" data-qa="addToWishlistDropBtn"></button></div>',c="wl_add2Wishlist__submitWrapper";this.$submit.wrapAll('<div class="'+c+'" />'),this.$form.find("."+c).before(b),this.$dropBtn=$(".wl_js_add2Wishlist__dropBtn",this.$form),this.registerAddHandler()}this.reset()},o_wishlist.Add2Wishlist.prototype.registerAddHandler=function(){var a=this;$(document).on("click",".wl_js_availableItem",function(){var b=$(this);a.addToWishlist("dropdown",b.attr("data-sanitized-name"))})},o_wishlist.Add2Wishlist.prototype.onSubmit=function(a){a.preventDefault(),this.addToWishlist("button")},o_wishlist.Add2Wishlist.prototype.addToWishlist=function(a,b){var c={order_MerkzettelArtikelHinzufuegenSource:a},d=new o_wishlist.serverHandler.Add2WishlistHandler(b,this);b?d.handleResponse(o_wishlist.server.wishlist.item.addToCustomWishlist(this.varId,b,c)):d.handleResponse(o_wishlist.server.wishlist.item.addToSystemWishlist(this.varId,c)),this.$dropBtn&&o_global.pali.dropBtnHandler.close(this.$dropBtn.parent().data("dropbtn-id"))},o_wishlist.Add2Wishlist.prototype.setMsg=function(a){this.reset(),this.$form.prepend(a)},o_wishlist.Add2Wishlist.prototype.reset=function(){$("."+this.successMsgClass,this.$form).remove(),$("."+this.errorMsgClass,this.$form).remove(),this.toggleSubmit()},o_wishlist.Add2Wishlist.prototype.observeVariationId=function(){var a=this;o_wishlist.attributeObserver(this.$varIdInput,"value",function(b){a.varId=b.newValue,a.reset.bind(a)()})},o_wishlist.Add2Wishlist.prototype.toggleSubmit=function(){this.varId?(this.$submit.prop("disabled",!1),this.$dropBtn&&this.$dropBtn.prop("disabled",!1)):(this.$submit.prop("disabled",!0),this.$dropBtn&&this.$dropBtn.prop("disabled",!0))},o_global.eventLoader.onLoad(15,function(){o_wishlist.add2Wishlist=new o_wishlist.Add2Wishlist});var o_wishlist=o_wishlist||{};o_wishlist.serverHandler=o_wishlist.serverHandler||{},o_wishlist.serverHandler.Add2WishlistHandler=function(a,b){this.sanitizedName=a,this.add2Wishlist=b},o_wishlist.serverHandler.Add2WishlistHandler.prototype=new o_wishlist.serverHandler.ServerHandler,o_wishlist.serverHandler.Add2WishlistHandler.constructor=o_wishlist.serverHandler.Add2WishlistHandler,o_wishlist.serverHandler.Add2WishlistHandler.prototype.handleError=function(a){var b=$('<div class="'+this.add2Wishlist.errorMsgClass+'"></div>'),c=$("<span>"+a+"</span>");b.append(c),this.add2Wishlist.setMsg(b)},o_wishlist.serverHandler.Add2WishlistHandler.prototype.createSuccessText=function(a,b){return $('<span>Auf <a href="'+a+'" class="ts-link" data-ts-link=\''+JSON.stringify({order_MerkzettelAufruf:"addToWishlist_detailView"})+"'>"+b+"</a> gespeichert</span>")},o_wishlist.serverHandler.Add2WishlistHandler.prototype.trackExactagData=function(a){lhotse&&lhotse.exactag&&(lhotse.exactag.data.pt="add_to_wishlist",lhotse.exactag.data.mp=a.articleNumber,lhotse.exactag.data.mv=a.variationId,lhotse.exactag.track())},o_wishlist.serverHandler.Add2WishlistHandler.prototype.handleSuccess=function(a){$(document).trigger("wishlist.changed");var b,c=JSON.parse(a),d=$('<div class="'+this.add2Wishlist.successMsgClass+'" data-qa="add2WishlistSuccessMessage" ></div>'),e=$('<i class="p_iconFont">!</i>');b=this.sanitizedName?this.createSuccessText("/order-wishlist/wishlist/custom/"+this.sanitizedName,c.wishlistName):this.createSuccessText("/order-wishlist/wishlist/system","Mein Merkzettel"),d.append(e).append(b),this.add2Wishlist.setMsg(d),this.trackExactagData(c)},o_wishlist.serverHandler.Add2WishlistHandler.prototype.handleStatus=function(a,b){switch(a){case 200:this.handleSuccess(b);break;case 403:this.handleForbidden(b);break;case 400:default:this.handleError(this.getErrorMsgFromResponseText(b))}};var o_wishlist=o_wishlist||{};o_wishlist.serverHandler=o_wishlist.serverHandler||{},o_wishlist.serverHandler.LoginStatusServerHandler=function(a){this.add2Wishlist=a},o_wishlist.serverHandler.LoginStatusServerHandler.prototype=new o_wishlist.serverHandler.ServerHandler,o_wishlist.serverHandler.LoginStatusServerHandler.constructor=o_wishlist.serverHandler.LoginStatusServerHandler,o_wishlist.serverHandler.LoginStatusServerHandler.prototype.handleStatus=function(a,b){var c=!1;if(200===a)try{var d=JSON.parse(b);c="identified"===d.loginStatus}catch(e){}this.add2Wishlist.finishInitialisation(c)};var o_wishlist=o_wishlist||{};o_wishlist.messages=o_wishlist.messages||{},o_wishlist.messages.status=o_wishlist.messages.status||{},o_wishlist.messages.status.SUCCESS="success",o_wishlist.messages.status.ERROR="error",o_wishlist.messages.status.INFO="info",o_wishlist.messages.Message=function(a,b,c,d,e){this.status=a,this.content=b,this.contentContainerSelector=c,this.containerClasses=d,this.displayCallback=e},o_wishlist.messages.Message.fromJSON=function(a){return new o_wishlist.messages.Message(a.status,a.content,a.contentContainerSelector,a.containerClasses,a.displayCallback)},o_wishlist.messages.Message.createWishlistCreatedMessage=function(a,b){return new o_wishlist.messages.Message(b,a,b===o_wishlist.messages.status.SUCCESS?".wl_js_wishlistCreatedMessage":".wl_js_addWishlistForm__errorMessage",b===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistCreatedMessage":"p_font100 wl_addWishlistForm__errorMessage")},o_wishlist.messages.Message.createWishlistDeletedMessage=function(a,b){return new o_wishlist.messages.Message(b,a,".wl_js_wishlistDeletedMessage",b===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistDeletedMessage":"p_message p_message--error wl_wishlistDeletedMessage")},o_wishlist.messages.Message.createWishlistRenamedMessage=function(a,b){return new o_wishlist.messages.Message(b,a,b===o_wishlist.messages.status.SUCCESS?".wl_js_wishlistRenamedMessage":".wl_js_renameWishlistForm__errorMessage",b===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistRenamedMessage":"p_font100 wl_renameWishlistForm__errorMessage")},o_wishlist.messages.Message.createWishlistMovedMessage=function(a,b,c,d){return new o_wishlist.messages.Message(b,a,b===o_wishlist.messages.status.SUCCESS?".wl_js_item[data-variationid="+c+"] .wl_item__contentContainer":".wl_js_item[data-variationid="+c+"] .wl_ItemMovedErrorMessage",b===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_itemMovedSuccessMessage":"",void 0!==d?d:function(){})},o_wishlist.messages.Message.createWishlistItemDeletedMessage=function(a,b,c){return new o_wishlist.messages.Message(b,a,".wl_js_item[data-variationid="+c+"] .wl_ItemMovedErrorMessage","p_message p_message--error")},o_wishlist.messages.Message.createItemNoteMessage=function(a,b){return new o_wishlist.messages.Message(o_wishlist.messages.status.ERROR,a,".wl_js_item[data-variationid="+b+"] .wl_js_addNoteForm__errorMessage","wl_addNoteForm__errorMessage")},o_wishlist.messages.Message.createItemMessage=function(a,b,c){function d(a){switch(a){case o_wishlist.messages.status.SUCCESS:return"p_message p_message--success wl_item__message";case o_wishlist.messages.status.ERROR:default:return"p_message p_message--error wl_item__message"}}return new o_wishlist.messages.Message(b,a,".wl_js_item[data-variationid="+c+"] .wl_js_itemMessage",d(b),o_wishlist.wishlist.refresh.bind(o_wishlist.wishlist))};var o_wishlist=o_wishlist||{};o_wishlist.messages=o_wishlist.messages||{},o_wishlist.messages.render=function(a){this.renderWithTimeout(a,3e3)},o_wishlist.messages.renderWithTimeout=function(a,b){var c=$(a.contentContainerSelector),d=$('<div class="wl_message">');if(d.addClass(a.containerClasses),a.status===o_wishlist.messages.status.SUCCESS){var e='<button type="button" class="p_message__button js_message__close">x</button>';d.append(e)}var f='<span class="wl_message__content">'+a.content+"</span>";d.append(f),d.show(),c.html(d),c.show(),o_wishlist.wishlist&&o_wishlist.wishlist.refresh&&o_wishlist.wishlist.refresh(),a.status===o_wishlist.messages.status.SUCCESS&&setTimeout(function(){var b=void 0!==a.displayCallback?a.displayCallback:function(){};d.hide("slow",b)},b)};var o_wishlist=o_wishlist||{};o_wishlist.messages=o_wishlist.messages||{},o_wishlist.messages.MessageStorageHandler=function(){this.messagesKey="notificationMessages",this.storage=new o_global.Storage(window.sessionStorage)},o_wishlist.messages.MessageStorageHandler.prototype.save=function(a){if(a instanceof o_wishlist.messages.Message){var b=this.readAll()||[];b.push(a),this.storage.setItem(this.messagesKey,JSON.stringify(b))}},o_wishlist.messages.MessageStorageHandler.prototype.readAll=function(){var a,b=this.storage.getItem(this.messagesKey);if(b){var c=JSON.parse(b);a=c.map(function(a){return o_wishlist.messages.Message.fromJSON(a)})}return a?a:[]},o_wishlist.messages.MessageStorageHandler.prototype.renderAllInStorage=function(){this.readAll().each(function(a){o_wishlist.messages.render(a)}),this.storage.removeItem(this.messagesKey)},o_wishlist.messages.storageHandler=new o_wishlist.messages.MessageStorageHandler;var o_wishlist=o_wishlist||{};o_wishlist.MiniWishlist=function(){function a(a){d&&(a?c.className=c.className.replace(f,""):c.className=c.className+" "+e)}function b(){d&&$.get(c.getAttribute("data-loadurl")+"?"+o_tracking.bct.getMergeParameters()).done(function(b){c.innerHTML=b.amount,a(b.amount>0)})}var c=document.getElementById("wl_mini_amount"),d=null!=c,e="wl_mini__badge--empty",f=new RegExp("\\s?"+e,"g");d&&($(document).on("wishlist.changed",b),window.setTimeout(b,10))},o_global.eventLoader.onLoad(50,o_wishlist.MiniWishlist),document.cookie="experiment=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=.otto.de;path=/",document.cookie="onex=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=www.otto.de;path=/",document.cookie="onex=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=.www.otto.de;path=/",document.cookie="onex=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=.otto.de;path=/",document.cookie="onex=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",
document.cookie="re:BLOG-fangate-shown=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=www.otto.de;path=/",document.cookie="re:BLOG-fangate-shown=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/";var o_wishlist=o_wishlist||{};o_wishlist.server={},o_wishlist.server.wishlist={},o_wishlist.serverHandler=o_wishlist.serverHandler||{},o_wishlist.server.wishlist.redirectTo=function(a){window.location.assign(a)},o_wishlist.server.wishlist.switchView=function(a,b){var c;return c=b?"/order-wishlist/wishlist/custom/"+b+"/viewType/"+a:"/order-wishlist/wishlist/system/viewType/"+a,$.post(c)},o_wishlist.server.wishlist.getLoginStatus=function(){return $.ajax({url:"/order-wishlist/loginstatus"})},o_wishlist.server.wishlist.deleteCustomWishlist=function(a){return $.ajax({url:"/order-wishlist/wishlist/custom/"+a+"/delete",type:"POST"})},o_wishlist.server.wishlist.addCustomWishlist=function(a,b){return $.ajax({url:"/order-wishlist/wishlist/custom",data:{wishlistName:a},headers:o_wishlist.server.wishlist.buildTrackingHeader(b),type:"POST"})},o_wishlist.server.wishlist.renameCustomWishlist=function(a,b){return $.ajax({url:"/order-wishlist/wishlist/custom/"+a+"/rename",data:{newWishlistName:b},type:"POST"})},o_wishlist.server.wishlist.loadAvailableWishlists=function(a,b){return $.get(o_wishlist.WISHLISTS_URL+"/"+a+"?wishlist="+b)},o_wishlist.server.wishlist.buildTrackingHeader=function(a){var b={};return b.wishlistctd=encodeURI(JSON.stringify(a)),b},o_wishlist.server.wishlist.getVariationsFromBasket=function(){return $.ajax({url:"/order/basket/variationIds",method:"GET"})},o_wishlist.server.wishlist.item={},o_wishlist.server.wishlist.item.addToCustomWishlist=function(a,b,c){return $.ajax({url:"/order-wishlist/wishlist/custom/"+b+"/items",method:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(c),data:{variationId:a,redirectAfterLoginUrl:window.location.href}})},o_wishlist.server.wishlist.item.addToSystemWishlist=function(a,b){return $.ajax({url:"/order-wishlist/wishlist/system/items",method:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(b),data:{variationId:a}})},o_wishlist.server.wishlist.item.deleteFromSystemWishlist=function(a,b){return $.ajax({url:"/order-wishlist/wishlist/system/items/"+a+"/delete",type:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(b)})},o_wishlist.server.wishlist.item.deleteFromCustomWishlist=function(a,b,c){return $.ajax({url:"/order-wishlist/wishlist/custom/"+b+"/items/"+a+"/delete",type:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(c)})},o_wishlist.server.wishlist.item.move=function(a,b,c){var d={};return""!==a&&void 0!==a&&(d.sanitizedName=a),$.ajax({url:c+"/items/"+b+"/move",method:"POST",data:d})},o_wishlist.server.wishlist.item.setNote=function(a,b,c){var d,e;return e={noteText:a},d=c?"/order-wishlist/wishlist/custom/"+c+"/items/"+b+"/setNote":"/order-wishlist/wishlist/system/items/"+b+"/setNote",$.ajax({url:d,method:"POST",data:e})},o_wishlist.server.wishlist.getBaseUrl=function(a){return a?"/order-wishlist/wishlist/custom/"+a:"/order-wishlist/wishlist/system"},o_wishlist.server.wishlist.item.getBaseUrl=function(a,b){return o_wishlist.server.wishlist.getBaseUrl(b)+"/items/"+a};var o_wishlist=o_wishlist||{};o_wishlist.Toggles=function(){var a,b={};return b.enabled=function(b){return $.inArray(b,a)>-1},b.update=function(){a=($(".wl_toggles").data("toggles")||"").split(",")},b.update(),b}();var o_wishlist=o_wishlist||{};o_wishlist.attributeObserver=function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(b){var c=document.createElement("p"),d=!1;return a(c,b,function(){d=!0}),c.setAttribute("id","target"),d}function c(a,b){a&&(b.oldValue=this.getAttribute("data-attr-old-value-"+b.attributeName),b.newValue=this.getAttribute(b.attributeName),this.setAttribute("data-attr-old-value-"+b.attributeName,b.newValue))}function d(a){var b,c=0,d=a.attributes.length;for(c;d>c;c++)b=a.attributes.item(c),a.setAttribute("data-attr-old-value-"+b.nodeName,b.value)}function e(e,g,h){var i={trackValues:!0,callback:h},j=0,k=e.length;if(k)if(f)for(var l={subtree:!1,attributes:!0,attributeOldValue:i.trackValues},m=new f(function(a){a.forEach(function(a){var b=a.target;a.attributeName===g&&(i.trackValues&&(a.newValue=b.getAttribute(a.attributeName)),i.callback.call(b,a))})});k>j;)m.observe(e[j],l),j++;else if(b("propertychange"))for(;k>j;)i.trackValues&&d(e[j]),a(e[j],"propertychange",function(a){a.attributeName=window.event.propertyName,a.attributeName===g&&(c.call(a.srcElement,i.trackValues,a),i.callback.call(a.srcElement,a))}),j++;else if(b("DOMAttrModified"))for(;k>j;)a(e[j],"DOMAttrModified",function(a){a.attributeName=a.attrName,a.attributeName===g&&(a.oldValue=a.prevValue,i.callback.call(this,a))}),j++;return e}var f=window.MutationObserver||window.WebKitMutationObserver;return e}();
//# sourceMappingURL=https://assets.cdn-otto.de/static/all/js/c794931adeabf55a/public_critical_min.js.map